(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var yd={exports:{}},fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function aS(){if(T_)return fl;T_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:c}}return fl.Fragment=t,fl.jsx=i,fl.jsxs=i,fl}var A_;function oS(){return A_||(A_=1,yd.exports=aS()),yd.exports}var kt=oS(),_d={exports:{}},yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function lS(){if(S_)return yt;S_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),U=Symbol.iterator;function Q(O){return O===null||typeof O!="object"?null:(O=U&&O[U]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,Z={};function ht(O,Y,tt){this.props=O,this.context=Y,this.refs=Z,this.updater=tt||J}ht.prototype.isReactComponent={},ht.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},ht.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function vt(){}vt.prototype=ht.prototype;function dt(O,Y,tt){this.props=O,this.context=Y,this.refs=Z,this.updater=tt||J}var Qt=dt.prototype=new vt;Qt.constructor=dt,et(Qt,ht.prototype),Qt.isPureReactComponent=!0;var Wt=Array.isArray;function Ut(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(O,Y,tt){var rt=tt.ref;return{$$typeof:a,type:O,key:Y,ref:rt!==void 0?rt:null,props:tt}}function V(O,Y){return I(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function L(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(tt){return Y[tt]})}var R=/\/+/g;function ie(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):Y.toString(36)}function Ie(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ut,Ut):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Y,tt,rt,gt){var At=typeof O;(At==="undefined"||At==="boolean")&&(O=null);var Vt=!1;if(O===null)Vt=!0;else switch(At){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(O.$$typeof){case a:case t:Vt=!0;break;case A:return Vt=O._init,H(Vt(O._payload),Y,tt,rt,gt)}}if(Vt)return gt=gt(O),Vt=rt===""?"."+ie(O,0):rt,Wt(gt)?(tt="",Vt!=null&&(tt=Vt.replace(R,"$&/")+"/"),H(gt,Y,tt,"",function(Jr){return Jr})):gt!=null&&(N(gt)&&(gt=V(gt,tt+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(R,"$&/")+"/")+Vt)),Y.push(gt)),1;Vt=0;var Ce=rt===""?".":rt+":";if(Wt(O))for(var re=0;re<O.length;re++)rt=O[re],At=Ce+ie(rt,re),Vt+=H(rt,Y,tt,At,gt);else if(re=Q(O),typeof re=="function")for(O=re.call(O),re=0;!(rt=O.next()).done;)rt=rt.value,At=Ce+ie(rt,re++),Vt+=H(rt,Y,tt,At,gt);else if(At==="object"){if(typeof O.then=="function")return H(Ie(O),Y,tt,rt,gt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function W(O,Y,tt){if(O==null)return O;var rt=[],gt=0;return H(O,rt,"","",function(At){return Y.call(tt,At,gt++)}),rt}function ut(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(tt){(O._status===0||O._status===-1)&&(O._status=1,O._result=tt)},function(tt){(O._status===0||O._status===-1)&&(O._status=2,O._result=tt)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Lt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},jt={map:W,forEach:function(O,Y,tt){W(O,function(){Y.apply(this,arguments)},tt)},count:function(O){var Y=0;return W(O,function(){Y++}),Y},toArray:function(O){return W(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return yt.Activity=S,yt.Children=jt,yt.Component=ht,yt.Fragment=i,yt.Profiler=l,yt.PureComponent=dt,yt.StrictMode=s,yt.Suspense=_,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,yt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},yt.cache=function(O){return function(){return O.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(O,Y,tt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=et({},O.props),gt=O.key;if(Y!=null)for(At in Y.key!==void 0&&(gt=""+Y.key),Y)!b.call(Y,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Y.ref===void 0||(rt[At]=Y[At]);var At=arguments.length-2;if(At===1)rt.children=tt;else if(1<At){for(var Vt=Array(At),Ce=0;Ce<At;Ce++)Vt[Ce]=arguments[Ce+2];rt.children=Vt}return I(O.type,gt,rt)},yt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},yt.createElement=function(O,Y,tt){var rt,gt={},At=null;if(Y!=null)for(rt in Y.key!==void 0&&(At=""+Y.key),Y)b.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=Y[rt]);var Vt=arguments.length-2;if(Vt===1)gt.children=tt;else if(1<Vt){for(var Ce=Array(Vt),re=0;re<Vt;re++)Ce[re]=arguments[re+2];gt.children=Ce}if(O&&O.defaultProps)for(rt in Vt=O.defaultProps,Vt)gt[rt]===void 0&&(gt[rt]=Vt[rt]);return I(O,At,gt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(O){return{$$typeof:p,render:O}},yt.isValidElement=N,yt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ut}},yt.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},yt.startTransition=function(O){var Y=C.T,tt={};C.T=tt;try{var rt=O(),gt=C.S;gt!==null&&gt(tt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ut,Lt)}catch(At){Lt(At)}finally{Y!==null&&tt.types!==null&&(Y.types=tt.types),C.T=Y}},yt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},yt.use=function(O){return C.H.use(O)},yt.useActionState=function(O,Y,tt){return C.H.useActionState(O,Y,tt)},yt.useCallback=function(O,Y){return C.H.useCallback(O,Y)},yt.useContext=function(O){return C.H.useContext(O)},yt.useDebugValue=function(){},yt.useDeferredValue=function(O,Y){return C.H.useDeferredValue(O,Y)},yt.useEffect=function(O,Y){return C.H.useEffect(O,Y)},yt.useEffectEvent=function(O){return C.H.useEffectEvent(O)},yt.useId=function(){return C.H.useId()},yt.useImperativeHandle=function(O,Y,tt){return C.H.useImperativeHandle(O,Y,tt)},yt.useInsertionEffect=function(O,Y){return C.H.useInsertionEffect(O,Y)},yt.useLayoutEffect=function(O,Y){return C.H.useLayoutEffect(O,Y)},yt.useMemo=function(O,Y){return C.H.useMemo(O,Y)},yt.useOptimistic=function(O,Y){return C.H.useOptimistic(O,Y)},yt.useReducer=function(O,Y,tt){return C.H.useReducer(O,Y,tt)},yt.useRef=function(O){return C.H.useRef(O)},yt.useState=function(O){return C.H.useState(O)},yt.useSyncExternalStore=function(O,Y,tt){return C.H.useSyncExternalStore(O,Y,tt)},yt.useTransition=function(){return C.H.useTransition()},yt.version="19.2.0",yt}var b_;function am(){return b_||(b_=1,_d.exports=lS()),_d.exports}var Vn=am(),vd={exports:{}},dl={},Ed={exports:{}},Td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function uS(){return R_||(R_=1,(function(a){function t(H,W){var ut=H.length;H.push(W);t:for(;0<ut;){var Lt=ut-1>>>1,jt=H[Lt];if(0<l(jt,W))H[Lt]=W,H[ut]=jt,ut=Lt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var W=H[0],ut=H.pop();if(ut!==W){H[0]=ut;t:for(var Lt=0,jt=H.length,O=jt>>>1;Lt<O;){var Y=2*(Lt+1)-1,tt=H[Y],rt=Y+1,gt=H[rt];if(0>l(tt,ut))rt<jt&&0>l(gt,tt)?(H[Lt]=gt,H[rt]=ut,Lt=rt):(H[Lt]=tt,H[Y]=ut,Lt=Y);else if(rt<jt&&0>l(gt,ut))H[Lt]=gt,H[rt]=ut,Lt=rt;else break t}}return W}function l(H,W){var ut=H.sortIndex-W.sortIndex;return ut!==0?ut:H.id-W.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,S=null,U=3,Q=!1,J=!1,et=!1,Z=!1,ht=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Qt(H){for(var W=i(y);W!==null;){if(W.callback===null)s(y);else if(W.startTime<=H)s(y),W.sortIndex=W.expirationTime,t(_,W);else break;W=i(y)}}function Wt(H){if(et=!1,Qt(H),!J)if(i(_)!==null)J=!0,Ut||(Ut=!0,L());else{var W=i(y);W!==null&&Ie(Wt,W.startTime-H)}}var Ut=!1,C=-1,b=5,I=-1;function V(){return Z?!0:!(a.unstable_now()-I<b)}function N(){if(Z=!1,Ut){var H=a.unstable_now();I=H;var W=!0;try{t:{J=!1,et&&(et=!1,vt(C),C=-1),Q=!0;var ut=U;try{e:{for(Qt(H),S=i(_);S!==null&&!(S.expirationTime>H&&V());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,U=S.priorityLevel;var jt=Lt(S.expirationTime<=H);if(H=a.unstable_now(),typeof jt=="function"){S.callback=jt,Qt(H),W=!0;break e}S===i(_)&&s(_),Qt(H)}else s(_);S=i(_)}if(S!==null)W=!0;else{var O=i(y);O!==null&&Ie(Wt,O.startTime-H),W=!1}}break t}finally{S=null,U=ut,Q=!1}W=void 0}}finally{W?L():Ut=!1}}}var L;if(typeof dt=="function")L=function(){dt(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ie=R.port2;R.port1.onmessage=N,L=function(){ie.postMessage(null)}}else L=function(){ht(N,0)};function Ie(H,W){C=ht(function(){H(a.unstable_now())},W)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return U},a.unstable_next=function(H){switch(U){case 1:case 2:case 3:var W=3;break;default:W=U}var ut=U;U=W;try{return H()}finally{U=ut}},a.unstable_requestPaint=function(){Z=!0},a.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=U;U=H;try{return W()}finally{U=ut}},a.unstable_scheduleCallback=function(H,W,ut){var Lt=a.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Lt+ut:Lt):ut=Lt,H){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=ut+jt,H={id:A++,callback:W,priorityLevel:H,startTime:ut,expirationTime:jt,sortIndex:-1},ut>Lt?(H.sortIndex=ut,t(y,H),i(_)===null&&H===i(y)&&(et?(vt(C),C=-1):et=!0,Ie(Wt,ut-Lt))):(H.sortIndex=jt,t(_,H),J||Q||(J=!0,Ut||(Ut=!0,L()))),H},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(H){var W=U;return function(){var ut=U;U=W;try{return H.apply(this,arguments)}finally{U=ut}}}})(Td)),Td}var w_;function cS(){return w_||(w_=1,Ed.exports=uS()),Ed.exports}var Ad={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function hS(){if(I_)return Qe;I_=1;var a=am();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},Qe.flushSync=function(_){var y=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=y,s.p=A,s.d.f()}},Qe.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(_,y))},Qe.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Qe.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin),U=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?s.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:U,fetchPriority:Q}):A==="script"&&s.d.X(_,{crossOrigin:S,integrity:U,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(_)},Qe.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin);s.d.L(_,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);s.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(_)},Qe.requestFormReset=function(_){s.d.r(_)},Qe.unstable_batchedUpdates=function(_,y){return _(y)},Qe.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.0",Qe}var C_;function fS(){if(C_)return Ad.exports;C_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ad.exports=hS(),Ad.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function dS(){if(D_)return dl;D_=1;var a=cS(),t=am(),i=fS();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,U=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Qt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ht:return"Profiler";case Z:return"StrictMode";case Wt:return"Suspense";case Ut:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case dt:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case Qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var Ie=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Lt=[],jt=-1;function O(e){return{current:e}}function Y(e){0>jt||(e.current=Lt[jt],Lt[jt]=null,jt--)}function tt(e,n){jt++,Lt[jt]=e.current,e.current=n}var rt=O(null),gt=O(null),At=O(null),Vt=O(null);function Ce(e,n){switch(tt(At,n),tt(gt,e),tt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Gy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Gy(n),e=Fy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),tt(rt,e)}function re(){Y(rt),Y(gt),Y(At)}function Jr(e){e.memoizedState!==null&&tt(Vt,e);var n=rt.current,r=Fy(n,e.type);n!==r&&(tt(gt,e),tt(rt,r))}function Fs(e){gt.current===e&&(Y(rt),Y(gt)),Vt.current===e&&(Y(Vt),ll._currentValue=ut)}var Qs,Ys;function Jn(e){if(Qs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Qs=n&&n[1]||"",Ys=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qs+e+Ys}var oo=!1;function Wr(e,n){if(!e||oo)return"";oo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var z=q}Reflect.construct(e,[],F)}else{try{F.call()}catch(q){z=q}e.call(F.prototype)}}else{try{throw Error()}catch(q){z=q}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var w=g.split(`
`),k=E.split(`
`);for(h=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===w.length||h===k.length)for(o=w.length-1,h=k.length-1;1<=o&&0<=h&&w[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(w[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||w[o]!==k[h]){var j=`
`+w[o].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=o&&0<=h);break}}}finally{oo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Jn(r):""}function lo(e,n){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return Wr(e.type,!1);case 11:return Wr(e.type.render,!1);case 1:return Wr(e.type,!0);case 31:return Jn("Activity");default:return""}}function uo(e){try{var n="",r=null;do n+=lo(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,De=a.unstable_scheduleCallback,nr=a.unstable_cancelCallback,_h=a.unstable_shouldYield,Fl=a.unstable_requestPaint,Ze=a.unstable_now,ts=a.unstable_getCurrentPriorityLevel,co=a.unstable_ImmediatePriority,ho=a.unstable_UserBlockingPriority,ir=a.unstable_NormalPriority,vh=a.unstable_LowPriority,Ql=a.unstable_IdlePriority,Yl=a.log,Kl=a.unstable_setDisableYieldValue,Ln=null,Pe=null;function vn(e){if(typeof Yl=="function"&&Kl(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Ln,e)}catch{}}var ce=Math.clz32?Math.clz32:$l,Xl=Math.log,Ks=Math.LN2;function $l(e){return e>>>=0,e===0?32:31-(Xl(e)/Ks|0)|0}var Wn=256,es=262144,pe=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ti(o):(g&=E,g!==0?h=ti(g):r||(r=E&~e,r!==0&&(h=ti(r))))):(E=o&~f,E!==0?h=ti(E):g!==0?h=ti(g):r||(r=o&~e,r!==0&&(h=ti(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function xn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Eh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zl(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function ni(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ns(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Th(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,k=e.hiddenUpdates;for(r=g&~r;0<r;){var j=31-ce(r),F=1<<j;E[j]=0,w[j]=-1;var z=k[j];if(z!==null)for(k[j]=null,j=0;j<z.length;j++){var q=z[j];q!==null&&(q.lane&=-536870913)}r&=~F}o!==0&&is(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function is(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function fo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ce(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function mo(e,n){var r=n&-n;return r=(r&42)!==0?1:rs(r),(r&(e.suspendedLanes|n))!==0?0:r}function rs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ci(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Jl(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:m_(e.type))}function Pn(e,n){var r=W.p;try{return W.p=e,n()}finally{W.p=r}}var kn=Math.random().toString(36).slice(2),ye="__reactFiber$"+kn,Me="__reactProps$"+kn,ii="__reactContainer$"+kn,Xs="__reactEvents$"+kn,Ah="__reactListeners$"+kn,Wl="__reactHandles$"+kn,tu="__reactResources$"+kn,ri="__reactMarker$"+kn;function $s(e){delete e[ye],delete e[Me],delete e[Xs],delete e[Ah],delete e[Wl]}function si(e){var n=e[ye];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ii]||r[ye]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Jy(e);e!==null;){if(r=e[ye])return r;e=Jy(e)}return n}e=r,r=e.parentNode}return null}function En(e){if(e=e[ye]||e[ii]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function cn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function ai(e){var n=e[tu];return n||(n=e[tu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[ri]=!0}var go=new Set,po={};function oi(e,n){li(e,n),li(e+"Capture",n)}function li(e,n){for(po[e]=n,e=0;e<n.length;e++)go.add(n[e])}var yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_o={},vo={};function eu(e){return ge.call(vo,e)?!0:ge.call(_o,e)?!1:yo.test(e)?vo[e]=!0:(_o[e]=!0,!1)}function Zs(e,n,r){if(eu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function hn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function ve(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Eo(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ht(e){if(!e._valueTracker){var n=rr(e)?"checked":"value";e._valueTracker=Eo(e,n,""+e[n])}}function ss(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=rr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var as=/[\n"\\]/g;function tn(e){return e.replace(as,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Js(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?To(e,g,Ue(n)):r!=null?To(e,g,Ue(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function nu(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ht(e);return}r=r!=null?""+Ue(r):"",n=n!=null?""+Ue(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ht(e)}function To(e,n,r){n==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function sr(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ue(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function iu(e,n,r){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ue(r):""}function ar(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(Ie(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ue(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Ht(e)}function en(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ao(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||ru.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function So(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Ao(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ao(e,f,n[f])}function Ws(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ta(e){return or.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var bo=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lr=null,ci=null;function os(e){var n=En(e);if(n&&(e=n.stateNode)){var r=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(Js(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Me]||null;if(!h)throw Error(s(90));Js(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&ss(o)}break t;case"textarea":iu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&sr(e,!!r.multiple,n,!1)}}}var ea=!1;function ur(e,n,r){if(ea)return e(n,r);ea=!0;try{var o=e(n);return o}finally{if(ea=!1,(lr!==null||ci!==null)&&(Ju(),lr&&(n=lr,e=ci,ci=lr=null,os(n),e)))for(n=0;n<e.length;n++)os(e[n])}}function Bn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Me]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ls=!1;if(An)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){ls=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{ls=!1}var hi=null,Ro=null,us=null;function wo(){if(us)return us;var e,n=Ro,r=n.length,o,h="value"in hi?hi.value:hi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return us=h.slice(e,1<o?1-o:void 0)}function cs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function qn(){return!1}function ke(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:qn,this.isPropagationStopped=qn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=ke(Ni),cr=S({},Ni,{view:0,detail:0}),Io=ke(cr),hr,na,di,ia=S({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(hr=e.screenX-di.screenX,na=e.screenY-di.screenY):na=hr=0,di=e),hr)},movementY:function(e){return"movementY"in e?e.movementY:na}}),Co=ke(ia),hs=S({},ia,{dataTransfer:0}),au=ke(hs),ou=S({},cr,{relatedTarget:0}),fs=ke(ou),Do=S({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),lu=ke(Do),ra=S({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uu=ke(ra),cu=S({},Ni,{data:0}),mi=ke(cu),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=du[e])?!!n[e]:!1}function fr(){return mu}var Je=S({},cr,{key:function(e){if(e.key){var n=hu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return e.type==="keypress"?cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gu=ke(Je),pu=S({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=ke(pu),u=S({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),m=ke(u),v=S({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ke(v),x=S({},ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ke(x),$=S({},Ni,{newState:0,oldState:0}),Et=ke($),he=[9,13,27,32],zt=An&&"CompositionEvent"in window,se=null;An&&"documentMode"in document&&(se=document.documentMode);var Sn=An&&"TextEvent"in window&&!se,gi=An&&(!zt||se&&8<se&&11>=se),jn=" ",Hn=!1;function ds(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var aa=!1;function N0(e,n){switch(e){case"compositionend":return sa(n);case"keypress":return n.which!==32?null:(Hn=!0,jn);case"textInput":return e=n.data,e===jn&&Hn?null:e;default:return null}}function O0(e,n){if(aa)return e==="compositionend"||!zt&&ds(e,n)?(e=wo(),us=Ro=hi=null,aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var V0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!V0[e.type]:n==="textarea"}function ng(e,n,r,o){lr?ci?ci.push(o):ci=[o]:lr=o,n=sc(n,"onChange"),0<n.length&&(r=new fi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var No=null,Oo=null;function M0(e){ky(e,0)}function yu(e){var n=cn(e);if(ss(n))return e}function ig(e,n){if(e==="change")return n}var rg=!1;if(An){var Sh;if(An){var bh="oninput"in document;if(!bh){var sg=document.createElement("div");sg.setAttribute("oninput","return;"),bh=typeof sg.oninput=="function"}Sh=bh}else Sh=!1;rg=Sh&&(!document.documentMode||9<document.documentMode)}function ag(){No&&(No.detachEvent("onpropertychange",og),Oo=No=null)}function og(e){if(e.propertyName==="value"&&yu(Oo)){var n=[];ng(n,Oo,e,Tn(e)),ur(M0,n)}}function U0(e,n,r){e==="focusin"?(ag(),No=n,Oo=r,No.attachEvent("onpropertychange",og)):e==="focusout"&&ag()}function L0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yu(Oo)}function x0(e,n){if(e==="click")return yu(n)}function P0(e,n){if(e==="input"||e==="change")return yu(n)}function k0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:k0;function Vo(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!ge.call(n,h)||!fn(e[h],n[h]))return!1}return!0}function lg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ug(e,n){var r=lg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=lg(r)}}function cg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?cg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function hg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ui(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ui(e.document)}return n}function Rh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var z0=An&&"documentMode"in document&&11>=document.documentMode,oa=null,wh=null,Mo=null,Ih=!1;function fg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ih||oa==null||oa!==ui(o)||(o=oa,"selectionStart"in o&&Rh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Mo&&Vo(Mo,o)||(Mo=o,o=sc(wh,"onSelect"),0<o.length&&(n=new fi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=oa)))}function ms(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var la={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},Ch={},dg={};An&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function gs(e){if(Ch[e])return Ch[e];if(!la[e])return e;var n=la[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in dg)return Ch[e]=n[r];return e}var mg=gs("animationend"),gg=gs("animationiteration"),pg=gs("animationstart"),B0=gs("transitionrun"),q0=gs("transitionstart"),j0=gs("transitioncancel"),yg=gs("transitionend"),_g=new Map,Dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dh.push("scrollEnd");function Gn(e,n){_g.set(e,n),oi(n,[e])}var _u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},bn=[],ua=0,Nh=0;function vu(){for(var e=ua,n=Nh=ua=0;n<e;){var r=bn[n];bn[n++]=null;var o=bn[n];bn[n++]=null;var h=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&vg(r,h,f)}}function Eu(e,n,r,o){bn[ua++]=e,bn[ua++]=n,bn[ua++]=r,bn[ua++]=o,Nh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Oh(e,n,r,o){return Eu(e,n,r,o),Tu(e)}function ps(e,n){return Eu(e,null,null,n),Tu(e)}function vg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ce(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Tu(e){if(50<el)throw el=0,qf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ca={};function H0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,r,o){return new H0(e,n,r,o)}function Vh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var r=e.alternate;return r===null?(r=dn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Eg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Au(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Vh(e)&&(g=1);else if(typeof e=="string")g=KA(e,r,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=dn(31,r,n,h),e.elementType=I,e.lanes=f,e;case et:return ys(r.children,h,f,n);case Z:g=8,h|=24;break;case ht:return e=dn(12,r,n,h|2),e.elementType=ht,e.lanes=f,e;case Wt:return e=dn(13,r,n,h),e.elementType=Wt,e.lanes=f,e;case Ut:return e=dn(19,r,n,h),e.elementType=Ut,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case vt:g=9;break t;case Qt:g=11;break t;case C:g=14;break t;case b:g=16,o=null;break t}g=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=dn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function ys(e,n,r,o){return e=dn(7,e,o,n),e.lanes=r,e}function Mh(e,n,r){return e=dn(6,e,null,n),e.lanes=r,e}function Tg(e){var n=dn(18,null,null,0);return n.stateNode=e,n}function Uh(e,n,r){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ag=new WeakMap;function Rn(e,n){if(typeof e=="object"&&e!==null){var r=Ag.get(e);return r!==void 0?r:(n={value:e,source:n,stack:uo(n)},Ag.set(e,n),n)}return{value:e,source:n,stack:uo(n)}}var ha=[],fa=0,Su=null,Uo=0,wn=[],In=0,dr=null,pi=1,yi="";function Mi(e,n){ha[fa++]=Uo,ha[fa++]=Su,Su=e,Uo=n}function Sg(e,n,r){wn[In++]=pi,wn[In++]=yi,wn[In++]=dr,dr=e;var o=pi;e=yi;var h=32-ce(o)-1;o&=~(1<<h),r+=1;var f=32-ce(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,pi=1<<32-ce(n)+h|r<<h|o,yi=f+e}else pi=1<<f|r<<h|o,yi=e}function Lh(e){e.return!==null&&(Mi(e,1),Sg(e,1,0))}function xh(e){for(;e===Su;)Su=ha[--fa],ha[fa]=null,Uo=ha[--fa],ha[fa]=null;for(;e===dr;)dr=wn[--In],wn[In]=null,yi=wn[--In],wn[In]=null,pi=wn[--In],wn[In]=null}function bg(e,n){wn[In++]=pi,wn[In++]=yi,wn[In++]=dr,pi=n.id,yi=n.overflow,dr=e}var ze=null,te=null,Ot=!1,mr=null,Cn=!1,Ph=Error(s(519));function gr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(Rn(n,e)),Ph}function Rg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ye]=e,n[Me]=o,r){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(r=0;r<il.length;r++)Rt(il[r],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),nu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),ar(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||jy(n.textContent,r)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||gr(e,!0)}function wg(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:ze=ze.return}}function da(e){if(e!==ze)return!1;if(!Ot)return wg(e),Ot=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||nd(e.type,e.memoizedProps)),r=!r),r&&te&&gr(e),wg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=Zy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=Zy(e)}else n===27?(n=te,Dr(e.type)?(e=od,od=null,te=e):te=n):te=ze?Nn(e.stateNode.nextSibling):null;return!0}function _s(){te=ze=null,Ot=!1}function kh(){var e=mr;return e!==null&&(an===null?an=e:an.push.apply(an,e),mr=null),e}function Lo(e){mr===null?mr=[e]:mr.push(e)}var zh=O(null),vs=null,Ui=null;function pr(e,n,r){tt(zh,n._currentValue),n._currentValue=r}function Li(e){e._currentValue=zh.current,Y(zh)}function Bh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function qh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Bh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Bh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ma(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;fn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ll):e=[ll])}h=h.return}e!==null&&qh(n,e,r,o),n.flags|=262144}function bu(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Es(e){vs=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Ig(vs,e)}function Ru(e,n){return vs===null&&Es(e),Ig(e,n)}function Ig(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ui===null){if(e===null)throw Error(s(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return r}var G0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},F0=a.unstable_scheduleCallback,Q0=a.unstable_NormalPriority,Ee={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jh(){return{controller:new G0,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&F0(Q0,function(){e.controller.abort()})}var Po=null,Hh=0,ga=0,pa=null;function Y0(e,n){if(Po===null){var r=Po=[];Hh=0,ga=Yf(),pa={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Hh++,n.then(Cg,Cg),n}function Cg(){if(--Hh===0&&Po!==null){pa!==null&&(pa.status="fulfilled");var e=Po;Po=null,ga=0,pa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function K0(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Dg=H.S;H.S=function(e,n){fy=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Y0(e,n),Dg!==null&&Dg(e,n)};var Ts=O(null);function Gh(){var e=Ts.current;return e!==null?e:Zt.pooledCache}function wu(e,n){n===null?tt(Ts,Ts.current):tt(Ts,n.pool)}function Ng(){var e=Gh();return e===null?null:{parent:Ee._currentValue,pool:e}}var ya=Error(s(460)),Fh=Error(s(474)),Iu=Error(s(542)),Cu={then:function(){}};function Og(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(zn,zn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ug(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ug(e),e}throw Ss=n,ya}}function As(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ss=r,ya):r}}var Ss=null;function Mg(){if(Ss===null)throw Error(s(459));var e=Ss;return Ss=null,e}function Ug(e){if(e===ya||e===Iu)throw Error(s(483))}var _a=null,ko=0;function Du(e){var n=ko;return ko+=1,_a===null&&(_a=[]),Vg(_a,e,n)}function zo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Nu(e,n){throw n.$$typeof===U?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Lg(e){function n(M,D){if(e){var P=M.deletions;P===null?(M.deletions=[D],M.flags|=16):P.push(D)}}function r(M,D){if(!e)return null;for(;D!==null;)n(M,D),D=D.sibling;return null}function o(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function h(M,D){return M=Vi(M,D),M.index=0,M.sibling=null,M}function f(M,D,P){return M.index=P,e?(P=M.alternate,P!==null?(P=P.index,P<D?(M.flags|=67108866,D):P):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function g(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,D,P,G){return D===null||D.tag!==6?(D=Mh(P,M.mode,G),D.return=M,D):(D=h(D,P),D.return=M,D)}function w(M,D,P,G){var ot=P.type;return ot===et?j(M,D,P.props.children,G,P.key):D!==null&&(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&As(ot)===D.type)?(D=h(D,P.props),zo(D,P),D.return=M,D):(D=Au(P.type,P.key,P.props,null,M.mode,G),zo(D,P),D.return=M,D)}function k(M,D,P,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Uh(P,M.mode,G),D.return=M,D):(D=h(D,P.children||[]),D.return=M,D)}function j(M,D,P,G,ot){return D===null||D.tag!==7?(D=ys(P,M.mode,G,ot),D.return=M,D):(D=h(D,P),D.return=M,D)}function F(M,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Mh(""+D,M.mode,P),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return P=Au(D.type,D.key,D.props,null,M.mode,P),zo(P,D),P.return=M,P;case J:return D=Uh(D,M.mode,P),D.return=M,D;case b:return D=As(D),F(M,D,P)}if(Ie(D)||L(D))return D=ys(D,M.mode,P,null),D.return=M,D;if(typeof D.then=="function")return F(M,Du(D),P);if(D.$$typeof===dt)return F(M,Ru(M,D),P);Nu(M,D)}return null}function z(M,D,P,G){var ot=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ot!==null?null:E(M,D,""+P,G);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===ot?w(M,D,P,G):null;case J:return P.key===ot?k(M,D,P,G):null;case b:return P=As(P),z(M,D,P,G)}if(Ie(P)||L(P))return ot!==null?null:j(M,D,P,G,null);if(typeof P.then=="function")return z(M,D,Du(P),G);if(P.$$typeof===dt)return z(M,D,Ru(M,P),G);Nu(M,P)}return null}function q(M,D,P,G,ot){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(P)||null,E(D,M,""+G,ot);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Q:return M=M.get(G.key===null?P:G.key)||null,w(D,M,G,ot);case J:return M=M.get(G.key===null?P:G.key)||null,k(D,M,G,ot);case b:return G=As(G),q(M,D,P,G,ot)}if(Ie(G)||L(G))return M=M.get(P)||null,j(D,M,G,ot,null);if(typeof G.then=="function")return q(M,D,P,Du(G),ot);if(G.$$typeof===dt)return q(M,D,P,Ru(D,G),ot);Nu(D,G)}return null}function st(M,D,P,G){for(var ot=null,xt=null,at=D,St=D=0,It=null;at!==null&&St<P.length;St++){at.index>St?(It=at,at=null):It=at.sibling;var Pt=z(M,at,P[St],G);if(Pt===null){at===null&&(at=It);break}e&&at&&Pt.alternate===null&&n(M,at),D=f(Pt,D,St),xt===null?ot=Pt:xt.sibling=Pt,xt=Pt,at=It}if(St===P.length)return r(M,at),Ot&&Mi(M,St),ot;if(at===null){for(;St<P.length;St++)at=F(M,P[St],G),at!==null&&(D=f(at,D,St),xt===null?ot=at:xt.sibling=at,xt=at);return Ot&&Mi(M,St),ot}for(at=o(at);St<P.length;St++)It=q(at,M,St,P[St],G),It!==null&&(e&&It.alternate!==null&&at.delete(It.key===null?St:It.key),D=f(It,D,St),xt===null?ot=It:xt.sibling=It,xt=It);return e&&at.forEach(function(Ur){return n(M,Ur)}),Ot&&Mi(M,St),ot}function ct(M,D,P,G){if(P==null)throw Error(s(151));for(var ot=null,xt=null,at=D,St=D=0,It=null,Pt=P.next();at!==null&&!Pt.done;St++,Pt=P.next()){at.index>St?(It=at,at=null):It=at.sibling;var Ur=z(M,at,Pt.value,G);if(Ur===null){at===null&&(at=It);break}e&&at&&Ur.alternate===null&&n(M,at),D=f(Ur,D,St),xt===null?ot=Ur:xt.sibling=Ur,xt=Ur,at=It}if(Pt.done)return r(M,at),Ot&&Mi(M,St),ot;if(at===null){for(;!Pt.done;St++,Pt=P.next())Pt=F(M,Pt.value,G),Pt!==null&&(D=f(Pt,D,St),xt===null?ot=Pt:xt.sibling=Pt,xt=Pt);return Ot&&Mi(M,St),ot}for(at=o(at);!Pt.done;St++,Pt=P.next())Pt=q(at,M,St,Pt.value,G),Pt!==null&&(e&&Pt.alternate!==null&&at.delete(Pt.key===null?St:Pt.key),D=f(Pt,D,St),xt===null?ot=Pt:xt.sibling=Pt,xt=Pt);return e&&at.forEach(function(sS){return n(M,sS)}),Ot&&Mi(M,St),ot}function $t(M,D,P,G){if(typeof P=="object"&&P!==null&&P.type===et&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:t:{for(var ot=P.key;D!==null;){if(D.key===ot){if(ot=P.type,ot===et){if(D.tag===7){r(M,D.sibling),G=h(D,P.props.children),G.return=M,M=G;break t}}else if(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&As(ot)===D.type){r(M,D.sibling),G=h(D,P.props),zo(G,P),G.return=M,M=G;break t}r(M,D);break}else n(M,D);D=D.sibling}P.type===et?(G=ys(P.props.children,M.mode,G,P.key),G.return=M,M=G):(G=Au(P.type,P.key,P.props,null,M.mode,G),zo(G,P),G.return=M,M=G)}return g(M);case J:t:{for(ot=P.key;D!==null;){if(D.key===ot)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(M,D.sibling),G=h(D,P.children||[]),G.return=M,M=G;break t}else{r(M,D);break}else n(M,D);D=D.sibling}G=Uh(P,M.mode,G),G.return=M,M=G}return g(M);case b:return P=As(P),$t(M,D,P,G)}if(Ie(P))return st(M,D,P,G);if(L(P)){if(ot=L(P),typeof ot!="function")throw Error(s(150));return P=ot.call(P),ct(M,D,P,G)}if(typeof P.then=="function")return $t(M,D,Du(P),G);if(P.$$typeof===dt)return $t(M,D,Ru(M,P),G);Nu(M,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(M,D.sibling),G=h(D,P),G.return=M,M=G):(r(M,D),G=Mh(P,M.mode,G),G.return=M,M=G),g(M)):r(M,D)}return function(M,D,P,G){try{ko=0;var ot=$t(M,D,P,G);return _a=null,ot}catch(at){if(at===ya||at===Iu)throw at;var xt=dn(29,at,null,M.mode);return xt.lanes=G,xt.return=M,xt}finally{}}}var bs=Lg(!0),xg=Lg(!1),yr=!1;function Qh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _r(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Tu(e),vg(e,null,r),n}return Eu(e,o,n,r),Tu(e)}function Bo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,fo(e,r)}}function Kh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Xh=!1;function qo(){if(Xh){var e=pa;if(e!==null)throw e}}function jo(e,n,r,o){Xh=!1;var h=e.updateQueue;yr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var w=E,k=w.next;w.next=null,g===null?f=k:g.next=k,g=w;var j=e.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==g&&(E===null?j.firstBaseUpdate=k:E.next=k,j.lastBaseUpdate=w))}if(f!==null){var F=h.baseState;g=0,j=k=w=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(wt&z)===z:(o&z)===z){z!==0&&z===ga&&(Xh=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,ct=E;z=n;var $t=r;switch(ct.tag){case 1:if(st=ct.payload,typeof st=="function"){F=st.call($t,F,z);break t}F=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ct.payload,z=typeof st=="function"?st.call($t,F,z):st,z==null)break t;F=S({},F,z);break t;case 2:yr=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(k=j=q,w=F):j=j.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);j===null&&(w=F),h.baseState=w,h.firstBaseUpdate=k,h.lastBaseUpdate=j,f===null&&(h.shared.lanes=0),br|=g,e.lanes=g,e.memoizedState=F}}function Pg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function kg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Pg(r[e],n)}var va=O(null),Ou=O(0);function zg(e,n){e=Gi,tt(Ou,e),tt(va,n),Gi=e|n.baseLanes}function $h(){tt(Ou,Gi),tt(va,va.current)}function Zh(){Gi=Ou.current,Y(va),Y(Ou)}var mn=O(null),Dn=null;function Er(e){var n=e.alternate;tt(fe,fe.current&1),tt(mn,e),Dn===null&&(n===null||va.current!==null||n.memoizedState!==null)&&(Dn=e)}function Jh(e){tt(fe,fe.current),tt(mn,e),Dn===null&&(Dn=e)}function Bg(e){e.tag===22?(tt(fe,fe.current),tt(mn,e),Dn===null&&(Dn=e)):Tr()}function Tr(){tt(fe,fe.current),tt(mn,mn.current)}function gn(e){Y(mn),Dn===e&&(Dn=null),Y(fe)}var fe=O(0);function Vu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||sd(r)||ad(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var xi=0,Tt=null,Kt=null,Te=null,Mu=!1,Ea=!1,Rs=!1,Uu=0,Ho=0,Ta=null,X0=0;function le(){throw Error(s(321))}function Wh(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!fn(e[r],n[r]))return!1;return!0}function tf(e,n,r,o,h,f){return xi=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Sp:pf,Rs=!1,f=r(o,h),Rs=!1,Ea&&(f=jg(n,r,o,h)),qg(e),f}function qg(e){H.H=Qo;var n=Kt!==null&&Kt.next!==null;if(xi=0,Te=Kt=Tt=null,Mu=!1,Ho=0,Ta=null,n)throw Error(s(300));e===null||Ae||(e=e.dependencies,e!==null&&bu(e)&&(Ae=!0))}function jg(e,n,r,o){Tt=e;var h=0;do{if(Ea&&(Ta=null),Ho=0,Ea=!1,25<=h)throw Error(s(301));if(h+=1,Te=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=bp,f=n(r,o)}while(Ea);return f}function $0(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Go(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(Tt.flags|=1024),n}function ef(){var e=Uu!==0;return Uu=0,e}function nf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function rf(e){if(Mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mu=!1}xi=0,Te=Kt=Tt=null,Ea=!1,Ho=Uu=0,Ta=null}function We(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Tt.memoizedState=Te=e:Te=Te.next=e,Te}function de(){if(Kt===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=Te===null?Tt.memoizedState:Te.next;if(n!==null)Te=n,Kt=e;else{if(e===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Te===null?Tt.memoizedState=Te=e:Te=Te.next=e}return Te}function Lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(e){var n=Ho;return Ho+=1,Ta===null&&(Ta=[]),e=Vg(Ta,e,n),n=Tt,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Sp:pf),e}function xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Go(e);if(e.$$typeof===dt)return Be(e)}throw Error(s(438,String(e)))}function sf(e){var n=null,r=Tt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Tt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Lu(),Tt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function Pi(e,n){return typeof n=="function"?n(e):n}function Pu(e){var n=de();return af(n,Kt,e)}function af(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,w=null,k=n,j=!1;do{var F=k.lane&-536870913;if(F!==k.lane?(wt&F)===F:(xi&F)===F){var z=k.revertLane;if(z===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),F===ga&&(j=!0);else if((xi&z)===z){k=k.next,z===ga&&(j=!0);continue}else F={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(E=w=F,g=f):w=w.next=F,Tt.lanes|=z,br|=z;F=k.action,Rs&&r(f,F),f=k.hasEagerState?k.eagerState:r(f,F)}else z={lane:F,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(E=w=z,g=f):w=w.next=z,Tt.lanes|=F,br|=F;k=k.next}while(k!==null&&k!==n);if(w===null?g=f:w.next=E,!fn(f,e.memoizedState)&&(Ae=!0,j&&(r=pa,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=w,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function of(e){var n=de(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);fn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Hg(e,n,r){var o=Tt,h=de(),f=Ot;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var g=!fn((Kt||h).memoizedState,r);if(g&&(h.memoizedState=r,Ae=!0),h=h.queue,cf(Qg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,Aa(9,{destroy:void 0},Fg.bind(null,o,h,r,n),null),Zt===null)throw Error(s(349));f||(xi&127)!==0||Gg(o,n,r)}return r}function Gg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Tt.updateQueue,n===null?(n=Lu(),Tt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Fg(e,n,r,o){n.value=r,n.getSnapshot=o,Yg(n)&&Kg(e)}function Qg(e,n,r){return r(function(){Yg(n)&&Kg(e)})}function Yg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!fn(e,r)}catch{return!0}}function Kg(e){var n=ps(e,2);n!==null&&on(n,e,2)}function lf(e){var n=We();if(typeof e=="function"){var r=e;if(e=r(),Rs){vn(!0);try{r()}finally{vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n}function Xg(e,n,r,o){return e.baseState=r,af(e,Kt,typeof o=="function"?o:Pi)}function Z0(e,n,r,o,h){if(Bu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,$g(n,f)):(f.next=r.next,n.pending=r.next=f)}}function $g(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=r(h,o),w=H.S;w!==null&&w(g,E),Zg(e,n,E)}catch(k){uf(e,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=r(h,o),Zg(e,n,f)}catch(k){uf(e,n,k)}}function Zg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Jg(e,n,o)},function(o){return uf(e,n,o)}):Jg(e,n,r)}function Jg(e,n,r){n.status="fulfilled",n.value=r,Wg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,$g(e,r)))}function uf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Wg(n),n=n.next;while(n!==o)}e.action=null}function Wg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function tp(e,n){return n}function ep(e,n){if(Ot){var r=Zt.formState;if(r!==null){t:{var o=Tt;if(Ot){if(te){e:{for(var h=te,f=Cn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Nn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=Nn(h.nextSibling),o=h.data==="F!";break t}}gr(o)}o=!1}o&&(n=r[0])}}return r=We(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tp,lastRenderedState:n},r.queue=o,r=Ep.bind(null,Tt,o),o.dispatch=r,o=lf(!1),f=gf.bind(null,Tt,!1,o.queue),o=We(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=Z0.bind(null,Tt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function np(e){var n=de();return ip(n,Kt,e)}function ip(e,n,r){if(n=af(e,n,tp)[0],e=Pu(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Go(n)}catch(g){throw g===ya?Iu:g}else o=n;n=de();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Tt.flags|=2048,Aa(9,{destroy:void 0},J0.bind(null,h,r),null)),[o,f,e]}function J0(e,n){e.action=n}function rp(e){var n=de(),r=Kt;if(r!==null)return ip(n,r,e);de(),n=n.memoizedState,r=de();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Aa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=Lu(),Tt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function sp(){return de().memoizedState}function ku(e,n,r,o){var h=We();Tt.flags|=e,h.memoizedState=Aa(1|n,{destroy:void 0},r,o===void 0?null:o)}function zu(e,n,r,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Kt!==null&&o!==null&&Wh(o,Kt.memoizedState.deps)?h.memoizedState=Aa(n,f,r,o):(Tt.flags|=e,h.memoizedState=Aa(1|n,f,r,o))}function ap(e,n){ku(8390656,8,e,n)}function cf(e,n){zu(2048,8,e,n)}function W0(e){Tt.flags|=4;var n=Tt.updateQueue;if(n===null)n=Lu(),Tt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function op(e){var n=de().memoizedState;return W0({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function lp(e,n){return zu(4,2,e,n)}function up(e,n){return zu(4,4,e,n)}function cp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function hp(e,n,r){r=r!=null?r.concat([e]):null,zu(4,4,cp.bind(null,n,e),r)}function hf(){}function fp(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Wh(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function dp(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Wh(n,o[1]))return o[0];if(o=e(),Rs){vn(!0);try{e()}finally{vn(!1)}}return r.memoizedState=[o,n],o}function ff(e,n,r){return r===void 0||(xi&1073741824)!==0&&(wt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=my(),Tt.lanes|=e,br|=e,r)}function mp(e,n,r,o){return fn(r,n)?r:va.current!==null?(e=ff(e,r,o),fn(e,n)||(Ae=!0),e):(xi&42)===0||(xi&1073741824)!==0&&(wt&261930)===0?(Ae=!0,e.memoizedState=r):(e=my(),Tt.lanes|=e,br|=e,n)}function gp(e,n,r,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,gf(e,!1,n,r);try{var w=h(),k=H.S;if(k!==null&&k(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var j=K0(w,o);Fo(e,n,j,_n(e))}else Fo(e,n,o,_n(e))}catch(F){Fo(e,n,{then:function(){},status:"rejected",reason:F},_n())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function tA(){}function df(e,n,r,o){if(e.tag!==5)throw Error(s(476));var h=pp(e).queue;gp(e,h,n,ut,r===null?tA:function(){return yp(e),r(o)})}function pp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function yp(e){var n=pp(e);n.next===null&&(n=e.alternate.memoizedState),Fo(e,n.next.queue,{},_n())}function mf(){return Be(ll)}function _p(){return de().memoizedState}function vp(){return de().memoizedState}function eA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=_n();e=_r(r);var o=vr(n,e,r);o!==null&&(on(o,n,r),Bo(o,n,r)),n={cache:jh()},e.payload=n;return}n=n.return}}function nA(e,n,r){var o=_n();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Bu(e)?Tp(n,r):(r=Oh(e,n,r,o),r!==null&&(on(r,e,o),Ap(r,n,o)))}function Ep(e,n,r){var o=_n();Fo(e,n,r,o)}function Fo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bu(e))Tp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,fn(E,g))return Eu(e,n,h,0),Zt===null&&vu(),!1}catch{}finally{}if(r=Oh(e,n,h,o),r!==null)return on(r,e,o),Ap(r,n,o),!0}return!1}function gf(e,n,r,o){if(o={lane:2,revertLane:Yf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Bu(e)){if(n)throw Error(s(479))}else n=Oh(e,r,o,2),n!==null&&on(n,e,2)}function Bu(e){var n=e.alternate;return e===Tt||n!==null&&n===Tt}function Tp(e,n){Ea=Mu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Ap(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,fo(e,r)}}var Qo={readContext:Be,use:xu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Qo.useEffectEvent=le;var Sp={readContext:Be,use:xu,useCallback:function(e,n){return We().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:ap,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,ku(4194308,4,cp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return ku(4194308,4,e,n)},useInsertionEffect:function(e,n){ku(4,2,e,n)},useMemo:function(e,n){var r=We();n=n===void 0?null:n;var o=e();if(Rs){vn(!0);try{e()}finally{vn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=We();if(r!==void 0){var h=r(n);if(Rs){vn(!0);try{r(n)}finally{vn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=nA.bind(null,Tt,e),[o.memoizedState,e]},useRef:function(e){var n=We();return e={current:e},n.memoizedState=e},useState:function(e){e=lf(e);var n=e.queue,r=Ep.bind(null,Tt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:hf,useDeferredValue:function(e,n){var r=We();return ff(r,e,n)},useTransition:function(){var e=lf(!1);return e=gp.bind(null,Tt,e.queue,!0,!1),We().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Tt,h=We();if(Ot){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Zt===null)throw Error(s(349));(wt&127)!==0||Gg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,ap(Qg.bind(null,o,f,e),[e]),o.flags|=2048,Aa(9,{destroy:void 0},Fg.bind(null,o,f,r,n),null),r},useId:function(){var e=We(),n=Zt.identifierPrefix;if(Ot){var r=yi,o=pi;r=(o&~(1<<32-ce(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Uu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=X0++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:mf,useFormState:ep,useActionState:ep,useOptimistic:function(e){var n=We();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=gf.bind(null,Tt,!0,r),r.dispatch=n,[e,n]},useMemoCache:sf,useCacheRefresh:function(){return We().memoizedState=eA.bind(null,Tt)},useEffectEvent:function(e){var n=We(),r={impl:e};return n.memoizedState=r,function(){if((Bt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},pf={readContext:Be,use:xu,useCallback:fp,useContext:Be,useEffect:cf,useImperativeHandle:hp,useInsertionEffect:lp,useLayoutEffect:up,useMemo:dp,useReducer:Pu,useRef:sp,useState:function(){return Pu(Pi)},useDebugValue:hf,useDeferredValue:function(e,n){var r=de();return mp(r,Kt.memoizedState,e,n)},useTransition:function(){var e=Pu(Pi)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:Hg,useId:_p,useHostTransitionStatus:mf,useFormState:np,useActionState:np,useOptimistic:function(e,n){var r=de();return Xg(r,Kt,e,n)},useMemoCache:sf,useCacheRefresh:vp};pf.useEffectEvent=op;var bp={readContext:Be,use:xu,useCallback:fp,useContext:Be,useEffect:cf,useImperativeHandle:hp,useInsertionEffect:lp,useLayoutEffect:up,useMemo:dp,useReducer:of,useRef:sp,useState:function(){return of(Pi)},useDebugValue:hf,useDeferredValue:function(e,n){var r=de();return Kt===null?ff(r,e,n):mp(r,Kt.memoizedState,e,n)},useTransition:function(){var e=of(Pi)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:Hg,useId:_p,useHostTransitionStatus:mf,useFormState:rp,useActionState:rp,useOptimistic:function(e,n){var r=de();return Kt!==null?Xg(r,Kt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:sf,useCacheRefresh:vp};bp.useEffectEvent=op;function yf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _f={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=_n(),h=_r(o);h.payload=n,r!=null&&(h.callback=r),n=vr(e,h,o),n!==null&&(on(n,e,o),Bo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=_n(),h=_r(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=vr(e,h,o),n!==null&&(on(n,e,o),Bo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=_n(),o=_r(r);o.tag=2,n!=null&&(o.callback=n),n=vr(e,o,r),n!==null&&(on(n,e,r),Bo(n,e,r))}};function Rp(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Vo(r,o)||!Vo(h,f):!0}function wp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&_f.enqueueReplaceState(n,n.state,null)}function ws(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Ip(e){_u(e)}function Cp(e){console.error(e)}function Dp(e){_u(e)}function qu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Np(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function vf(e,n,r){return r=_r(r),r.tag=3,r.payload={element:null},r.callback=function(){qu(e,n)},r}function Op(e){return e=_r(e),e.tag=3,e}function Vp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Np(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Np(n,r,o),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function iA(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ma(n,r,h,!0),r=mn.current,r!==null){switch(r.tag){case 31:case 13:return Dn===null?Wu():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Cu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Gf(e,o,h)),!1;case 22:return r.flags|=65536,o===Cu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Gf(e,o,h)),!1}throw Error(s(435,r.tag))}return Gf(e,o,h),Wu(),!1}if(Ot)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Ph&&(e=Error(s(422),{cause:o}),Lo(Rn(e,r)))):(o!==Ph&&(n=Error(s(423),{cause:o}),Lo(Rn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Rn(o,r),h=vf(e.stateNode,o,h),Kh(e,h),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:o});if(f=Rn(f,r),tl===null?tl=[f]:tl.push(f),ue!==4&&(ue=2),n===null)return!0;o=Rn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=vf(r.stateNode,o,e),Kh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rr===null||!Rr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Op(h),Vp(h,e,r,o),Kh(r,h),!1}r=r.return}while(r!==null);return!1}var Ef=Error(s(461)),Ae=!1;function qe(e,n,r,o){n.child=e===null?xg(n,null,r,o):bs(n,e.child,r,o)}function Mp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Es(n),o=tf(e,n,r,g,f,h),E=ef(),e!==null&&!Ae?(nf(e,n,h),ki(e,n,h)):(Ot&&E&&Lh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Up(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Vh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Lp(e,n,f,o,h)):(e=Au(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Cf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Vo,r(g,o)&&e.ref===n.ref)return ki(e,n,h)}return n.flags|=1,e=Vi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Lp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Vo(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,Cf(e,h))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,ki(e,n,h)}return Tf(e,n,r,o,h)}function xp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Pp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&wu(n,f!==null?f.cachePool:null),f!==null?zg(n,f):$h(),Bg(n);else return o=n.lanes=536870912,Pp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(wu(n,f.cachePool),zg(n,f),Tr(),n.memoizedState=null):(e!==null&&wu(n,null),$h(),Tr());return qe(e,n,h,r),n.child}function Yo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Pp(e,n,r,o,h){var f=Gh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&wu(n,null),$h(),Bg(n),e!==null&&ma(e,n,o,!0),n.childLanes=h,null}function ju(e,n){return n=Gu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function kp(e,n,r){return bs(n,e.child,null,r),e=ju(n,n.pendingProps),e.flags|=2,gn(n),n.memoizedState=null,e}function rA(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ot){if(o.mode==="hidden")return e=ju(n,o),n.lanes=536870912,Yo(null,e);if(Jh(n),(e=te)?(e=$y(e,Cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:dr!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},r=Tg(e),r.return=n,n.child=r,ze=n,te=null)):e=null,e===null)throw gr(n);return n.lanes=536870912,null}return ju(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Jh(n),h)if(n.flags&256)n.flags&=-257,n=kp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Ae||ma(e,n,r,!1),h=(r&e.childLanes)!==0,Ae||h){if(o=Zt,o!==null&&(g=mo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,ps(e,g),on(o,e,g),Ef;Wu(),n=kp(e,n,r)}else e=f.treeContext,te=Nn(g.nextSibling),ze=n,Ot=!0,mr=null,Cn=!1,e!==null&&bg(n,e),n=ju(n,o),n.flags|=4096;return n}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Hu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Tf(e,n,r,o,h){return Es(n),r=tf(e,n,r,o,void 0,h),o=ef(),e!==null&&!Ae?(nf(e,n,h),ki(e,n,h)):(Ot&&o&&Lh(n),n.flags|=1,qe(e,n,r,h),n.child)}function zp(e,n,r,o,h,f){return Es(n),n.updateQueue=null,r=jg(n,o,r,h),qg(e),o=ef(),e!==null&&!Ae?(nf(e,n,f),ki(e,n,f)):(Ot&&o&&Lh(n),n.flags|=1,qe(e,n,r,f),n.child)}function Bp(e,n,r,o,h){if(Es(n),n.stateNode===null){var f=ca,g=r.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=_f,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Qh(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Be(g):ca,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(yf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&_f.enqueueReplaceState(f,f.state,null),jo(n,o,f,h),qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,w=ws(r,E);f.props=w;var k=f.context,j=r.contextType;g=ca,typeof j=="object"&&j!==null&&(g=Be(j));var F=r.getDerivedStateFromProps;j=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&wp(n,f,o,g),yr=!1;var z=n.memoizedState;f.state=z,jo(n,o,f,h),qo(),k=n.memoizedState,E||z!==k||yr?(typeof F=="function"&&(yf(n,r,F,o),k=n.memoizedState),(w=yr||Rp(n,r,w,o,z,k,g))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=k),f.props=o,f.state=k,f.context=g,o=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Yh(e,n),g=n.memoizedProps,j=ws(r,g),f.props=j,F=n.pendingProps,z=f.context,k=r.contextType,w=ca,typeof k=="object"&&k!==null&&(w=Be(k)),E=r.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==F||z!==w)&&wp(n,f,o,w),yr=!1,z=n.memoizedState,f.state=z,jo(n,o,f,h),qo();var q=n.memoizedState;g!==F||z!==q||yr||e!==null&&e.dependencies!==null&&bu(e.dependencies)?(typeof E=="function"&&(yf(n,r,E,o),q=n.memoizedState),(j=yr||Rp(n,r,j,o,z,q,w)||e!==null&&e.dependencies!==null&&bu(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=w,o=j):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Hu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=bs(n,e.child,null,h),n.child=bs(n,null,r,h)):qe(e,n,r,h),n.memoizedState=f.state,e=n.child):e=ki(e,n,h),e}function qp(e,n,r,o){return _s(),n.flags|=256,qe(e,n,r,o),n.child}var Af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sf(e){return{baseLanes:e,cachePool:Ng()}}function bf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=yn),e}function jp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ot){if(h?Er(n):Tr(),(e=te)?(e=$y(e,Cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:dr!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},r=Tg(e),r.return=n,n.child=r,ze=n,te=null)):e=null,e===null)throw gr(n);return ad(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Tr(),h=n.mode,E=Gu({mode:"hidden",children:E},h),o=ys(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Sf(r),o.childLanes=bf(e,g,r),n.memoizedState=Af,Yo(null,o)):(Er(n),Rf(n,E))}var w=e.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(Er(n),n.flags&=-257,n=wf(e,n,r)):n.memoizedState!==null?(Tr(),n.child=e.child,n.flags|=128,n=null):(Tr(),E=o.fallback,h=n.mode,o=Gu({mode:"visible",children:o.children},h),E=ys(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,bs(n,e.child,null,r),o=n.child,o.memoizedState=Sf(r),o.childLanes=bf(e,g,r),n.memoizedState=Af,n=Yo(null,o));else if(Er(n),ad(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,o=Error(s(419)),o.stack="",o.digest=g,Lo({value:o,source:null,stack:null}),n=wf(e,n,r)}else if(Ae||ma(e,n,r,!1),g=(r&e.childLanes)!==0,Ae||g){if(g=Zt,g!==null&&(o=mo(g,r),o!==0&&o!==w.retryLane))throw w.retryLane=o,ps(e,o),on(g,e,o),Ef;sd(E)||Wu(),n=wf(e,n,r)}else sd(E)?(n.flags|=192,n.child=e.child,n=null):(e=w.treeContext,te=Nn(E.nextSibling),ze=n,Ot=!0,mr=null,Cn=!1,e!==null&&bg(n,e),n=Rf(n,o.children),n.flags|=4096);return n}return h?(Tr(),E=o.fallback,h=n.mode,w=e.child,k=w.sibling,o=Vi(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&65011712,k!==null?E=Vi(k,E):(E=ys(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Yo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Sf(r):(h=E.cachePool,h!==null?(w=Ee._currentValue,h=h.parent!==w?{parent:w,pool:w}:h):h=Ng(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=bf(e,g,r),n.memoizedState=Af,Yo(e.child,o)):(Er(n),r=e.child,e=r.sibling,r=Vi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Rf(e,n){return n=Gu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Gu(e,n){return e=dn(22,e,null,n),e.lanes=0,e}function wf(e,n,r){return bs(n,e.child,null,r),e=Rf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Hp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Bh(e.return,n,r)}function If(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Gp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,tt(fe,g),qe(e,n,o,r),o=Ot?Uo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hp(e,r,n);else if(e.tag===19)Hp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Vu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),If(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Vu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}If(n,!0,r,null,f,o);break;case"together":If(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ki(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),br|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ma(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Vi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Vi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Cf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&bu(e)))}function sA(e,n,r){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),pr(n,Ee,e.memoizedState.cache),_s();break;case 27:case 5:Jr(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:pr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Jh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Er(n),n.flags|=128,null):(r&n.child.childLanes)!==0?jp(e,n,r):(Er(n),e=ki(e,n,r),e!==null?e.sibling:null);Er(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ma(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Gp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(fe,fe.current),o)break;return null;case 22:return n.lanes=0,xp(e,n,r,n.pendingProps);case 24:pr(n,Ee,e.memoizedState.cache)}return ki(e,n,r)}function Fp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Cf(e,r)&&(n.flags&128)===0)return Ae=!1,sA(e,n,r);Ae=(e.flags&131072)!==0}else Ae=!1,Ot&&(n.flags&1048576)!==0&&Sg(n,Uo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=As(n.elementType),n.type=e,typeof e=="function")Vh(e)?(o=ws(e,o),n.tag=1,n=Bp(null,n,e,o,r)):(n.tag=0,n=Tf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Qt){n.tag=11,n=Mp(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=Up(null,n,e,o,r);break t}}throw n=ie(e)||e,Error(s(306,n,""))}}return n;case 0:return Tf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=ws(o,n.pendingProps),Bp(e,n,o,h,r);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Yh(e,n),jo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,pr(n,Ee,o),o!==f.cache&&qh(n,[Ee],r,!0),qo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=qp(e,n,o,r);break t}else if(o!==h){h=Rn(Error(s(424)),n),Lo(h),n=qp(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(te=Nn(e.firstChild),ze=n,Ot=!0,mr=null,Cn=!0,r=xg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(_s(),o===h){n=ki(e,n,r);break t}qe(e,n,o,r)}n=n.child}return n;case 26:return Hu(e,n),e===null?(r=n_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ot||(r=n.type,e=n.pendingProps,o=ac(At.current).createElement(r),o[ye]=n,o[Me]=e,je(o,r,e),_e(o),n.stateNode=o):n.memoizedState=n_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Jr(n),e===null&&Ot&&(o=n.stateNode=Wy(n.type,n.pendingProps,At.current),ze=n,Cn=!0,h=te,Dr(n.type)?(od=h,te=Nn(o.firstChild)):te=h),qe(e,n,n.pendingProps.children,r),Hu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ot&&((h=o=te)&&(o=LA(o,n.type,n.pendingProps,Cn),o!==null?(n.stateNode=o,ze=n,te=Nn(o.firstChild),Cn=!1,h=!0):h=!1),h||gr(n)),Jr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,nd(h,f)?o=null:g!==null&&nd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=tf(e,n,$0,null,null,r),ll._currentValue=h),Hu(e,n),qe(e,n,o,r),n.child;case 6:return e===null&&Ot&&((e=r=te)&&(r=xA(r,n.pendingProps,Cn),r!==null?(n.stateNode=r,ze=n,te=null,e=!0):e=!1),e||gr(n)),null;case 13:return jp(e,n,r);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=bs(n,null,o,r):qe(e,n,o,r),n.child;case 11:return Mp(e,n,n.type,n.pendingProps,r);case 7:return qe(e,n,n.pendingProps,r),n.child;case 8:return qe(e,n,n.pendingProps.children,r),n.child;case 12:return qe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,pr(n,n.type,o.value),qe(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Es(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,r),n.child;case 14:return Up(e,n,n.type,n.pendingProps,r);case 15:return Lp(e,n,n.type,n.pendingProps,r);case 19:return Gp(e,n,r);case 31:return rA(e,n,r);case 22:return xp(e,n,r,n.pendingProps);case 24:return Es(n),o=Be(Ee),e===null?(h=Gh(),h===null&&(h=Zt,f=jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Qh(n),pr(n,Ee,h)):((e.lanes&r)!==0&&(Yh(e,n),jo(n,null,null,r),qo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),pr(n,Ee,o)):(o=f.cache,pr(n,Ee,o),o!==h.cache&&qh(n,[Ee],r,!0))),qe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function zi(e){e.flags|=4}function Df(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(_y())e.flags|=8192;else throw Ss=Cu,Fh}else e.flags&=-16777217}function Qp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!o_(n))if(_y())e.flags|=8192;else throw Ss=Cu,Fh}function Fu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Zl():536870912,e.lanes|=n,wa|=n)}function Ko(e,n){if(!Ot)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function aA(e,n,r){var o=n.pendingProps;switch(xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(Ee),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(da(n)?zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,kh())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(zi(n),f!==null?(ee(n),Qp(n,f)):(ee(n),Df(n,h,null,o,r))):f?f!==e.memoizedState?(zi(n),ee(n),Qp(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&zi(n),ee(n),Df(n,h,e,o,r)),null;case 27:if(Fs(n),r=At.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ee(n),null}e=rt.current,da(n)?Rg(n):(e=Wy(h,o,r),n.stateNode=e,zi(n))}return ee(n),null;case 5:if(Fs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(f=rt.current,da(n))Rg(n);else{var g=ac(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[ye]=n,f[Me]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&zi(n)}}return ee(n),Df(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=At.current,da(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ye]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||jy(e.nodeValue,r)),e||gr(n,!0)}else e=ac(e).createTextNode(o),e[ye]=n,n.stateNode=e}return ee(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=da(n),r!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ye]=n}else _s(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else r=kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=da(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ye]=n}else _s(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Fu(n,n.updateQueue),ee(n),null);case 4:return re(),e===null&&Zf(n.stateNode.containerInfo),ee(n),null;case 10:return Li(n.type),ee(n),null;case 19:if(Y(fe),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Ko(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Vu(e),f!==null){for(n.flags|=128,Ko(o,!1),e=f.updateQueue,n.updateQueue=e,Fu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Eg(r,e),r=r.sibling;return tt(fe,fe.current&1|2),Ot&&Mi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ze()>$u&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304)}else{if(!h)if(e=Vu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Fu(n,e),Ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ot)return ee(n),null}else 2*Ze()-o.renderingStartTime>$u&&r!==536870912&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ze(),e.sibling=null,r=fe.current,tt(fe,h?r&1|2:r&1),Ot&&Mi(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return gn(n),Zh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&Fu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Y(Ts),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Li(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function oA(e,n){switch(xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Ee),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Fs(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(s(340));_s()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(gn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));_s()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(fe),null;case 4:return re(),null;case 10:return Li(n.type),null;case 22:case 23:return gn(n),Zh(),e!==null&&Y(Ts),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Ee),null;case 25:return null;default:return null}}function Yp(e,n){switch(xh(n),n.tag){case 3:Li(Ee),re();break;case 26:case 27:case 5:Fs(n);break;case 4:re();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:Y(fe);break;case 10:Li(n.type);break;case 22:case 23:gn(n),Zh(),e!==null&&Y(Ts);break;case 24:Li(Ee)}}function Xo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Ft(n,n.return,E)}}function Ar(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var w=r,k=E;try{k()}catch(j){Ft(h,w,j)}}}o=o.next}while(o!==f)}}catch(j){Ft(n,n.return,j)}}function Kp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{kg(n,r)}catch(o){Ft(e,e.return,o)}}}function Xp(e,n,r){r.props=ws(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Ft(e,n,o)}}function $o(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Ft(e,n,h)}}function _i(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Ft(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Ft(e,n,h)}else r.current=null}function $p(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Ft(e,e.return,h)}}function Nf(e,n,r){try{var o=e.stateNode;DA(o,e.type,r,n),o[Me]=n}catch(h){Ft(e,e.return,h)}}function Zp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Dr(e.type)||e.tag===4}function Of(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Zp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=zn));else if(o!==4&&(o===27&&Dr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Vf(e,n,r),e=e.sibling;e!==null;)Vf(e,n,r),e=e.sibling}function Qu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Dr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Qu(e,n,r),e=e.sibling;e!==null;)Qu(e,n,r),e=e.sibling}function Jp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);je(n,o,r),n[ye]=e,n[Me]=r}catch(f){Ft(e,e.return,f)}}var Bi=!1,Se=!1,Mf=!1,Wp=typeof WeakSet=="function"?WeakSet:Set,Le=null;function lA(e,n){if(e=e.containerInfo,td=dc,e=hg(e),Rh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,w=-1,k=0,j=0,F=e,z=null;e:for(;;){for(var q;F!==r||h!==0&&F.nodeType!==3||(E=g+h),F!==f||o!==0&&F.nodeType!==3||(w=g+o),F.nodeType===3&&(g+=F.nodeValue.length),(q=F.firstChild)!==null;)z=F,F=q;for(;;){if(F===e)break e;if(z===r&&++k===h&&(E=g),z===f&&++j===o&&(w=g),(q=F.nextSibling)!==null)break;F=z,z=F.parentNode}F=q}r=E===-1||w===-1?null:{start:E,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(ed={focusedElem:e,selectionRange:r},dc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var st=ws(r.type,h);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ct){Ft(r,r.return,ct)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)rd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function ty(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ji(e,r),o&4&&Xo(5,r);break;case 1:if(ji(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Ft(r,r.return,g)}else{var h=ws(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Ft(r,r.return,g)}}o&64&&Kp(r),o&512&&$o(r,r.return);break;case 3:if(ji(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{kg(e,n)}catch(g){Ft(r,r.return,g)}}break;case 27:n===null&&o&4&&Jp(r);case 26:case 5:ji(e,r),n===null&&o&4&&$p(r),o&512&&$o(r,r.return);break;case 12:ji(e,r);break;case 31:ji(e,r),o&4&&iy(e,r);break;case 13:ji(e,r),o&4&&ry(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=yA.bind(null,r),PA(e,r))));break;case 22:if(o=r.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||Se,h=Bi;var f=Se;Bi=o,(Se=n)&&!f?Hi(e,r,(r.subtreeFlags&8772)!==0):ji(e,r),Bi=h,Se=f}break;case 30:break;default:ji(e,r)}}function ey(e){var n=e.alternate;n!==null&&(e.alternate=null,ey(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&$s(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,nn=!1;function qi(e,n,r){for(r=r.child;r!==null;)ny(e,n,r),r=r.sibling}function ny(e,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Ln,r)}catch{}switch(r.tag){case 26:Se||_i(r,n),qi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Se||_i(r,n);var o=ae,h=nn;Dr(r.type)&&(ae=r.stateNode,nn=!1),qi(e,n,r),sl(r.stateNode),ae=o,nn=h;break;case 5:Se||_i(r,n);case 6:if(o=ae,h=nn,ae=null,qi(e,n,r),ae=o,nn=h,ae!==null)if(nn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(r.stateNode)}catch(f){Ft(r,n,f)}else try{ae.removeChild(r.stateNode)}catch(f){Ft(r,n,f)}break;case 18:ae!==null&&(nn?(e=ae,Ky(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ua(e)):Ky(ae,r.stateNode));break;case 4:o=ae,h=nn,ae=r.stateNode.containerInfo,nn=!0,qi(e,n,r),ae=o,nn=h;break;case 0:case 11:case 14:case 15:Ar(2,r,n),Se||Ar(4,r,n),qi(e,n,r);break;case 1:Se||(_i(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Xp(r,n,o)),qi(e,n,r);break;case 21:qi(e,n,r);break;case 22:Se=(o=Se)||r.memoizedState!==null,qi(e,n,r),Se=o;break;default:qi(e,n,r)}}function iy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(r){Ft(n,n.return,r)}}}function ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(r){Ft(n,n.return,r)}}function uA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Wp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Wp),n;default:throw Error(s(435,e.tag))}}function Yu(e,n){var r=uA(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=_A.bind(null,e,o);o.then(h,h)}})}function rn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Dr(E.type)){ae=E.stateNode,nn=!1;break t}break;case 5:ae=E.stateNode,nn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(ae===null)throw Error(s(160));ny(f,g,h),ae=null,nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)sy(n,e),n=n.sibling}var Fn=null;function sy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(n,e),sn(e),o&4&&(Ar(3,e,e.return),Xo(3,e),Ar(5,e,e.return));break;case 1:rn(n,e),sn(e),o&512&&(Se||r===null||_i(r,r.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Fn;if(rn(n,e),sn(e),o&512&&(Se||r===null||_i(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),je(f,o,r),f[ye]=e,_e(f),o=f;break t;case"link":var g=s_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),je(f,o,r),h.head.appendChild(f);break;case"meta":if(g=s_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),je(f,o,r),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[ye]=e,_e(f),o=f}e.stateNode=o}else a_(h,e.type,e.stateNode);else e.stateNode=r_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?a_(h,e.type,e.stateNode):r_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Nf(e,e.memoizedProps,r.memoizedProps)}break;case 27:rn(n,e),sn(e),o&512&&(Se||r===null||_i(r,r.return)),r!==null&&o&4&&Nf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(rn(n,e),sn(e),o&512&&(Se||r===null||_i(r,r.return)),e.flags&32){h=e.stateNode;try{en(h,"")}catch(st){Ft(e,e.return,st)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Nf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Mf=!0);break;case 6:if(rn(n,e),sn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(st){Ft(e,e.return,st)}}break;case 3:if(uc=null,h=Fn,Fn=oc(n.containerInfo),rn(n,e),Fn=h,sn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(st){Ft(e,e.return,st)}Mf&&(Mf=!1,ay(e));break;case 4:o=Fn,Fn=oc(e.stateNode.containerInfo),rn(n,e),sn(e),Fn=o;break;case 12:rn(n,e),sn(e);break;case 31:rn(n,e),sn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yu(e,o)));break;case 13:rn(n,e),sn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Xu=Ze()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yu(e,o)));break;case 22:h=e.memoizedState!==null;var w=r!==null&&r.memoizedState!==null,k=Bi,j=Se;if(Bi=k||h,Se=j||w,rn(n,e),Se=j,Bi=k,sn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||w||Bi||Se||Is(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){w=r=n;try{if(f=w.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var F=w.memoizedProps.style,z=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Ft(w,w.return,st)}}}else if(n.tag===6){if(r===null){w=n;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(st){Ft(w,w.return,st)}}}else if(n.tag===18){if(r===null){w=n;try{var q=w.stateNode;h?Xy(q,!0):Xy(w.stateNode,!1)}catch(st){Ft(w,w.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Yu(e,r))));break;case 19:rn(n,e),sn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yu(e,o)));break;case 30:break;case 21:break;default:rn(n,e),sn(e)}}function sn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Zp(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=Of(e);Qu(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(en(g,""),r.flags&=-33);var E=Of(e);Qu(e,E,g);break;case 3:case 4:var w=r.stateNode.containerInfo,k=Of(e);Vf(e,k,w);break;default:throw Error(s(161))}}catch(j){Ft(e,e.return,j)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ay(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ty(e,n.alternate,n),n=n.sibling}function Is(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ar(4,n,n.return),Is(n);break;case 1:_i(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Xp(n,n.return,r),Is(n);break;case 27:sl(n.stateNode);case 26:case 5:_i(n,n.return),Is(n);break;case 22:n.memoizedState===null&&Is(n);break;case 30:Is(n);break;default:Is(n)}e=e.sibling}}function Hi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(h,f,r),Xo(4,f);break;case 1:if(Hi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Ft(o,o.return,k)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Pg(w[h],E)}catch(k){Ft(o,o.return,k)}}r&&g&64&&Kp(f),$o(f,f.return);break;case 27:Jp(f);case 26:case 5:Hi(h,f,r),r&&o===null&&g&4&&$p(f),$o(f,f.return);break;case 12:Hi(h,f,r);break;case 31:Hi(h,f,r),r&&g&4&&iy(h,f);break;case 13:Hi(h,f,r),r&&g&4&&ry(h,f);break;case 22:f.memoizedState===null&&Hi(h,f,r),$o(f,f.return);break;case 30:break;default:Hi(h,f,r)}n=n.sibling}}function Uf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&xo(r))}function Lf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e))}function Qn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)oy(e,n,r,o),n=n.sibling}function oy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,r,o),h&2048&&Xo(9,n);break;case 1:Qn(e,n,r,o);break;case 3:Qn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e)));break;case 12:if(h&2048){Qn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Ft(n,n.return,w)}}else Qn(e,n,r,o);break;case 31:Qn(e,n,r,o);break;case 13:Qn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,r,o):Zo(e,n):f._visibility&2?Qn(e,n,r,o):(f._visibility|=2,Sa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Uf(g,n);break;case 24:Qn(e,n,r,o),h&2048&&Lf(n.alternate,n);break;default:Qn(e,n,r,o)}}function Sa(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,w=o,k=g.flags;switch(g.tag){case 0:case 11:case 15:Sa(f,g,E,w,h),Xo(8,g);break;case 23:break;case 22:var j=g.stateNode;g.memoizedState!==null?j._visibility&2?Sa(f,g,E,w,h):Zo(f,g):(j._visibility|=2,Sa(f,g,E,w,h)),h&&k&2048&&Uf(g.alternate,g);break;case 24:Sa(f,g,E,w,h),h&&k&2048&&Lf(g.alternate,g);break;default:Sa(f,g,E,w,h)}n=n.sibling}}function Zo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Zo(r,o),h&2048&&Uf(o.alternate,o);break;case 24:Zo(r,o),h&2048&&Lf(o.alternate,o);break;default:Zo(r,o)}n=n.sibling}}var Jo=8192;function ba(e,n,r){if(e.subtreeFlags&Jo)for(e=e.child;e!==null;)ly(e,n,r),e=e.sibling}function ly(e,n,r){switch(e.tag){case 26:ba(e,n,r),e.flags&Jo&&e.memoizedState!==null&&XA(r,Fn,e.memoizedState,e.memoizedProps);break;case 5:ba(e,n,r);break;case 3:case 4:var o=Fn;Fn=oc(e.stateNode.containerInfo),ba(e,n,r),Fn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Jo,Jo=16777216,ba(e,n,r),Jo=o):ba(e,n,r));break;default:ba(e,n,r)}}function uy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Le=o,hy(o,e)}uy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cy(e),e=e.sibling}function cy(e){switch(e.tag){case 0:case 11:case 15:Wo(e),e.flags&2048&&Ar(9,e,e.return);break;case 3:Wo(e);break;case 12:Wo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ku(e)):Wo(e);break;default:Wo(e)}}function Ku(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Le=o,hy(o,e)}uy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ar(8,n,n.return),Ku(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Ku(n));break;default:Ku(n)}e=e.sibling}}function hy(e,n){for(;Le!==null;){var r=Le;switch(r.tag){case 0:case 11:case 15:Ar(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Le=o;else t:for(r=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(ey(o),o===r){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var cA={getCacheForType:function(e){var n=Be(Ee),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Be(Ee).controller.signal}},hA=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Zt=null,bt=null,wt=0,Gt=0,pn=null,Sr=!1,Ra=!1,xf=!1,Gi=0,ue=0,br=0,Cs=0,Pf=0,yn=0,wa=0,tl=null,an=null,kf=!1,Xu=0,fy=0,$u=1/0,Zu=null,Rr=null,Ne=0,wr=null,Ia=null,Fi=0,zf=0,Bf=null,dy=null,el=0,qf=null;function _n(){return(Bt&2)!==0&&wt!==0?wt&-wt:H.T!==null?Yf():Jl()}function my(){if(yn===0)if((wt&536870912)===0||Ot){var e=es;es<<=1,(es&3932160)===0&&(es=262144),yn=e}else yn=536870912;return e=mn.current,e!==null&&(e.flags|=32),yn}function on(e,n,r){(e===Zt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(Ca(e,0),Ir(e,wt,yn,!1)),ns(e,r),((Bt&2)===0||e!==Zt)&&(e===Zt&&((Bt&2)===0&&(Cs|=r),ue===4&&Ir(e,wt,yn,!1)),vi(e))}function gy(e,n,r){if((Bt&6)!==0)throw Error(s(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||xn(e,n),h=o?mA(e,n):Hf(e,n,!0),f=o;do{if(h===0){Ra&&!o&&Ir(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!fA(r)){h=Hf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=tl;var w=E.current.memoizedState.isDehydrated;if(w&&(Ca(E,g).flags|=256),g=Hf(E,g,!1),g!==2){if(xf&&!w){E.errorRecoveryDisabledLanes|=f,Cs|=f,h=4;break t}f=an,an=h,f!==null&&(an===null?an=f:an.push.apply(an,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ca(e,0),Ir(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ir(o,n,yn,!Sr);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Xu+300-Ze(),10<h)){if(Ir(o,n,yn,!Sr),ei(o,0,!0)!==0)break t;Fi=n,o.timeoutHandle=Qy(py.bind(null,o,r,an,Zu,kf,n,yn,Cs,wa,Sr,f,"Throttled",-0,0),h);break t}py(o,r,an,Zu,kf,n,yn,Cs,wa,Sr,f,null,-0,0)}}break}while(!0);vi(e)}function py(e,n,r,o,h,f,g,E,w,k,j,F,z,q){if(e.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},ly(n,f,F);var st=(f&62914560)===f?Xu-Ze():(f&4194048)===f?fy-Ze():0;if(st=$A(F,st),st!==null){Fi=f,e.cancelPendingCommit=st(by.bind(null,e,n,f,r,o,h,g,E,w,j,F,null,z,q)),Ir(e,f,g,!k);return}}by(e,n,f,r,o,h,g,E,w)}function fA(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!fn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ir(e,n,r,o){n&=~Pf,n&=~Cs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ce(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&is(e,r,n)}function Ju(){return(Bt&6)===0?(nl(0),!1):!0}function jf(){if(bt!==null){if(Gt===0)var e=bt.return;else e=bt,Ui=vs=null,rf(e),_a=null,ko=0,e=bt;for(;e!==null;)Yp(e.alternate,e),e=e.return;bt=null}}function Ca(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,VA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Fi=0,jf(),Zt=e,bt=r=Vi(e.current,null),wt=n,Gt=0,pn=null,Sr=!1,Ra=xn(e,n),xf=!1,wa=yn=Pf=Cs=br=ue=0,an=tl=null,kf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ce(o),f=1<<h;n|=e[h],o&=~f}return Gi=n,vu(),r}function yy(e,n){Tt=null,H.H=Qo,n===ya||n===Iu?(n=Mg(),Gt=3):n===Fh?(n=Mg(),Gt=4):Gt=n===Ef?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,bt===null&&(ue=1,qu(e,Rn(n,e.current)))}function _y(){var e=mn.current;return e===null?!0:(wt&4194048)===wt?Dn===null:(wt&62914560)===wt||(wt&536870912)!==0?e===Dn:!1}function vy(){var e=H.H;return H.H=Qo,e===null?Qo:e}function Ey(){var e=H.A;return H.A=cA,e}function Wu(){ue=4,Sr||(wt&4194048)!==wt&&mn.current!==null||(Ra=!0),(br&134217727)===0&&(Cs&134217727)===0||Zt===null||Ir(Zt,wt,yn,!1)}function Hf(e,n,r){var o=Bt;Bt|=2;var h=vy(),f=Ey();(Zt!==e||wt!==n)&&(Zu=null,Ca(e,n)),n=!1;var g=ue;t:do try{if(Gt!==0&&bt!==null){var E=bt,w=pn;switch(Gt){case 8:jf(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var k=Gt;if(Gt=0,pn=null,Da(e,E,w,k),r&&Ra){g=0;break t}break;default:k=Gt,Gt=0,pn=null,Da(e,E,w,k)}}dA(),g=ue;break}catch(j){yy(e,j)}while(!0);return n&&e.shellSuspendCounter++,Ui=vs=null,Bt=o,H.H=h,H.A=f,bt===null&&(Zt=null,wt=0,vu()),g}function dA(){for(;bt!==null;)Ty(bt)}function mA(e,n){var r=Bt;Bt|=2;var o=vy(),h=Ey();Zt!==e||wt!==n?(Zu=null,$u=Ze()+500,Ca(e,n)):Ra=xn(e,n);t:do try{if(Gt!==0&&bt!==null){n=bt;var f=pn;e:switch(Gt){case 1:Gt=0,pn=null,Da(e,n,f,1);break;case 2:case 9:if(Og(f)){Gt=0,pn=null,Ay(n);break}n=function(){Gt!==2&&Gt!==9||Zt!==e||(Gt=7),vi(e)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Og(f)?(Gt=0,pn=null,Ay(n)):(Gt=0,pn=null,Da(e,n,f,7));break;case 5:var g=null;switch(bt.tag){case 26:g=bt.memoizedState;case 5:case 27:var E=bt;if(g?o_(g):E.stateNode.complete){Gt=0,pn=null;var w=E.sibling;if(w!==null)bt=w;else{var k=E.return;k!==null?(bt=k,tc(k)):bt=null}break e}}Gt=0,pn=null,Da(e,n,f,5);break;case 6:Gt=0,pn=null,Da(e,n,f,6);break;case 8:jf(),ue=6;break t;default:throw Error(s(462))}}gA();break}catch(j){yy(e,j)}while(!0);return Ui=vs=null,H.H=o,H.A=h,Bt=r,bt!==null?0:(Zt=null,wt=0,vu(),ue)}function gA(){for(;bt!==null&&!_h();)Ty(bt)}function Ty(e){var n=Fp(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?tc(e):bt=n}function Ay(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=zp(r,n,n.pendingProps,n.type,void 0,wt);break;case 11:n=zp(r,n,n.pendingProps,n.type.render,n.ref,wt);break;case 5:rf(n);default:Yp(r,n),n=bt=Eg(n,Gi),n=Fp(r,n,Gi)}e.memoizedProps=e.pendingProps,n===null?tc(e):bt=n}function Da(e,n,r,o){Ui=vs=null,rf(n),_a=null,ko=0;var h=n.return;try{if(iA(e,h,n,r,wt)){ue=1,qu(e,Rn(r,e.current)),bt=null;return}}catch(f){if(h!==null)throw bt=h,f;ue=1,qu(e,Rn(r,e.current)),bt=null;return}n.flags&32768?(Ot||o===1?e=!0:Ra||(wt&536870912)!==0?e=!1:(Sr=e=!0,(o===2||o===9||o===3||o===6)&&(o=mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Sy(n,e)):tc(n)}function tc(e){var n=e;do{if((n.flags&32768)!==0){Sy(n,Sr);return}e=n.return;var r=aA(n.alternate,n,Gi);if(r!==null){bt=r;return}if(n=n.sibling,n!==null){bt=n;return}bt=n=e}while(n!==null);ue===0&&(ue=5)}function Sy(e,n){do{var r=oA(e.alternate,e);if(r!==null){r.flags&=32767,bt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){bt=e;return}bt=e=r}while(e!==null);ue=6,bt=null}function by(e,n,r,o,h,f,g,E,w){e.cancelPendingCommit=null;do ec();while(Ne!==0);if((Bt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Nh,Th(e,r,f,g,E,w),e===Zt&&(bt=Zt=null,wt=0),Ia=n,wr=e,Fi=r,zf=f,Bf=h,dy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vA(ir,function(){return Dy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=W.p,W.p=2,g=Bt,Bt|=4;try{lA(e,n,r)}finally{Bt=g,W.p=h,H.T=o}}Ne=1,Ry(),wy(),Iy()}}function Ry(){if(Ne===1){Ne=0;var e=wr,n=Ia,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=W.p;W.p=2;var h=Bt;Bt|=4;try{sy(n,e);var f=ed,g=hg(e.containerInfo),E=f.focusedElem,w=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&cg(E.ownerDocument.documentElement,E)){if(w!==null&&Rh(E)){var k=w.start,j=w.end;if(j===void 0&&(j=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(j,E.value.length);else{var F=E.ownerDocument||document,z=F&&F.defaultView||window;if(z.getSelection){var q=z.getSelection(),st=E.textContent.length,ct=Math.min(w.start,st),$t=w.end===void 0?ct:Math.min(w.end,st);!q.extend&&ct>$t&&(g=$t,$t=ct,ct=g);var M=ug(E,ct),D=ug(E,$t);if(M&&D&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=F.createRange();P.setStart(M.node,M.offset),q.removeAllRanges(),ct>$t?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(F=[],q=E;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}dc=!!td,ed=td=null}finally{Bt=h,W.p=o,H.T=r}}e.current=n,Ne=2}}function wy(){if(Ne===2){Ne=0;var e=wr,n=Ia,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=W.p;W.p=2;var h=Bt;Bt|=4;try{ty(e,n.alternate,n)}finally{Bt=h,W.p=o,H.T=r}}Ne=3}}function Iy(){if(Ne===4||Ne===3){Ne=0,Fl();var e=wr,n=Ia,r=Fi,o=dy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,Ia=wr=null,Cy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rr=null),Ci(r),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=W.p,W.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,W.p=h}}(Fi&3)!==0&&ec(),vi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===qf?el++:(el=0,qf=e):el=0,nl(0)}}function Cy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,xo(n)))}function ec(){return Ry(),wy(),Iy(),Dy()}function Dy(){if(Ne!==5)return!1;var e=wr,n=zf;zf=0;var r=Ci(Fi),o=H.T,h=W.p;try{W.p=32>r?32:r,H.T=null,r=Bf,Bf=null;var f=wr,g=Fi;if(Ne=0,Ia=wr=null,Fi=0,(Bt&6)!==0)throw Error(s(331));var E=Bt;if(Bt|=4,cy(f.current),oy(f,f.current,g,r),Bt=E,nl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{W.p=h,H.T=o,Cy(e,n)}}function Ny(e,n,r){n=Rn(r,n),n=vf(e.stateNode,n,2),e=vr(e,n,2),e!==null&&(ns(e,2),vi(e))}function Ft(e,n,r){if(e.tag===3)Ny(e,e,r);else for(;n!==null;){if(n.tag===3){Ny(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rr===null||!Rr.has(o))){e=Rn(r,e),r=Op(2),o=vr(n,r,2),o!==null&&(Vp(r,o,n,e),ns(o,2),vi(o));break}}n=n.return}}function Gf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new hA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(xf=!0,h.add(r),e=pA.bind(null,e,n,r),n.then(e,e))}function pA(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Zt===e&&(wt&r)===r&&(ue===4||ue===3&&(wt&62914560)===wt&&300>Ze()-Xu?(Bt&2)===0&&Ca(e,0):Pf|=r,wa===wt&&(wa=0)),vi(e)}function Oy(e,n){n===0&&(n=Zl()),e=ps(e,n),e!==null&&(ns(e,n),vi(e))}function yA(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Oy(e,r)}function _A(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Oy(e,r)}function vA(e,n){return De(e,n)}var nc=null,Na=null,Ff=!1,ic=!1,Qf=!1,Cr=0;function vi(e){e!==Na&&e.next===null&&(Na===null?nc=Na=e:Na=Na.next=e),ic=!0,Ff||(Ff=!0,TA())}function nl(e,n){if(!Qf&&ic){Qf=!0;do for(var r=!1,o=nc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Ly(o,f))}else f=wt,f=ei(o,o===Zt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||xn(o,f)||(r=!0,Ly(o,f));o=o.next}while(r);Qf=!1}}function EA(){Vy()}function Vy(){ic=Ff=!1;var e=0;Cr!==0&&OA()&&(e=Cr);for(var n=Ze(),r=null,o=nc;o!==null;){var h=o.next,f=My(o,n);f===0?(o.next=null,r===null?nc=h:r.next=h,h===null&&(Na=r)):(r=o,(e!==0||(f&3)!==0)&&(ic=!0)),o=h}Ne!==0&&Ne!==5||nl(e),Cr!==0&&(Cr=0)}function My(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,w=h[g];w===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Eh(E,n)):w<=n&&(e.expiredLanes|=E),f&=~E}if(n=Zt,r=wt,r=ei(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&nr(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||xn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&nr(o),Ci(r)){case 2:case 8:r=ho;break;case 32:r=ir;break;case 268435456:r=Ql;break;default:r=ir}return o=Uy.bind(null,e),r=De(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&nr(o),e.callbackPriority=2,e.callbackNode=null,2}function Uy(e,n){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ec()&&e.callbackNode!==r)return null;var o=wt;return o=ei(e,e===Zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(gy(e,o,n),My(e,Ze()),e.callbackNode!=null&&e.callbackNode===r?Uy.bind(null,e):null)}function Ly(e,n){if(ec())return null;gy(e,n,!0)}function TA(){MA(function(){(Bt&6)!==0?De(co,EA):Vy()})}function Yf(){if(Cr===0){var e=ga;e===0&&(e=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Cr=e}return Cr}function xy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ta(""+e)}function Py(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function AA(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=xy((h[Me]||null).action),g=o.submitter;g&&(n=(n=g[Me]||null)?xy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new fi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Cr!==0){var w=g?Py(h,g):new FormData(h);df(r,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=g?Py(h,g):new FormData(h),df(r,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var Kf=0;Kf<Dh.length;Kf++){var Xf=Dh[Kf],SA=Xf.toLowerCase(),bA=Xf[0].toUpperCase()+Xf.slice(1);Gn(SA,"on"+bA)}Gn(mg,"onAnimationEnd"),Gn(gg,"onAnimationIteration"),Gn(pg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(B0,"onTransitionRun"),Gn(q0,"onTransitionStart"),Gn(j0,"onTransitionCancel"),Gn(yg,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function ky(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],w=E.instance,k=E.currentTarget;if(E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(j){_u(j)}h.currentTarget=null,f=w}else for(g=0;g<o.length;g++){if(E=o[g],w=E.instance,k=E.currentTarget,E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(j){_u(j)}h.currentTarget=null,f=w}}}}function Rt(e,n){var r=n[Xs];r===void 0&&(r=n[Xs]=new Set);var o=e+"__bubble";r.has(o)||(zy(n,e,2,!1),r.add(o))}function $f(e,n,r){var o=0;n&&(o|=4),zy(r,e,o,n)}var rc="_reactListening"+Math.random().toString(36).slice(2);function Zf(e){if(!e[rc]){e[rc]=!0,go.forEach(function(r){r!=="selectionchange"&&(RA.has(r)||$f(r,!1,e),$f(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[rc]||(n[rc]=!0,$f("selectionchange",!1,n))}}function zy(e,n,r,o){switch(m_(n)){case 2:var h=WA;break;case 8:h=tS;break;default:h=fd}r=h.bind(null,n,r,e),h=void 0,!ls||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function Jf(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=si(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){o=f=g;continue t}E=E.parentNode}}o=o.return}ur(function(){var k=f,j=Tn(r),F=[];t:{var z=_g.get(e);if(z!==void 0){var q=fi,st=e;switch(e){case"keypress":if(cs(r)===0)break t;case"keydown":case"keyup":q=gu;break;case"focusin":st="focus",q=fs;break;case"focusout":st="blur",q=fs;break;case"beforeblur":case"afterblur":q=fs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case mg:case gg:case pg:q=lu;break;case yg:q=T;break;case"scroll":case"scrollend":q=Io;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Oi;break;case"toggle":case"beforetoggle":q=Et}var ct=(n&4)!==0,$t=!ct&&(e==="scroll"||e==="scrollend"),M=ct?z!==null?z+"Capture":null:z;ct=[];for(var D=k,P;D!==null;){var G=D;if(P=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||P===null||M===null||(G=Bn(D,M),G!=null&&ct.push(rl(D,G,P))),$t)break;D=D.return}0<ct.length&&(z=new q(z,st,null,r,j),F.push({event:z,listeners:ct}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&r!==bo&&(st=r.relatedTarget||r.fromElement)&&(si(st)||st[ii]))break t;if((q||z)&&(z=j.window===j?j:(z=j.ownerDocument)?z.defaultView||z.parentWindow:window,q?(st=r.relatedTarget||r.toElement,q=k,st=st?si(st):null,st!==null&&($t=c(st),ct=st.tag,st!==$t||ct!==5&&ct!==27&&ct!==6)&&(st=null)):(q=null,st=k),q!==st)){if(ct=Co,G="onMouseLeave",M="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ct=Oi,G="onPointerLeave",M="onPointerEnter",D="pointer"),$t=q==null?z:cn(q),P=st==null?z:cn(st),z=new ct(G,D+"leave",q,r,j),z.target=$t,z.relatedTarget=P,G=null,si(j)===k&&(ct=new ct(M,D+"enter",st,r,j),ct.target=P,ct.relatedTarget=$t,G=ct),$t=G,q&&st)e:{for(ct=wA,M=q,D=st,P=0,G=M;G;G=ct(G))P++;G=0;for(var ot=D;ot;ot=ct(ot))G++;for(;0<P-G;)M=ct(M),P--;for(;0<G-P;)D=ct(D),G--;for(;P--;){if(M===D||D!==null&&M===D.alternate){ct=M;break e}M=ct(M),D=ct(D)}ct=null}else ct=null;q!==null&&By(F,z,q,ct,!1),st!==null&&$t!==null&&By(F,$t,st,ct,!0)}}t:{if(z=k?cn(k):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var xt=ig;else if(eg(z))if(rg)xt=P0;else{xt=L0;var at=U0}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&Ws(k.elementType)&&(xt=ig):xt=x0;if(xt&&(xt=xt(e,k))){ng(F,xt,r,j);break t}at&&at(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&To(z,"number",z.value)}switch(at=k?cn(k):window,e){case"focusin":(eg(at)||at.contentEditable==="true")&&(oa=at,wh=k,Mo=null);break;case"focusout":Mo=wh=oa=null;break;case"mousedown":Ih=!0;break;case"contextmenu":case"mouseup":case"dragend":Ih=!1,fg(F,r,j);break;case"selectionchange":if(z0)break;case"keydown":case"keyup":fg(F,r,j)}var St;if(zt)t:{switch(e){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else aa?ds(e,r)&&(It="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(It="onCompositionStart");It&&(gi&&r.locale!=="ko"&&(aa||It!=="onCompositionStart"?It==="onCompositionEnd"&&aa&&(St=wo()):(hi=j,Ro="value"in hi?hi.value:hi.textContent,aa=!0)),at=sc(k,It),0<at.length&&(It=new mi(It,e,null,r,j),F.push({event:It,listeners:at}),St?It.data=St:(St=sa(r),St!==null&&(It.data=St)))),(St=Sn?N0(e,r):O0(e,r))&&(It=sc(k,"onBeforeInput"),0<It.length&&(at=new mi("onBeforeInput","beforeinput",null,r,j),F.push({event:at,listeners:It}),at.data=St)),AA(F,e,k,r,j)}ky(F,n)})}function rl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function sc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Bn(e,r),h!=null&&o.unshift(rl(e,h,f)),h=Bn(e,n),h!=null&&o.push(rl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function wA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function By(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,w=E.alternate,k=E.stateNode;if(E=E.tag,w!==null&&w===o)break;E!==5&&E!==26&&E!==27||k===null||(w=k,h?(k=Bn(r,f),k!=null&&g.unshift(rl(r,k,w))):h||(k=Bn(r,f),k!=null&&g.push(rl(r,k,w)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var IA=/\r\n?/g,CA=/\u0000|\uFFFD/g;function qy(e){return(typeof e=="string"?e:""+e).replace(IA,`
`).replace(CA,"")}function jy(e,n){return n=qy(n),qy(e)===n}function Xt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||en(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&en(e,""+o);break;case"className":hn(e,"class",o);break;case"tabIndex":hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(e,r,o);break;case"style":So(e,o,f);break;case"data":if(n!=="object"){hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ta(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ta(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=zn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ta(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),Zs(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Zs(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=su.get(r)||r,Zs(e,r,o))}}function Wf(e,n,r,o,h,f){switch(r){case"style":So(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?en(e,o):(typeof o=="number"||typeof o=="bigint")&&en(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!po.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Me]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Zs(e,r,o)}}}function je(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(e,n,f,g,r,null)}}h&&Xt(e,n,"srcSet",r.srcSet,r,null),o&&Xt(e,n,"src",r.src,r,null);return;case"input":Rt("invalid",e);var E=f=g=h=null,w=null,k=null;for(o in r)if(r.hasOwnProperty(o)){var j=r[o];if(j!=null)switch(o){case"name":h=j;break;case"type":g=j;break;case"checked":w=j;break;case"defaultChecked":k=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Xt(e,n,o,j,r,null)}}nu(e,f,E,w,k,g,h,!1);return;case"select":Rt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Xt(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?sr(e,!!o,n,!1):r!=null&&sr(e,!!o,r,!0);return;case"textarea":Rt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xt(e,n,g,E,r,null)}ar(e,o,h,f);return;case"option":for(w in r)if(r.hasOwnProperty(w)&&(o=r[w],o!=null))switch(w){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(e,n,w,o,r,null)}return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<il.length;o++)Rt(il[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in r)if(r.hasOwnProperty(k)&&(o=r[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(e,n,k,o,r,null)}return;default:if(Ws(n)){for(j in r)r.hasOwnProperty(j)&&(o=r[j],o!==void 0&&Wf(e,n,j,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Xt(e,n,E,o,r,null))}function DA(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,w=null,k=null,j=null;for(q in r){var F=r[q];if(r.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":w=F;default:o.hasOwnProperty(q)||Xt(e,n,q,null,o,F)}}for(var z in o){var q=o[z];if(F=r[z],o.hasOwnProperty(z)&&(q!=null||F!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":k=q;break;case"defaultChecked":j=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==F&&Xt(e,n,z,q,o,F)}}Js(e,g,E,w,k,j,f,h);return;case"select":q=g=E=z=null;for(f in r)if(w=r[f],r.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":q=w;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,w)}for(h in o)if(f=o[h],w=r[h],o.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==w&&Xt(e,n,h,f,o,w)}n=E,r=g,o=q,z!=null?sr(e,!!r,z,!1):!!o!=!!r&&(n!=null?sr(e,!!r,n,!0):sr(e,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Xt(e,n,g,h,o,f)}iu(e,z,q);return;case"option":for(var st in r)if(z=r[st],r.hasOwnProperty(st)&&z!=null&&!o.hasOwnProperty(st))switch(st){case"selected":e.selected=!1;break;default:Xt(e,n,st,null,o,z)}for(w in o)if(z=o[w],q=r[w],o.hasOwnProperty(w)&&z!==q&&(z!=null||q!=null))switch(w){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Xt(e,n,w,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in r)z=r[ct],r.hasOwnProperty(ct)&&z!=null&&!o.hasOwnProperty(ct)&&Xt(e,n,ct,null,o,z);for(k in o)if(z=o[k],q=r[k],o.hasOwnProperty(k)&&z!==q&&(z!=null||q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:Xt(e,n,k,z,o,q)}return;default:if(Ws(n)){for(var $t in r)z=r[$t],r.hasOwnProperty($t)&&z!==void 0&&!o.hasOwnProperty($t)&&Wf(e,n,$t,void 0,o,z);for(j in o)z=o[j],q=r[j],!o.hasOwnProperty(j)||z===q||z===void 0&&q===void 0||Wf(e,n,j,z,o,q);return}}for(var M in r)z=r[M],r.hasOwnProperty(M)&&z!=null&&!o.hasOwnProperty(M)&&Xt(e,n,M,null,o,z);for(F in o)z=o[F],q=r[F],!o.hasOwnProperty(F)||z===q||z==null&&q==null||Xt(e,n,F,z,o,q)}function Hy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Hy(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var w=r[o],k=w.startTime;if(k>E)break;var j=w.transferSize,F=w.initiatorType;j&&Hy(F)&&(w=w.responseEnd,g+=j*(w<E?1:(E-k)/(w-k)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var td=null,ed=null;function ac(e){return e.nodeType===9?e:e.ownerDocument}function Gy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function nd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var id=null;function OA(){var e=window.event;return e&&e.type==="popstate"?e===id?!1:(id=e,!0):(id=null,!1)}var Qy=typeof setTimeout=="function"?setTimeout:void 0,VA=typeof clearTimeout=="function"?clearTimeout:void 0,Yy=typeof Promise=="function"?Promise:void 0,MA=typeof queueMicrotask=="function"?queueMicrotask:typeof Yy<"u"?function(e){return Yy.resolve(null).then(e).catch(UA)}:Qy;function UA(e){setTimeout(function(){throw e})}function Dr(e){return e==="head"}function Ky(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ua(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")sl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,sl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&sl(e.ownerDocument.body);r=h}while(r);Ua(n)}function Xy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function rd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":rd(r),$s(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function LA(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function xA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Nn(e.nextSibling),e===null))return null;return e}function $y(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nn(e.nextSibling),e===null))return null;return e}function sd(e){return e.data==="$?"||e.data==="$~"}function ad(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function PA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Nn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var od=null;function Zy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Nn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Jy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Wy(e,n,r){switch(n=ac(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function sl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);$s(e)}var On=new Map,t_=new Set;function oc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=W.d;W.d={f:kA,r:zA,D:BA,C:qA,L:jA,m:HA,X:FA,S:GA,M:QA};function kA(){var e=Qi.f(),n=Ju();return e||n}function zA(e){var n=En(e);n!==null&&n.tag===5&&n.type==="form"?yp(n):Qi.r(e)}var Oa=typeof document>"u"?null:document;function e_(e,n,r){var o=Oa;if(o&&typeof n=="string"&&n){var h=tn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),t_.has(h)||(t_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),je(n,"link",e),_e(n),o.head.appendChild(n)))}}function BA(e){Qi.D(e),e_("dns-prefetch",e,null)}function qA(e,n){Qi.C(e,n),e_("preconnect",e,n)}function jA(e,n,r){Qi.L(e,n,r);var o=Oa;if(o&&e&&n){var h='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+tn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+tn(r.imageSizes)+'"]')):h+='[href="'+tn(e)+'"]';var f=h;switch(n){case"style":f=Va(e);break;case"script":f=Ma(e)}On.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),On.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(al(f))||n==="script"&&o.querySelector(ol(f))||(n=o.createElement("link"),je(n,"link",e),_e(n),o.head.appendChild(n)))}}function HA(e,n){Qi.m(e,n);var r=Oa;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+tn(o)+'"][href="'+tn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ma(e)}if(!On.has(f)&&(e=S({rel:"modulepreload",href:e},n),On.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ol(f)))return}o=r.createElement("link"),je(o,"link",e),_e(o),r.head.appendChild(o)}}}function GA(e,n,r){Qi.S(e,n,r);var o=Oa;if(o&&e){var h=ai(o).hoistableStyles,f=Va(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(al(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=On.get(f))&&ld(e,r);var w=g=o.createElement("link");_e(w),je(w,"link",e),w._p=new Promise(function(k,j){w.onload=k,w.onerror=j}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,lc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function FA(e,n){Qi.X(e,n);var r=Oa;if(r&&e){var o=ai(r).hoistableScripts,h=Ma(e),f=o.get(h);f||(f=r.querySelector(ol(h)),f||(e=S({src:e,async:!0},n),(n=On.get(h))&&ud(e,n),f=r.createElement("script"),_e(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function QA(e,n){Qi.M(e,n);var r=Oa;if(r&&e){var o=ai(r).hoistableScripts,h=Ma(e),f=o.get(h);f||(f=r.querySelector(ol(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=On.get(h))&&ud(e,n),f=r.createElement("script"),_e(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function n_(e,n,r,o){var h=(h=At.current)?oc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Va(r.href),r=ai(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Va(r.href);var f=ai(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(al(e)))&&!f._p&&(g.instance=f,g.state.loading=5),On.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},On.set(e,r),f||YA(h,e,r,g.state))),n&&o===null)throw Error(s(528,""));return g}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ma(r),r=ai(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Va(e){return'href="'+tn(e)+'"'}function al(e){return'link[rel="stylesheet"]['+e+"]"}function i_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function YA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),je(n,"link",r),_e(n),e.head.appendChild(n))}function Ma(e){return'[src="'+tn(e)+'"]'}function ol(e){return"script[async]"+e}function r_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+tn(r.href)+'"]');if(o)return n.instance=o,_e(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),je(o,"style",h),lc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Va(r.href);var f=e.querySelector(al(h));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=i_(r),(h=On.get(h))&&ld(o,h),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),je(f,"link",o),n.state.loading|=4,lc(f,r.precedence,e),n.instance=f;case"script":return f=Ma(r.src),(h=e.querySelector(ol(f)))?(n.instance=h,_e(h),h):(o=r,(h=On.get(f))&&(o=S({},r),ud(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,lc(o,r.precedence,e));return n.instance}function lc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function ld(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var uc=null;function s_(e,n,r){if(uc===null){var o=new Map,h=uc=new Map;h.set(r,o)}else h=uc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ri]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function a_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function KA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function o_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function XA(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Va(o.href),f=n.querySelector(al(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=cc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,_e(f);return}f=n.ownerDocument||n,o=i_(o),(h=On.get(h))&&ld(o,h),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),je(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=cc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var cd=0;function $A(e,n){return e.stylesheets&&e.count===0&&fc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&cd===0&&(cd=62500*NA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>cd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hc=null;function fc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hc=new Map,n.forEach(ZA,e),hc=null,cc.call(e))}function ZA(e,n){if(!(n.state.loading&4)){var r=hc.get(e);if(r)var o=r.get(null);else{r=new Map,hc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=cc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ll={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function JA(e,n,r,o,h,f,g,E,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function l_(e,n,r,o,h,f,g,E,w,k,j,F){return e=new JA(e,n,r,g,w,k,j,F,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),e.current=f,f.stateNode=e,n=jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Qh(f),e}function u_(e){return e?(e=ca,e):ca}function c_(e,n,r,o,h,f){h=u_(h),o.context===null?o.context=h:o.pendingContext=h,o=_r(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=vr(e,o,n),r!==null&&(on(r,e,n),Bo(r,e,n))}function h_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function hd(e,n){h_(e,n),(e=e.alternate)&&h_(e,n)}function f_(e){if(e.tag===13||e.tag===31){var n=ps(e,67108864);n!==null&&on(n,e,67108864),hd(e,67108864)}}function d_(e){if(e.tag===13||e.tag===31){var n=_n();n=rs(n);var r=ps(e,n);r!==null&&on(r,e,n),hd(e,n)}}var dc=!0;function WA(e,n,r,o){var h=H.T;H.T=null;var f=W.p;try{W.p=2,fd(e,n,r,o)}finally{W.p=f,H.T=h}}function tS(e,n,r,o){var h=H.T;H.T=null;var f=W.p;try{W.p=8,fd(e,n,r,o)}finally{W.p=f,H.T=h}}function fd(e,n,r,o){if(dc){var h=dd(o);if(h===null)Jf(e,n,o,mc,r),g_(e,o);else if(nS(h,e,n,r,o))o.stopPropagation();else if(g_(e,o),n&4&&-1<eS.indexOf(e)){for(;h!==null;){var f=En(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ti(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-ce(g);E.entanglements[1]|=w,g&=~w}vi(f),(Bt&6)===0&&($u=Ze()+500,nl(0))}}break;case 31:case 13:E=ps(f,2),E!==null&&on(E,f,2),Ju(),hd(f,2)}if(f=dd(o),f===null&&Jf(e,n,o,mc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else Jf(e,n,o,null,r)}}function dd(e){return e=Tn(e),md(e)}var mc=null;function md(e){if(mc=null,e=si(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return mc=e,null}function m_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ts()){case co:return 2;case ho:return 8;case ir:case vh:return 32;case Ql:return 268435456;default:return 32}default:return 32}}var gd=!1,Nr=null,Or=null,Vr=null,ul=new Map,cl=new Map,Mr=[],eS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g_(e,n){switch(e){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(n.pointerId)}}function hl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=En(n),n!==null&&f_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function nS(e,n,r,o,h){switch(n){case"focusin":return Nr=hl(Nr,e,n,r,o,h),!0;case"dragenter":return Or=hl(Or,e,n,r,o,h),!0;case"mouseover":return Vr=hl(Vr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return ul.set(f,hl(ul.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,cl.set(f,hl(cl.get(f)||null,e,n,r,o,h)),!0}return!1}function p_(e){var n=si(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Pn(e.priority,function(){d_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Pn(e.priority,function(){d_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=dd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);bo=o,r.target.dispatchEvent(o),bo=null}else return n=En(r),n!==null&&f_(n),e.blockedOn=r,!1;n.shift()}return!0}function y_(e,n,r){gc(e)&&r.delete(n)}function iS(){gd=!1,Nr!==null&&gc(Nr)&&(Nr=null),Or!==null&&gc(Or)&&(Or=null),Vr!==null&&gc(Vr)&&(Vr=null),ul.forEach(y_),cl.forEach(y_)}function pc(e,n){e.blockedOn===n&&(e.blockedOn=null,gd||(gd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,iS)))}var yc=null;function __(e){yc!==e&&(yc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){yc===e&&(yc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(md(o||r)===null)continue;break}var f=En(r);f!==null&&(e.splice(n,3),n-=3,df(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ua(e){function n(w){return pc(w,e)}Nr!==null&&pc(Nr,e),Or!==null&&pc(Or,e),Vr!==null&&pc(Vr,e),ul.forEach(n),cl.forEach(n);for(var r=0;r<Mr.length;r++){var o=Mr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Mr.length&&(r=Mr[0],r.blockedOn===null);)p_(r),r.blockedOn===null&&Mr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Me]||null;if(typeof f=="function")g||__(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Me]||null)E=g.formAction;else if(md(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),__(r)}}}function v_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function pd(e){this._internalRoot=e}_c.prototype.render=pd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=_n();c_(r,o,e,n,null,null)},_c.prototype.unmount=pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;c_(e.current,2,null,e,null,null),Ju(),n[ii]=null}};function _c(e){this._internalRoot=e}_c.prototype.unstable_scheduleHydration=function(e){if(e){var n=Jl();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Mr.length&&n!==0&&n<Mr[r].priority;r++);Mr.splice(r,0,e),r===0&&p_(e)}};var E_=t.version;if(E_!=="19.2.0")throw Error(s(527,E_,"19.2.0"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var rS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{Ln=vc.inject(rS),Pe=vc}catch{}}return dl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",h=Ip,f=Cp,g=Dp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=l_(e,1,!1,null,null,r,o,null,h,f,g,v_),e[ii]=n.current,Zf(e),new pd(n)},dl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,h="",f=Ip,g=Cp,E=Dp,w=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(w=r.formState)),n=l_(e,1,!0,n,r??null,o,h,w,f,g,E,v_),n.context=u_(null),r=n.current,o=_n(),o=rs(o),h=_r(o),h.callback=null,vr(r,h,o),r=o,n.current.lanes=r,ns(n,r),vi(n),e[ii]=n.current,Zf(e),new _c(n)},dl.version="19.2.0",dl}var N_;function mS(){if(N_)return vd.exports;N_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),vd.exports=dS(),vd.exports}var gS=mS();const pS=()=>{};var O_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},yS=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],p=a[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const c=a[i++],d=a[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},oE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,p=d?a[l+1]:0,_=l+2<a.length,y=_?a[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let U=(p&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(U=64)),s.push(i[A],i[S],i[U],i[Q])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(aE(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):yS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],p=l<a.length?i[a.charAt(l)]:0;++l;const y=l<a.length?i[a.charAt(l)]:64;++l;const S=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new _S;const U=c<<2|p>>4;if(s.push(U),y!==64){const Q=p<<4&240|y>>2;if(s.push(Q),S!==64){const J=y<<6&192|S;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class _S extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vS=function(a){const t=aE(a);return oE.encodeByteArray(t,!0)},xc=function(a){return vS(a).replace(/\./g,"")},lE=function(a){try{return oE.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=()=>ES().__FIREBASE_DEFAULTS__,AS=()=>{if(typeof process>"u"||typeof O_>"u")return;const a=O_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},SS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&lE(a[1]);return t&&JSON.parse(t)},eh=()=>{try{return pS()||TS()||AS()||SS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},uE=a=>eh()?.emulatorHosts?.[a],bS=a=>{const t=uE(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},cE=()=>eh()?.config,hE=a=>eh()?.[`_${a}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fE(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[xc(JSON.stringify(i)),xc(JSON.stringify(d)),""].join(".")}const _l={};function IS(){const a={prod:[],emulator:[]};for(const t of Object.keys(_l))_l[t]?a.emulator.push(t):a.prod.push(t);return a}function CS(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let V_=!1;function dE(a,t){if(typeof window>"u"||typeof document>"u"||!Wa(window.location.host)||_l[a]===t||_l[a]||V_)return;_l[a]=t;function i(U){return`__firebase__banner__${U}`}const s="__firebase__banner",c=IS().prod.length>0;function d(){const U=document.getElementById(s);U&&U.remove()}function p(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function _(U,Q){U.setAttribute("width","24"),U.setAttribute("id",Q),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function y(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{V_=!0,d()},U}function A(U,Q){U.setAttribute("id",Q),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function S(){const U=CS(s),Q=i("text"),J=document.getElementById(Q)||document.createElement("span"),et=i("learnmore"),Z=document.getElementById(et)||document.createElement("a"),ht=i("preprendIcon"),vt=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const dt=U.element;p(dt),A(Z,et);const Qt=y();_(vt,ht),dt.append(vt,J,Z,Qt),document.body.appendChild(dt)}c?(J.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function NS(){const a=eh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function MS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function US(){const a=$e();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function LS(){return!NS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xS(){try{return typeof indexedDB=="object"}catch{return!1}}function PS(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="FirebaseError";class er extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=kS,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?zS(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new er(l,p,s)}}function zS(a,t){return a.replace(BS,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const BS=/\{\$([^}]+)}/g;function qS(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Ls(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=a[l],d=t[l];if(M_(c)&&M_(d)){if(!Ls(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function M_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(a){const t=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function jS(a,t){const i=new HS(a,t);return i.subscribe.bind(i)}class HS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");GS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Sd),l.error===void 0&&(l.error=Sd),l.complete===void 0&&(l.complete=Sd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GS(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Sd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(a){return a&&a._delegate?a._delegate:a}class xs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new RS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(YS(t))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Ds){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ds){return this.instances.has(t)}getOptions(t=Ds){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:QS(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ds){return this.component?this.component.multipleInstances?t:Ds:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QS(a){return a===Ds?void 0:a}function YS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new FS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ct||(Ct={}));const XS={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},$S=Ct.INFO,ZS={[Ct.DEBUG]:"log",[Ct.VERBOSE]:"log",[Ct.INFO]:"info",[Ct.WARN]:"warn",[Ct.ERROR]:"error"},JS=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=ZS[t];if(l)console[l](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class om{constructor(t){this.name=t,this._logLevel=$S,this._logHandler=JS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ct))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?XS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ct.DEBUG,...t),this._logHandler(this,Ct.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ct.VERBOSE,...t),this._logHandler(this,Ct.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ct.INFO,...t),this._logHandler(this,Ct.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ct.WARN,...t),this._logHandler(this,Ct.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ct.ERROR,...t),this._logHandler(this,Ct.ERROR,...t)}}const WS=(a,t)=>t.some(i=>a instanceof i);let U_,L_;function t1(){return U_||(U_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e1(){return L_||(L_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mE=new WeakMap,Ld=new WeakMap,gE=new WeakMap,bd=new WeakMap,lm=new WeakMap;function n1(a){const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Br(a.result)),l()},d=()=>{s(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&mE.set(i,a)}).catch(()=>{}),lm.set(t,a),t}function i1(a){if(Ld.has(a))return;const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});Ld.set(a,t)}let xd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Ld.get(a);if(t==="objectStoreNames")return a.objectStoreNames||gE.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Br(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function r1(a){xd=a(xd)}function s1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(Rd(this),t,...i);return gE.set(s,t.sort?t.sort():[t]),Br(s)}:e1().includes(a)?function(...t){return a.apply(Rd(this),t),Br(mE.get(this))}:function(...t){return Br(a.apply(Rd(this),t))}}function a1(a){return typeof a=="function"?s1(a):(a instanceof IDBTransaction&&i1(a),WS(a,t1())?new Proxy(a,xd):a)}function Br(a){if(a instanceof IDBRequest)return n1(a);if(bd.has(a))return bd.get(a);const t=a1(a);return t!==a&&(bd.set(a,t),lm.set(t,a)),t}const Rd=a=>lm.get(a);function o1(a,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),p=Br(d);return s&&d.addEventListener("upgradeneeded",_=>{s(Br(d.result),_.oldVersion,_.newVersion,Br(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const l1=["get","getKey","getAll","getAllKeys","count"],u1=["put","add","delete","clear"],wd=new Map;function x_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(wd.get(t))return wd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=u1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||l1.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return wd.set(t,c),c}r1(a=>({...a,get:(t,i,s)=>x_(t,i)||a.get(t,i,s),has:(t,i)=>!!x_(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(h1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function h1(a){return a.getComponent()?.type==="VERSION"}const Pd="@firebase/app",P_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new om("@firebase/app"),f1="@firebase/app-compat",d1="@firebase/analytics-compat",m1="@firebase/analytics",g1="@firebase/app-check-compat",p1="@firebase/app-check",y1="@firebase/auth",_1="@firebase/auth-compat",v1="@firebase/database",E1="@firebase/data-connect",T1="@firebase/database-compat",A1="@firebase/functions",S1="@firebase/functions-compat",b1="@firebase/installations",R1="@firebase/installations-compat",w1="@firebase/messaging",I1="@firebase/messaging-compat",C1="@firebase/performance",D1="@firebase/performance-compat",N1="@firebase/remote-config",O1="@firebase/remote-config-compat",V1="@firebase/storage",M1="@firebase/storage-compat",U1="@firebase/firestore",L1="@firebase/ai",x1="@firebase/firestore-compat",P1="firebase",k1="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="[DEFAULT]",z1={[Pd]:"fire-core",[f1]:"fire-core-compat",[m1]:"fire-analytics",[d1]:"fire-analytics-compat",[p1]:"fire-app-check",[g1]:"fire-app-check-compat",[y1]:"fire-auth",[_1]:"fire-auth-compat",[v1]:"fire-rtdb",[E1]:"fire-data-connect",[T1]:"fire-rtdb-compat",[A1]:"fire-fn",[S1]:"fire-fn-compat",[b1]:"fire-iid",[R1]:"fire-iid-compat",[w1]:"fire-fcm",[I1]:"fire-fcm-compat",[C1]:"fire-perf",[D1]:"fire-perf-compat",[N1]:"fire-rc",[O1]:"fire-rc-compat",[V1]:"fire-gcs",[M1]:"fire-gcs-compat",[U1]:"fire-fst",[x1]:"fire-fst-compat",[L1]:"fire-vertex","fire-js":"fire-js",[P1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Map,B1=new Map,zd=new Map;function k_(a,t){try{a.container.addComponent(t)}catch(i){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Fa(a){const t=a.name;if(zd.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;zd.set(t,a);for(const i of Pc.values())k_(i,a);for(const i of B1.values())k_(i,a);return!0}function um(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Yn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new Ll("app","Firebase",q1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=k1;function pE(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s={name:kd,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw qr.create("bad-app-name",{appName:String(l)});if(i||(i=cE()),!i)throw qr.create("no-options");const c=Pc.get(l);if(c){if(Ls(i,c.options)&&Ls(s,c.config))return c;throw qr.create("duplicate-app",{appName:l})}const d=new KS(l);for(const _ of zd.values())d.addComponent(_);const p=new j1(i,s,d);return Pc.set(l,p),p}function yE(a=kd){const t=Pc.get(a);if(!t&&a===kd&&cE())return pE();if(!t)throw qr.create("no-app",{appName:a});return t}function jr(a,t,i){let s=z1[a]??a;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(d.join(" "));return}Fa(new xs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="firebase-heartbeat-database",G1=1,Rl="firebase-heartbeat-store";let Id=null;function _E(){return Id||(Id=o1(H1,G1,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Rl)}catch(i){console.warn(i)}}}}).catch(a=>{throw qr.create("idb-open",{originalErrorMessage:a.message})})),Id}async function F1(a){try{const i=(await _E()).transaction(Rl),s=await i.objectStore(Rl).get(vE(a));return await i.done,s}catch(t){if(t instanceof er)Zi.warn(t.message);else{const i=qr.create("idb-get",{originalErrorMessage:t?.message});Zi.warn(i.message)}}}async function z_(a,t){try{const s=(await _E()).transaction(Rl,"readwrite");await s.objectStore(Rl).put(t,vE(a)),await s.done}catch(i){if(i instanceof er)Zi.warn(i.message);else{const s=qr.create("idb-set",{originalErrorMessage:i?.message});Zi.warn(s.message)}}}function vE(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=1024,Y1=30;class K1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new $1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=B_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Y1){const l=Z1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=B_(),{heartbeatsToSend:i,unsentEntries:s}=X1(this._heartbeatsCache.heartbeats),l=xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zi.warn(t),""}}}function B_(){return new Date().toISOString().substring(0,10)}function X1(a,t=Q1){const i=[];let s=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),q_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),q_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class $1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xS()?PS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await F1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function q_(a){return xc(JSON.stringify({version:2,heartbeats:a})).length}function Z1(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(a){Fa(new xs("platform-logger",t=>new c1(t),"PRIVATE")),Fa(new xs("heartbeat",t=>new K1(t),"PRIVATE")),jr(Pd,P_,a),jr(Pd,P_,"esm2020"),jr("fire-js","")}J1("");function EE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W1=EE,TE=new Ll("auth","Firebase",EE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new om("@firebase/auth");function tb(a,...t){kc.logLevel<=Ct.WARN&&kc.warn(`Auth (${to}): ${a}`,...t)}function wc(a,...t){kc.logLevel<=Ct.ERROR&&kc.error(`Auth (${to}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(a,...t){throw hm(a,...t)}function $n(a,...t){return hm(a,...t)}function cm(a,t,i){const s={...W1(),[t]:i};return new Ll("auth","Firebase",s).create(t,{appName:a.name})}function Vs(a){return cm(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eb(a,t,i){const s=i;if(!(t instanceof s))throw s.name!==t.constructor.name&&wi(a,"argument-error"),cm(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hm(a,...t){if(typeof a!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return TE.create(a,...t)}function mt(a,t,...i){if(!a)throw hm(t,...i)}function Ki(a){const t="INTERNAL ASSERTION FAILED: "+a;throw wc(t),new Error(t)}function Ji(a,t){a||Ki(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(){return typeof self<"u"&&self.location?.href||""}function nb(){return j_()==="http:"||j_()==="https:"}function j_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nb()||VS()||"connection"in navigator)?navigator.onLine:!0}function rb(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Ji(i>t,"Short delay should be less than long delay!"),this.isMobile=DS()||MS()}get(){return ib()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(a,t){Ji(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ob=new Pl(3e4,6e4);function dm(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function eo(a,t,i,s,l={}){return SE(a,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const p=xl({key:a.config.apiKey,...d}).slice(1),_=await a._getAdditionalHeaders();_["Content-Type"]="application/json",a.languageCode&&(_["X-Firebase-Locale"]=a.languageCode);const y={method:t,headers:_,...c};return OS()||(y.referrerPolicy="no-referrer"),a.emulatorConfig&&Wa(a.emulatorConfig.host)&&(y.credentials="include"),AE.fetch()(await bE(a,a.config.apiHost,i,p),y)})}async function SE(a,t,i){a._canInitEmulator=!1;const s={...sb,...t};try{const l=new ub(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ec(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(a,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Ec(a,"email-already-in-use",d);if(_==="USER_DISABLED")throw Ec(a,"user-disabled",d);const A=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw cm(a,A,y);wi(a,A)}}catch(l){if(l instanceof er)throw l;wi(a,"network-request-failed",{message:String(l)})}}async function lb(a,t,i,s,l={}){const c=await eo(a,t,i,s,l);return"mfaPendingCredential"in c&&wi(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function bE(a,t,i,s){const l=`${t}${i}?${s}`,c=a,d=c.config.emulator?fm(a.config,l):`${a.config.apiScheme}://${l}`;return ab.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class ub{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s($n(this.auth,"network-request-failed")),ob.get())})}}function Ec(a,t,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=$n(a,t,s);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cb(a,t){return eo(a,"POST","/v1/accounts:delete",t)}async function zc(a,t){return eo(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function hb(a,t=!1){const i=un(a),s=await i.getIdToken(t),l=mm(s);mt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:vl(Cd(l.auth_time)),issuedAtTime:vl(Cd(l.iat)),expirationTime:vl(Cd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Cd(a){return Number(a)*1e3}function mm(a){const[t,i,s]=a.split(".");if(t===void 0||i===void 0||s===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{const l=lE(i);return l?JSON.parse(l):(wc("Failed to decode base64 JWT payload"),null)}catch(l){return wc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function H_(a){const t=mm(a);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(a,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof er&&fb(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function fb({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(a){const t=a.auth,i=await a.getIdToken(),s=await wl(a,zc(t,{idToken:i}));mt(s?.users.length,t,"internal-error");const l=s.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?RE(l.providerUserInfo):[],d=gb(a.providerData,c),p=a.isAnonymous,_=!(a.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new qd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(a,A)}async function mb(a){const t=un(a);await Bc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function gb(a,t){return[...a.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function RE(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(a,t){const i=await SE(a,{},async()=>{const s=xl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await bE(a,l,"/v1/token",`key=${c}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:s};return a.emulatorConfig&&Wa(a.emulatorConfig.host)&&(_.credentials="include"),AE.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function yb(a,t){return eo(a,"POST","/v2/accounts:revokeToken",dm(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):H_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=H_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await pb(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Ba;return s&&(mt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(mt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ba,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(a,t){mt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Kn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new db(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new qd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await wl(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return hb(this,t)}reload(){return mb(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Kn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Bc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Vs(this.auth));const t=await this.getIdToken();return await wl(this,cb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:U,isAnonymous:Q,providerData:J,stsTokenManager:et}=i;mt(S&&et,t,"internal-error");const Z=Ba.fromJSON(this.name,et);mt(typeof S=="string",t,"internal-error"),Lr(s,t.name),Lr(l,t.name),mt(typeof U=="boolean",t,"internal-error"),mt(typeof Q=="boolean",t,"internal-error"),Lr(c,t.name),Lr(d,t.name),Lr(p,t.name),Lr(_,t.name),Lr(y,t.name),Lr(A,t.name);const ht=new Kn({uid:S,auth:t,email:l,emailVerified:U,displayName:s,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:y,lastLoginAt:A});return J&&Array.isArray(J)&&(ht.providerData=J.map(vt=>({...vt}))),_&&(ht._redirectEventId=_),ht}static async _fromIdTokenResponse(t,i,s=!1){const l=new Ba;l.updateFromServerResponse(i);const c=new Kn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Bc(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];mt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?RE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ba;p.updateFromIdToken(s);const _=new Kn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new qd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=new Map;function Xi(a){Ji(a instanceof Function,"Expected a class definition");let t=G_.get(a);return t?(Ji(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,G_.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}wE.type="NONE";const F_=wE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(a,t,i){return`firebase:${a}:${t}:${i}`}class qa{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Ic(this.userKey,l.apiKey,c),this.fullPersistenceKey=Ic("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await zc(this.auth,{idToken:t}).catch(()=>{});return i?Kn._fromGetAccountInfoResponse(this.auth,i,t):null}return Kn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new qa(Xi(F_),t,s);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Xi(F_);const d=Ic(s,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const U=await zc(t,{idToken:A}).catch(()=>{});if(!U)break;S=await Kn._fromGetAccountInfoResponse(t,U,A)}else S=Kn._fromJSON(t,A);y!==c&&(p=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new qa(c,t,s):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new qa(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(NE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(IE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(VE(t))return"Blackberry";if(ME(t))return"Webos";if(CE(t))return"Safari";if((t.includes("chrome/")||DE(t))&&!t.includes("edge/"))return"Chrome";if(OE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if(s?.length===2)return s[1]}return"Other"}function IE(a=$e()){return/firefox\//i.test(a)}function CE(a=$e()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function DE(a=$e()){return/crios\//i.test(a)}function NE(a=$e()){return/iemobile/i.test(a)}function OE(a=$e()){return/android/i.test(a)}function VE(a=$e()){return/blackberry/i.test(a)}function ME(a=$e()){return/webos/i.test(a)}function gm(a=$e()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function _b(a=$e()){return gm(a)&&!!window.navigator?.standalone}function vb(){return US()&&document.documentMode===10}function UE(a=$e()){return gm(a)||OE(a)||ME(a)||VE(a)||/windows phone/i.test(a)||NE(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(a,t=[]){let i;switch(a){case"Browser":i=Q_($e());break;case"Worker":i=`${Q_($e())}-${a}`;break;default:i=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${to}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tb(a,t={}){return eo(a,"GET","/v2/passwordPolicy",dm(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=6;class Sb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Ab,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y_(this),this.idTokenSubscription=new Y_(this),this.beforeStateQueue=new Eb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await zc(this,{idToken:t}),s=await Kn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Bc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=rb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(Vs(this));const i=t?un(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Tb(this),i=new Sb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ll("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await yb(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,s,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=LE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&tb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function nh(a){return un(a)}class Y_{constructor(t){this.auth=t,this.observer=null,this.addObserver=jS(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rb(a){pm=a}function wb(a){return pm.loadJS(a)}function Ib(){return pm.gapiScript}function Cb(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(a,t){const i=um(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ls(c,t??{}))return l;wi(l,"already-initialized")}return i.initialize({options:t})}function Nb(a,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(Xi);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t?.popupRedirectResolver)}function Ob(a,t,i){const s=nh(a);mt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=xE(t),{host:d,port:p}=Vb(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){mt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),mt(Ls(y,s.config.emulator)&&Ls(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Wa(d)?(fE(`${c}//${d}${_}`),dE("Auth",!0)):Mb()}function xE(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function Vb(a){const t=xE(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:K_(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:K_(d)}}}function K_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function Mb(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ki("not implemented")}_getIdTokenResponse(t){return Ki("not implemented")}_linkToIdToken(t,i){return Ki("not implemented")}_getReauthenticationResolver(t){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(a,t){return lb(a,"POST","/v1/accounts:signInWithIdp",dm(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="http://localhost";class Ps extends PE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ps(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):wi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Ps(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return ja(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,ja(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ja(t,i)}buildRequest(){const t={requestUri:Ub,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=xl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends ym{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends kl{constructor(){super("facebook.com")}static credential(t){return Ps._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ps._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Yi.credentialFromTaggedObject(t)}static credentialFromError(t){return Yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Yi.credential(i,s)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends kl{constructor(){super("github.com")}static credential(t){return Ps._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends kl{constructor(){super("twitter.com")}static credential(t,i){return Ps._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return kr.credential(i,s)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Kn._fromIdTokenResponse(t,s,l),d=X_(s);return new Qa({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=X_(s);return new Qa({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function X_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends er{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new qc(t,i,s,l)}}function kE(a,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?qc._fromErrorAndOperation(a,c,t,s):c})}async function Lb(a,t,i=!1){const s=await wl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Qa._forOperation(a,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb(a,t,i=!1){const{auth:s}=a;if(Yn(s.app))return Promise.reject(Vs(s));const l="reauthenticate";try{const c=await wl(a,kE(s,l,t,a),i);mt(c.idToken,s,"internal-error");const d=mm(c.idToken);mt(d,s,"internal-error");const{sub:p}=d;return mt(a.uid===p,s,"user-mismatch"),Qa._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&wi(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pb(a,t,i=!1){if(Yn(a.app))return Promise.reject(Vs(a));const s="signIn",l=await kE(a,s,t),c=await Qa._fromIdTokenResponse(a,s,l);return i||await a._updateCurrentUser(c.user),c}function kb(a,t,i,s){return un(a).onIdTokenChanged(t,i,s)}function zb(a,t,i){return un(a).beforeAuthStateChanged(t,i)}function Bb(a,t,i,s){return un(a).onAuthStateChanged(t,i,s)}const jc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(jc,"1"),this.storage.removeItem(jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=1e3,jb=10;class BE extends zE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);vb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,jb):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},qb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}BE.type="LOCAL";const Hb=BE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE extends zE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}qE.type="SESSION";const jE=qE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new ih(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await Gb(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(a="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=_m("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const U=S;if(U.data.eventId===y)switch(U.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(U.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(){return window}function Qb(a){Ti().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function Yb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Kb(){return navigator?.serviceWorker?.controller||null}function Xb(){return HE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="firebaseLocalStorageDb",$b=1,Hc="firebaseLocalStorage",FE="fbase_key";class zl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rh(a,t){return a.transaction([Hc],t?"readwrite":"readonly").objectStore(Hc)}function Zb(){const a=indexedDB.deleteDatabase(GE);return new zl(a).toPromise()}function jd(){const a=indexedDB.open(GE,$b);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(Hc,{keyPath:FE})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(Hc)?t(s):(s.close(),await Zb(),t(await jd()))})})}async function $_(a,t,i){const s=rh(a,!0).put({[FE]:t,value:i});return new zl(s).toPromise()}async function Jb(a,t){const i=rh(a,!1).get(t),s=await new zl(i).toPromise();return s===void 0?null:s.value}function Z_(a,t){const i=rh(a,!0).delete(t);return new zl(i).toPromise()}const Wb=800,tR=3;class QE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>tR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(Xb()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Yb(),!this.activeServiceWorker)return;this.sender=new Fb(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Kb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await jd();return await $_(t,jc,"1"),await Z_(t,jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>$_(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>Jb(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Z_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=rh(l,!1).getAll();return new zl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Wb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QE.type="LOCAL";const eR=QE;new Pl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(a,t){return t?Xi(t):(mt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm extends PE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function nR(a){return Pb(a.auth,new vm(a),a.bypassAuthState)}function iR(a){const{auth:t,user:i}=a;return mt(i,t,"internal-error"),xb(i,new vm(a),a.bypassAuthState)}async function rR(a){const{auth:t,user:i}=a;return mt(i,t,"internal-error"),Lb(i,new vm(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return nR;case"linkViaPopup":case"linkViaRedirect":return rR;case"reauthViaPopup":case"reauthViaRedirect":return iR;default:wi(this.auth,"internal-error")}}resolve(t){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=new Pl(2e3,1e4);async function aR(a,t,i){if(Yn(a.app))return Promise.reject($n(a,"operation-not-supported-in-this-environment"));const s=nh(a);eb(a,t,ym);const l=YE(s,i);return new Ns(s,"signInViaPopup",t,l).executeNotNull()}class Ns extends KE{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ns.currentPopupAction&&Ns.currentPopupAction.cancel(),Ns.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const t=_m();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ns.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,sR.get())};t()}}Ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="pendingRedirect",Cc=new Map;class lR extends KE{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Cc.get(this.auth._key());if(!t){try{const s=await uR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Cc.set(this.auth._key(),t)}return this.bypassAuthState||Cc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uR(a,t){const i=fR(t),s=hR(a);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function cR(a,t){Cc.set(a._key(),t)}function hR(a){return Xi(a._redirectPersistence)}function fR(a){return Ic(oR,a.config.apiKey,a.name)}async function dR(a,t,i=!1){if(Yn(a.app))return Promise.reject(Vs(a));const s=nh(a),l=YE(s,t),d=await new lR(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=600*1e3;class gR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!XE(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError($n(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=mR&&this.cachedEventUids.clear(),this.cachedEventUids.has(J_(t))}saveEventToCache(t){this.cachedEventUids.add(J_(t)),this.lastProcessedEventTime=Date.now()}}function J_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function XE({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function pR(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XE(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(a,t={}){return eo(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vR=/^https?/;async function ER(a){if(a.config.emulator)return;const{authorizedDomains:t}=await yR(a);for(const i of t)try{if(TR(i))return}catch{}wi(a,"unauthorized-domain")}function TR(a){const t=Bd(),{protocol:i,hostname:s}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!vR.test(i))return!1;if(_R.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=new Pl(3e4,6e4);function W_(){const a=Ti().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function SR(a){return new Promise((t,i)=>{function s(){W_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{W_(),i($n(a,"network-request-failed"))},timeout:AR.get()})}if(Ti().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ti().gapi?.load)s();else{const l=Cb("iframefcb");return Ti()[l]=()=>{gapi.load?s():i($n(a,"network-request-failed"))},wb(`${Ib()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Dc=null,t})}let Dc=null;function bR(a){return Dc=Dc||SR(a),Dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Pl(5e3,15e3),wR="__/auth/iframe",IR="emulator/auth/iframe",CR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NR(a){const t=a.config;mt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?fm(t,IR):`https://${a.config.authDomain}/${wR}`,s={apiKey:t.apiKey,appName:a.name,v:to},l=DR.get(a.config.apiHost);l&&(s.eid=l);const c=a._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${xl(s).slice(1)}`}async function OR(a){const t=await bR(a),i=Ti().gapi;return mt(i,a,"internal-error"),t.open({where:document.body,url:NR(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=$n(a,"network-request-failed"),p=Ti().setTimeout(()=>{c(d)},RR.get());function _(){Ti().clearTimeout(p),l(s)}s.ping(_).then(_,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MR=500,UR=600,LR="_blank",xR="http://localhost";class tv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PR(a,t,i,s=MR,l=UR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const _={...VR,width:s.toString(),height:l.toString(),top:c,left:d},y=$e().toLowerCase();i&&(p=DE(y)?LR:i),IE(y)&&(t=t||xR,_.scrollbars="yes");const A=Object.entries(_).reduce((U,[Q,J])=>`${U}${Q}=${J},`,"");if(_b(y)&&p!=="_self")return kR(t||"",p),new tv(null);const S=window.open(t||"",p,A);mt(S,a,"popup-blocked");try{S.focus()}catch{}return new tv(S)}function kR(a,t){const i=document.createElement("a");i.href=a,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="__/auth/handler",BR="emulator/auth/handler",qR=encodeURIComponent("fac");async function ev(a,t,i,s,l,c){mt(a.config.authDomain,a,"auth-domain-config-required"),mt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:to,eventId:l};if(t instanceof ym){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",qS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof kl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await a._getAppCheckToken(),y=_?`#${qR}=${encodeURIComponent(_)}`:"";return`${jR(a)}?${xl(p).slice(1)}${y}`}function jR({config:a}){return a.emulator?fm(a,BR):`https://${a.authDomain}/${zR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="webStorageSupport";class HR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jE,this._completeRedirectFn=dR,this._overrideRedirectResult=cR}async _openPopup(t,i,s,l){Ji(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await ev(t,i,s,Bd(),l);return PR(t,c,_m())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await ev(t,i,s,Bd(),l);return Qb(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ji(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await OR(t),s=new gR(t);return i.register("authEvent",l=>(mt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Dd,{type:Dd},l=>{const c=l?.[0]?.[Dd];c!==void 0&&i(!!c),wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ER(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return UE()||CE()||gm()}}const GR=HR;var nv="@firebase/auth",iv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YR(a){Fa(new xs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LE(a)},y=new bb(s,l,c,_);return Nb(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Fa(new xs("auth-internal",t=>{const i=nh(t.getProvider("auth").getImmediate());return(s=>new FR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(nv,iv,QR(a)),jr(nv,iv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=300,XR=hE("authIdTokenMaxAge")||KR;let rv=null;const $R=a=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>XR)return;const l=i?.token;rv!==l&&(rv=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function ZR(a=yE()){const t=um(a,"auth");if(t.isInitialized())return t.getImmediate();const i=Db(a,{popupRedirectResolver:GR,persistence:[eR,Hb,jE]}),s=hE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=$R(c.toString());zb(i,d,()=>d(i.currentUser)),kb(i,p=>d(p))}}const l=uE("auth");return l&&Ob(i,`http://${l}`),i}function JR(){return document.getElementsByTagName("head")?.[0]??document}Rb({loadJS(a){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=t,s.onerror=l=>{const c=$n("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",JR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YR("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function WR(a,t,i,s){function l(c){return c instanceof i?c:new i(function(d){d(c)})}return new(i||(i=Promise))(function(c,d){function p(A){try{y(s.next(A))}catch(S){d(S)}}function _(A){try{y(s.throw(A))}catch(S){d(S)}}function y(A){A.done?c(A.value):l(A.value).then(p,_)}y((s=s.apply(a,[])).next())})}function tw(a,t){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,l,c,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(y){return function(A){return _([y,A])}}function _(y){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return i.label++,{value:y[1],done:!1};case 5:i.label++,l=y[1],y=[0];continue;case 7:y=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){i=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){i.label=y[1];break}if(y[0]===6&&i.label<c[1]){i.label=c[1],c=y;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(y);break}c[2]&&i.ops.pop(),i.trys.pop();continue}y=t.call(a,i)}catch(A){y=[6,A],l=0}finally{s=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var za=function(){return za=Object.assign||function(t){for(var i,s=1,l=arguments.length;s<l;s++){i=arguments[s];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c])}return t},za.apply(this,arguments)},$E=function(a){return{loading:a==null,value:a}},ew=function(){return function(a,t){switch(t.type){case"error":return za(za({},a),{error:t.error,loading:!1,value:void 0});case"reset":return $E(t.defaultValue);case"value":return za(za({},a),{error:void 0,loading:!1,value:t.value});default:return a}}},nw=(function(a){var t=a?a():void 0,i=Vn.useReducer(ew(),$E(t)),s=i[0],l=i[1],c=Vn.useCallback(function(){var _=a?a():void 0;l({type:"reset",defaultValue:_})},[a]),d=Vn.useCallback(function(_){l({type:"error",error:_})},[]),p=Vn.useCallback(function(_){l({type:"value",value:_})},[]);return Vn.useMemo(function(){return{error:s.error,loading:s.loading,reset:c,setError:d,setValue:p,value:s.value}},[s.error,s.loading,c,d,p,s.value])}),iw=(function(a,t){var i=nw(function(){return a.currentUser}),s=i.error,l=i.loading,c=i.setError,d=i.setValue,p=i.value;return Vn.useEffect(function(){var _=Bb(a,function(y){return WR(void 0,void 0,void 0,function(){var A;return tw(this,function(S){switch(S.label){case 0:return[3,4];case 1:return S.trys.push([1,3,,4]),[4,t.onUserChanged(y)];case 2:return S.sent(),[3,4];case 3:return A=S.sent(),c(A),[3,4];case 4:return d(y),[2]}})})},c);return function(){_()}},[a]),[p,l,s]}),rw="firebase",sw="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(rw,sw,"app");var sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hr,ZE;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,N,L){for(var R=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)R[ie-2]=arguments[ie];return b.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const V=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)V[N]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],N=C.g[2];let L=C.g[3],R;R=b+(L^I&(N^L))+V[0]+3614090360&4294967295,b=I+(R<<7&4294967295|R>>>25),R=L+(N^b&(I^N))+V[1]+3905402710&4294967295,L=b+(R<<12&4294967295|R>>>20),R=N+(I^L&(b^I))+V[2]+606105819&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(b^N&(L^b))+V[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=b+(L^I&(N^L))+V[4]+4118548399&4294967295,b=I+(R<<7&4294967295|R>>>25),R=L+(N^b&(I^N))+V[5]+1200080426&4294967295,L=b+(R<<12&4294967295|R>>>20),R=N+(I^L&(b^I))+V[6]+2821735955&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(b^N&(L^b))+V[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=b+(L^I&(N^L))+V[8]+1770035416&4294967295,b=I+(R<<7&4294967295|R>>>25),R=L+(N^b&(I^N))+V[9]+2336552879&4294967295,L=b+(R<<12&4294967295|R>>>20),R=N+(I^L&(b^I))+V[10]+4294925233&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(b^N&(L^b))+V[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=b+(L^I&(N^L))+V[12]+1804603682&4294967295,b=I+(R<<7&4294967295|R>>>25),R=L+(N^b&(I^N))+V[13]+4254626195&4294967295,L=b+(R<<12&4294967295|R>>>20),R=N+(I^L&(b^I))+V[14]+2792965006&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(b^N&(L^b))+V[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=b+(N^L&(I^N))+V[1]+4129170786&4294967295,b=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(b^I))+V[6]+3225465664&4294967295,L=b+(R<<9&4294967295|R>>>23),R=N+(b^I&(L^b))+V[11]+643717713&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^b&(N^L))+V[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=b+(N^L&(I^N))+V[5]+3593408605&4294967295,b=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(b^I))+V[10]+38016083&4294967295,L=b+(R<<9&4294967295|R>>>23),R=N+(b^I&(L^b))+V[15]+3634488961&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^b&(N^L))+V[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=b+(N^L&(I^N))+V[9]+568446438&4294967295,b=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(b^I))+V[14]+3275163606&4294967295,L=b+(R<<9&4294967295|R>>>23),R=N+(b^I&(L^b))+V[3]+4107603335&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^b&(N^L))+V[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=b+(N^L&(I^N))+V[13]+2850285829&4294967295,b=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(b^I))+V[2]+4243563512&4294967295,L=b+(R<<9&4294967295|R>>>23),R=N+(b^I&(L^b))+V[7]+1735328473&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^b&(N^L))+V[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=b+(I^N^L)+V[5]+4294588738&4294967295,b=I+(R<<4&4294967295|R>>>28),R=L+(b^I^N)+V[8]+2272392833&4294967295,L=b+(R<<11&4294967295|R>>>21),R=N+(L^b^I)+V[11]+1839030562&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^b)+V[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=b+(I^N^L)+V[1]+2763975236&4294967295,b=I+(R<<4&4294967295|R>>>28),R=L+(b^I^N)+V[4]+1272893353&4294967295,L=b+(R<<11&4294967295|R>>>21),R=N+(L^b^I)+V[7]+4139469664&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^b)+V[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=b+(I^N^L)+V[13]+681279174&4294967295,b=I+(R<<4&4294967295|R>>>28),R=L+(b^I^N)+V[0]+3936430074&4294967295,L=b+(R<<11&4294967295|R>>>21),R=N+(L^b^I)+V[3]+3572445317&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^b)+V[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=b+(I^N^L)+V[9]+3654602809&4294967295,b=I+(R<<4&4294967295|R>>>28),R=L+(b^I^N)+V[12]+3873151461&4294967295,L=b+(R<<11&4294967295|R>>>21),R=N+(L^b^I)+V[15]+530742520&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^b)+V[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=b+(N^(I|~L))+V[0]+4096336452&4294967295,b=I+(R<<6&4294967295|R>>>26),R=L+(I^(b|~N))+V[7]+1126891415&4294967295,L=b+(R<<10&4294967295|R>>>22),R=N+(b^(L|~I))+V[14]+2878612391&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~b))+V[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=b+(N^(I|~L))+V[12]+1700485571&4294967295,b=I+(R<<6&4294967295|R>>>26),R=L+(I^(b|~N))+V[3]+2399980690&4294967295,L=b+(R<<10&4294967295|R>>>22),R=N+(b^(L|~I))+V[10]+4293915773&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~b))+V[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=b+(N^(I|~L))+V[8]+1873313359&4294967295,b=I+(R<<6&4294967295|R>>>26),R=L+(I^(b|~N))+V[15]+4264355552&4294967295,L=b+(R<<10&4294967295|R>>>22),R=N+(b^(L|~I))+V[6]+2734768916&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~b))+V[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=b+(N^(I|~L))+V[4]+4149444226&4294967295,b=I+(R<<6&4294967295|R>>>26),R=L+(I^(b|~N))+V[11]+3174756917&4294967295,L=b+(R<<10&4294967295|R>>>22),R=N+(b^(L|~I))+V[2]+718787259&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~b))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,V=this.C;let N=this.h,L=0;for(;L<b;){if(N==0)for(;L<=I;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<b;)if(V[N++]=C.charCodeAt(L++),N==this.blockSize){l(this,V),N=0;break}}else for(;L<b;)if(V[N++]=C[L++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[b++]=this.g[I]>>>V&255;return C};function c(C,b){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let V=!0;for(let N=C.length-1;N>=0;N--){const L=C[N]|0;V&&L==b||(I[N]=L,V=!1)}this.g=I}var p={};function _(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return Z(y(-C));const b=[];let I=1;for(let V=0;C>=I;V++)b[V]=C/I|0,I*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return Z(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(b,8));let V=S;for(let L=0;L<C.length;L+=8){var N=Math.min(8,C.length-L);const R=parseInt(C.substring(L,L+N),b);N<8?(N=y(Math.pow(b,N)),V=V.j(N).add(y(R))):(V=V.j(I),V=V.add(y(R)))}return V}var S=_(0),U=_(1),Q=_(16777216);a=d.prototype,a.m=function(){if(et(this))return-Z(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*b,b*=4294967296}return C},a.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if(et(this))return"-"+Z(this).toString(C);const b=y(Math.pow(C,6));var I=this;let V="";for(;;){const N=Qt(I,b).g;I=ht(I,N.j(b));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,J(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},a.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function et(C){return C.h==-1}a.l=function(C){return C=ht(this,C),et(C)?-1:J(C)?0:1};function Z(C){const b=C.g.length,I=[];for(let V=0;V<b;V++)I[V]=~C.g[V];return new d(I,~C.h).add(U)}a.abs=function(){return et(this)?Z(this):this},a.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let N=0;N<=b;N++){let L=V+(this.i(N)&65535)+(C.i(N)&65535),R=(L>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=R>>>16,L&=65535,R&=65535,I[N]=R<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ht(C,b){return C.add(Z(b))}a.j=function(C){if(J(this)||J(C))return S;if(et(this))return et(C)?Z(this).j(Z(C)):Z(Z(this).j(C));if(et(C))return Z(this.j(Z(C)));if(this.l(Q)<0&&C.l(Q)<0)return y(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var V=0;V<2*b;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const L=this.i(V)>>>16,R=this.i(V)&65535,ie=C.i(N)>>>16,Ie=C.i(N)&65535;I[2*V+2*N]+=R*Ie,vt(I,2*V+2*N),I[2*V+2*N+1]+=L*Ie,vt(I,2*V+2*N+1),I[2*V+2*N+1]+=R*ie,vt(I,2*V+2*N+1),I[2*V+2*N+2]+=L*ie,vt(I,2*V+2*N+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function vt(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function dt(C,b){this.g=C,this.h=b}function Qt(C,b){if(J(b))throw Error("division by zero");if(J(C))return new dt(S,S);if(et(C))return b=Qt(Z(C),b),new dt(Z(b.g),Z(b.h));if(et(b))return b=Qt(C,Z(b)),new dt(Z(b.g),b.h);if(C.g.length>30){if(et(C)||et(b))throw Error("slowDivide_ only works with positive integers.");for(var I=U,V=b;V.l(C)<=0;)I=Wt(I),V=Wt(V);var N=Ut(I,1),L=Ut(V,1);for(V=Ut(V,2),I=Ut(I,2);!J(V);){var R=L.add(V);R.l(C)<=0&&(N=N.add(I),L=R),V=Ut(V,1),I=Ut(I,1)}return b=ht(C,N.j(b)),new dt(N,b)}for(N=S;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(I),R=L.j(b);et(R)||R.l(C)>0;)I-=V,L=y(I),R=L.j(b);J(L)&&(L=U),N=N.add(L),C=ht(C,R)}return new dt(N,C)}a.B=function(C){return Qt(this,C).h},a.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},a.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},a.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function Wt(C){const b=C.g.length+1,I=[];for(let V=0;V<b;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Ut(C,b){const I=b>>5;b%=32;const V=C.g.length-I,N=[];for(let L=0;L<V;L++)N[L]=b>0?C.i(L+I)>>>b|C.i(L+I+1)<<32-b:C.i(L+I);return new d(N,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ZE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Hr=d}).apply(typeof sv<"u"?sv:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JE,ml,WE,Nc,Hd,tT,eT,nT;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var x=u[T];if(!(x in v))break t;v=v[x]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,x,B){for(var $=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)$[Et-2]=arguments[Et];return m.prototype[x].apply(T,$)}}var U=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const x=arguments[T];var v=typeof x;if(v=v!="object"?v:x?Array.isArray(x)?"array":v:"null",v=="array"||v=="object"&&typeof x.length=="number"){v=u.length||0;const B=x.length||0;u.length=v+B;for(let $=0;$<B;$++)u[v+$]=x[$]}else u.push(x)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,v){const T=dt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new et(()=>new Qt,u=>u.reset());class Qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,Ut=!1,C=new vt,b=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(I)}};function I(){for(var u;u=ht();){try{u.h.call(u.g)}catch(v){Z(v)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ut=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ie,N),ie.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),H=0;function W(u,m,v,T,x){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=x,this.key=++H,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function jt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let v,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,x){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const $=At(u,m,T,x);return $>-1?(m=u[$],v||(m.fa=!1)):(m=new W(m,this.src,B,!!T,x),m.fa=v,u.push(m)),m};function gt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],x=Array.prototype.indexOf.call(T,m,void 0),B;(B=x>=0)&&Array.prototype.splice.call(T,x,1),B&&(ut(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function At(u,m,v,T){for(let x=0;x<u.length;++x){const B=u[x];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return x}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),Ce={};function re(u,m,v,T,x){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],v,T,x);return null}return v=uo(v),u&&u[Ie]?u.J(m,v,p(T)?!!T.capture:!1,x):Jr(u,m,v,!1,T,x)}function Jr(u,m,v,T,x,B){if(!m)throw Error("Invalid event type");const $=p(x)?!!x.capture:!!x;let Et=Wr(u);if(Et||(u[Vt]=Et=new rt(u)),v=Et.add(m,v,T,$,B),v.proxy)return v;if(T=Fs(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(x=$),x===void 0&&(x=!1),u.addEventListener(m.toString(),T,x);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Fs(){function u(v){return m.call(u.src,u.listener,v)}const m=oo;return u}function Qs(u,m,v,T,x){if(Array.isArray(m))for(var B=0;B<m.length;B++)Qs(u,m[B],v,T,x);else T=p(T)?!!T.capture:!!T,v=uo(v),u&&u[Ie]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=At(m,v,T,x),v>-1&&(ut(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Wr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,v,T,x)),(v=u>-1?m[u]:null)&&Ys(v))}function Ys(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])gt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Jn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Wr(m))?(gt(v,u),v.h==0&&(v.src=null,m[Vt]=null)):ut(u)}}}function Jn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function oo(u,m){if(u.da)u=!0;else{m=new ie(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Ys(u),u=v.call(T,m)}return u}function Wr(u){return u=u[Vt],u instanceof rt?u:null}var lo="__closure_events_fn_"+(Math.random()*1e9>>>0);function uo(u){return typeof u=="function"?u:(u[lo]||(u[lo]=function(m){return u.handleEvent(m)}),u[lo])}function ge(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}S(ge,V),ge.prototype[Ie]=!0,ge.prototype.removeEventListener=function(u,m,v,T){Qs(this,u,m,v,T)};function De(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var x=m;m=new N(T,u),tt(m,x)}x=!0;let B,$;if(v)for($=v.length-1;$>=0;$--)B=m.g=v[$],x=nr(B,T,!0,m)&&x;if(B=m.g=u,x=nr(B,T,!0,m)&&x,x=nr(B,T,!1,m)&&x,v)for($=0;$<v.length;$++)B=m.g=v[$],x=nr(B,T,!1,m)&&x}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ut(v[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ge.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function nr(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let x=!0;for(let B=0;B<m.length;++B){const $=m[B];if($&&!$.da&&$.capture==v){const Et=$.listener,he=$.ha||$.src;$.fa&&gt(u.i,$),x=Et.call(he,T)!==!1&&x}}return x&&!T.defaultPrevented}function _h(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Fl(u){u.g=_h(()=>{u.g=null,u.i&&(u.i=!1,Fl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Fl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(u){V.call(this),this.h=u,this.g={}}S(ts,V);var co=[];function ho(u){Lt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ys(m)},u),u.g={}}ts.prototype.N=function(){ts.Z.N.call(this),ho(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=d.JSON.stringify,vh=d.JSON.parse,Ql=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Yl(){}function Kl(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){N.call(this,"d")}S(Pe,N);function vn(){N.call(this,"c")}S(vn,N);var ce={},Xl=null;function Ks(){return Xl=Xl||new ge}ce.Ia="serverreachability";function $l(u){N.call(this,ce.Ia,u)}S($l,N);function Wn(u){const m=Ks();De(m,new $l(m))}ce.STAT_EVENT="statevent";function es(u,m){N.call(this,ce.STAT_EVENT,u),this.stat=m}S(es,N);function pe(u){const m=Ks();De(m,new es(m,u))}ce.Ja="timingevent";function ti(u,m){N.call(this,ce.Ja,u),this.size=m}S(ti,N);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function xn(){this.g=!0}xn.prototype.ua=function(){this.g=!1};function Eh(u,m,v,T,x,B){u.info(function(){if(u.g)if(B){var $="",Et=B.split("&");for(let zt=0;zt<Et.length;zt++){var he=Et[zt].split("=");if(he.length>1){const se=he[0];he=he[1];const Sn=se.split("_");$=Sn.length>=2&&Sn[1]=="type"?$+(se+"="+he+"&"):$+(se+"=redacted&")}}}else $=null;else $=B;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+m+`
`+v+`
`+$})}function Zl(u,m,v,T,x,B,$){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+m+`
`+v+`
`+B+" "+$})}function ni(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Th(u,v)+(T?" "+T:"")})}function ns(u,m){u.info(function(){return"TIMEOUT: "+m})}xn.prototype.info=function(){};function Th(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var x=T[0];if(x!="noop"&&x!="stop"&&x!="close")for(let $=1;$<T.length;$++)T[$]=""}}}}return ir(B)}catch{return m}}var is={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},mo;function rs(){}S(rs,Yl),rs.prototype.g=function(){return new XMLHttpRequest},mo=new rs;function Ci(u){return encodeURIComponent(String(u))}function Jl(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Pn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new kn}function kn(){this.i=null,this.g="",this.h=!1}var ye={},Me={};function ii(u,m,v){u.M=1,u.A=ss(ve(m)),u.u=v,u.R=!0,Xs(u,null)}function Xs(u,m){u.F=Date.now(),ri(u),u.B=ve(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Ws(v.i,"t",T),u.C=0,v=u.j.L,u.h=new kn,u.g=du(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Ze(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var x="readystatechange";Array.isArray(x)||(x&&(co[0]=x.toString()),x=co);for(let B=0;B<x.length;B++){const $=re(v,x[B],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Eh(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const Et=qn(this.g),he=this.g.ya(),zt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||ke(this.g)))){this.K||Et!=4||he==7||(he==8||zt<=0?Wn(3):Wn(2)),si(this);var m=this.g.ca();this.X=m;var v=Ah(this);if(this.o=m==200,Zl(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,x=this.g;if((T=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,pe(12),cn(this),En(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<v.length;)if(se=tu(this,v),se==Me){Et==4&&(this.m=4,pe(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ye){this.m=4,pe(15),ni(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,se,null),ai(this,se);if(Wl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||v.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,v,"[Invalid Chunked Response]"),cn(this),En(this);else if(v.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Do($),$.P=!0,pe(11))}}else ni(this.i,this.l,v,null),ai(this,v);Et==4&&cn(this),this.o&&!this.K&&(Et==4?uu(this.j,this):(this.o=!1,ri(this)))}else Ni(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),cn(this),En(this)}}}catch{}finally{}};function Ah(u){if(!Wl(u))return u.g.la();const m=ke(u.g);if(m==="")return"";let v="";const T=m.length,x=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),En(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(x&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Wl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function tu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Me:(v=Number(m.substring(v,T)),isNaN(v)?ye:(T+=1,T+v>m.length?Me:(m=m.slice(T,T+v),u.C=T+v,m)))}Pn.prototype.cancel=function(){this.K=!0,cn(this)};function ri(u){u.T=Date.now()+u.H,$s(u,u.H)}function $s(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(y(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ns(this.i,this.B),this.M!=2&&(Wn(),pe(17)),cn(this),this.m=2,En(this)):$s(this,this.T-u)};function En(u){u.j.I==0||u.K||uu(u.j,u)}function cn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ho(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||li(v.h,u))){if(!u.L&&li(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ra(v),hr(v);else break t;fs(v),pe(18)}}else v.xa=x[1],0<v.xa-v.K&&x[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ei(y(v.Va,v),6e3));oi(v.h)<=1&&v.ta&&(v.ta=void 0)}else mi(v,11)}else if((u.L||v.g==u)&&ra(v),!R(m))for(x=v.Ba.g.parse(m),m=0;m<x.length;m++){let zt=x[m];const se=zt[0];if(!(se<=v.K))if(v.K=se,zt=zt[1],v.I==2)if(zt[0]=="c"){v.M=zt[1],v.ba=zt[2];const Sn=zt[3];Sn!=null&&(v.ka=Sn,v.j.info("VER="+v.ka));const gi=zt[4];gi!=null&&(v.za=gi,v.j.info("SVER="+v.za));const jn=zt[5];jn!=null&&typeof jn=="number"&&jn>0&&(T=1.5*jn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Hn=u.g;if(Hn){const ds=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ds){var B=T.h;B.g||ds.indexOf("spdy")==-1&&ds.indexOf("quic")==-1&&ds.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(yo(B,B.h),B.h=null))}if(T.G){const sa=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(T.wa=sa,Ht(T.J,T.G,sa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var $=u;if(T.na=fu(T,T.L?T.ba:null,T.W),$.L){_o(T.h,$);var Et=$,he=T.O;he&&(Et.H=he),Et.D&&(si(Et),ri(Et)),T.g=$}else ou(T);v.i.length>0&&di(v)}else zt[0]!="stop"&&zt[0]!="close"||mi(v,7);else v.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?mi(v,7):Io(v):zt[0]!="noop"&&v.l&&v.l.qa(zt),v.A=0)}}Wn(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function go(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function po(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function yo(u,m){u.g?u.g.add(m):u.h=m}function _o(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}go.prototype.cancel=function(){if(this.i=vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zs(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let x,B=null;T>=0?(x=u[v].substring(0,T),B=u[v].substring(T+1)):x=u[v],m(x,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,rr(this,u.u),this.h=u.h,Eo(this,su(u.i)),this.m=u.m):u&&(m=String(u).match(eu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),rr(this,m[4]),this.h=ui(m[5]||"",!0),Eo(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new ar(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(as(m,Js,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(as(m,Js,!0),"@"),u.push(Ci(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(as(v,v.charAt(0)=="/"?To:nu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",as(v,iu)),u.join("")},hn.prototype.resolve=function(u){const m=ve(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)rr(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var x=m.h.lastIndexOf("/");x!=-1&&(T=m.h.slice(0,x+1)+T)}if(x=T,x==".."||x==".")T="";else if(x.indexOf("./")!=-1||x.indexOf("/.")!=-1){T=x.lastIndexOf("/",0)==0,x=x.split("/");const B=[];for(let $=0;$<x.length;){const Et=x[$++];Et=="."?T&&$==x.length&&B.push(""):Et==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&$==x.length&&B.push("")):(B.push(Et),T=!0)}T=B.join("/")}else T=x}return v?m.h=T:v=u.i.toString()!=="",v?Eo(m,su(u.i)):v=!!u.m,v&&(m.m=u.m),m};function ve(u){return new hn(u)}function Ue(u,m,v){u.j=v?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Eo(u,m,v){m instanceof ar?(u.i=m,ta(u.i,u.l)):(v||(m=as(m,sr)),u.i=new ar(m,u.l))}function Ht(u,m,v){u.i.set(m,v)}function ss(u){return Ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function as(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,tn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Js=/[#\/\?@]/g,nu=/[#\?:]/g,To=/[#\?]/g,sr=/[#\?@]/g,iu=/#/g;function ar(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&Zs(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=ar.prototype,a.add=function(u,m){en(this),this.i=null,u=or(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function ru(u,m){en(u),m=or(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ao(u,m){return en(u),m=or(u,m),u.g.has(m)}a.forEach=function(u,m){en(this),this.g.forEach(function(v,T){v.forEach(function(x){u.call(m,x,T,this)},this)},this)};function So(u,m){en(u);let v=[];if(typeof m=="string")Ao(u,m)&&(v=v.concat(u.g.get(or(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}a.set=function(u,m){return en(this),this.i=null,u=or(this,u),Ao(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=So(this,u),u.length>0?String(u[0]):m):m};function Ws(u,m,v){ru(u,m),v.length>0&&(u.i=null,u.g.set(or(u,m),Q(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const x=Ci(v);v=So(this,v);for(let B=0;B<v.length;B++){let $=x;v[B]!==""&&($+="="+Ci(v[B])),u.push($)}}return this.i=u.join("&")};function su(u){const m=new ar;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function or(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ta(u,m){m&&!u.j&&(en(u),u.i=null,u.g.forEach(function(v,T){const x=T.toLowerCase();T!=x&&(ru(this,T),Ws(this,x,v))},u)),u.j=m}function zn(u,m){const v=new xn;if(d.Image){const T=new Image;T.onload=A(Tn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Tn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Tn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Tn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function bo(u,m){const v=new xn,T=new AbortController,x=setTimeout(()=>{T.abort(),Tn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(x),B.ok?Tn(v,"TestPingServer: ok",!0,m):Tn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),Tn(v,"TestPingServer: error",!1,m)})}function Tn(u,m,v,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(v)}catch{}}function lr(){this.g=new Ql}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}S(ci,Yl),ci.prototype.g=function(){return new os(this.i,this.h)};function os(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(os,ge),a=os.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ur(this):Bn(this),this.readyState==3&&ea(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,ur(this))},a.Na=function(u){this.g&&(this.response=u,ur(this))},a.ga=function(){this.g&&ur(this)};function ur(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return Lt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function ls(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=An(v),typeof u=="string"?v!=null&&Ci(v):Ht(u,m,v))}function Yt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Yt,ge);var hi=/^https?$/i,Ro=["POST","PUT"];a=Yt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():mo.g(),this.g.onreadystatechange=U(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){us(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)v.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),x=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ro,m,void 0)>=0)||T||x||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,$]of v)this.g.setRequestHeader(B,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){us(this,B)}};function us(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,wo(u),Di(u)}function wo(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Di(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Yt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?cs(this):this.Xa())},a.Xa=function(){cs(this)};function cs(u){if(u.h&&typeof c<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),qn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let $=String(u.D).match(eu)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),T=!hi.test($?$.toLowerCase():"")}v=T}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var x=qn(u)>2?u.g.statusText:""}catch{x=""}u.l=x+" ["+u.ca()+"]",wo(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||De(u,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),vh(m)}};function ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=Jl(u[T]);const x=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[x]||[];m[x]=B,B.push(v)}jt(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function cr(u){this.za=0,this.i=[],this.j=new xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new go(u&&u.concurrentRequestLimit),this.Ba=new lr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=cr.prototype,a.ka=8,a.I=1,a.connect=function(u,m,v,T){pe(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=fu(this,null,this.W),di(this)};function Io(u){if(na(u),u.I==3){var m=u.V++,v=ve(u.J);if(Ht(v,"SID",u.M),Ht(v,"RID",m),Ht(v,"TYPE","terminate"),hs(u,v),m=new Pn(u,u.j,m),m.M=2,m.A=ss(ve(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=du(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}hu(u)}function hr(u){u.g&&(Do(u),u.g.cancel(),u.g=null)}function na(u){hr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!po(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||b(),Ut||(Wt(),Ut=!0),C.add(m,u),u.D=0}}function ia(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(y(u.Ea,u,m),cu(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const x=new Pn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),tt(B,this.U)):B=this.U),this.u!==null||this.R||(x.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=au(this,x,m),v=ve(this.J),Ht(v,"RID",u),Ht(v,"CVER",22),this.G&&Ht(v,"X-HTTP-Session-Id",this.G),hs(this,v),B&&(this.R?m="headers="+Ci(An(B))+"&"+m:this.u&&ls(v,this.u,B)),yo(this.h,x),this.Ra&&Ht(v,"TYPE","init"),this.S?(Ht(v,"$req",m),Ht(v,"SID","null"),x.U=!0,ii(x,v,null)):ii(x,v,m),this.I=2}}else this.I==3&&(u?Co(this,u):this.i.length==0||po(this.h)||Co(this))};function Co(u,m){var v;m?v=m.l:v=u.V++;const T=ve(u.J);Ht(T,"SID",u.M),Ht(T,"RID",v),Ht(T,"AID",u.K),hs(u,T),u.u&&u.o&&ls(T,u.u,u.o),v=new Pn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=au(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),yo(u.h,v),ii(v,T,m)}function hs(u,m){u.H&&Lt(u.H,function(v,T){Ht(m,T,v)}),u.l&&Lt({},function(v,T){Ht(m,T,v)})}function au(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var x=u.i;let Et=-1;for(;;){const he=["count="+v];Et==-1?v>0?(Et=x[0].g,he.push("ofs="+Et)):Et=0:he.push("ofs="+Et);let zt=!0;for(let se=0;se<v;se++){var B=x[se].g;const Sn=x[se].map;if(B-=Et,B<0)Et=Math.max(0,x[se].g-100),zt=!1;else try{B="req"+B+"_"||"";try{var $=Sn instanceof Map?Sn:Object.entries(Sn);for(const[gi,jn]of $){let Hn=jn;p(jn)&&(Hn=ir(jn)),he.push(B+gi+"="+encodeURIComponent(Hn))}}catch(gi){throw he.push(B+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(Sn)}}if(zt){$=he.join("&");break t}}$=void 0}return u=u.i.splice(0,v),m.G=u,$}function ou(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||b(),Ut||(Wt(),Ut=!0),C.add(m,u),u.A=0}}function fs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(y(u.Da,u),cu(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(y(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),hr(this),lu(this))};function Do(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function lu(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Ht(m,"RID","rpc"),Ht(m,"SID",u.M),Ht(m,"AID",u.K),Ht(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ht(m,"TO",u.ia),Ht(m,"TYPE","xmlhttp"),hs(u,m),u.u&&u.o&&ls(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ss(ve(m)),v.u=null,v.R=!0,Xs(v,u)}a.Va=function(){this.C!=null&&(this.C=null,hr(this),fs(this),pe(19))};function ra(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function uu(u,m){var v=null;if(u.g==m){ra(u),Do(u),u.g=null;var T=2}else if(li(u.h,m))v=m.G,_o(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var x=u.D;T=Ks(),De(T,new ti(T,v)),di(u)}else ou(u);else if(x=m.m,x==3||x==0&&m.X>0||!(T==1&&ia(u,m)||T==2&&fs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),x){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function cu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const x=!T;T=new hn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),ss(T),x?zn(T.toString(),v):bo(T.toString(),v)}else pe(2);u.I=0,u.l&&u.l.pa(m),hu(u),na(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function hu(u){if(u.I=0,u.ja=[],u.l){const m=vo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function fu(u,m,v){var T=v instanceof hn?ve(v):new hn(v);if(T.g!="")m&&(T.g=m+"."+T.g),rr(T,T.u);else{var x=d.location;T=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;const B=new hn(null);T&&Ue(B,T),m&&(B.g=m),x&&rr(B,x),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Ht(T,v,m),Ht(T,"VER",u.ka),hs(u,T),T}function du(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new ci({ab:v})):new Yt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}a=mu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function fr(){}fr.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){ge.call(this),this.g=new cr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}S(Je,ge),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Io(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ir(u),u=v);m.i.push(new _e(m.Ya++,u)),m.I==3&&di(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,Io(this.g),delete this.g,Je.Z.N.call(this)};function gu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(gu,Pe);function pu(){vn.call(this),this.status=1}S(pu,vn);function Oi(u){this.g=u}S(Oi,mu),Oi.prototype.ra=function(){De(this.g,"a")},Oi.prototype.qa=function(u){De(this.g,new gu(u))},Oi.prototype.pa=function(u){De(this.g,new pu)},Oi.prototype.oa=function(){De(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,nT=function(){return new fr},eT=function(){return Ks()},tT=ce,Hd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},is.NO_ERROR=0,is.TIMEOUT=8,is.HTTP_ERROR=6,Nc=is,fo.COMPLETE="complete",WE=fo,Kl.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",ge.prototype.listen=ge.prototype.J,ml=Kl,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,JE=Yt}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});const av="@firebase/firestore",ov="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new om("@firebase/firestore");function La(){return ks.logLevel}function it(a,...t){if(ks.logLevel<=Ct.DEBUG){const i=t.map(Em);ks.debug(`Firestore (${no}): ${a}`,...i)}}function Wi(a,...t){if(ks.logLevel<=Ct.ERROR){const i=t.map(Em);ks.error(`Firestore (${no}): ${a}`,...i)}}function Ya(a,...t){if(ks.logLevel<=Ct.WARN){const i=t.map(Em);ks.warn(`Firestore (${no}): ${a}`,...i)}}function Em(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(a,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,iT(a,s,i)}function iT(a,t,i){let s=`FIRESTORE (${no}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Wi(s),new Error(s)}function qt(a,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,a||iT(t,l,s)}function _t(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends er{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class aw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class ow{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class lw{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let c=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ms,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ms)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new rT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Ke(t)}}class uw{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cw{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new uw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new lv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=fw(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Dt(a,t){return a<t?-1:a>t?1:0}function Gd(a,t){const i=Math.min(a.length,t.length);for(let s=0;s<i;s++){const l=a.charAt(s),c=t.charAt(s);if(l!==c)return Nd(l)===Nd(c)?Dt(l,c):Nd(l)?1:-1}return Dt(a.length,t.length)}const dw=55296,mw=57343;function Nd(a){const t=a.charCodeAt(0);return t>=dw&&t<=mw}function Ka(a,t,i){return a.length===t.length&&a.every(((s,l)=>i(s,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="__name__";class Ei{constructor(t,i,s){i===void 0?i=0:i>t.length&&ft(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&ft(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=Ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Dt(t.length,i.length)}static compareSegments(t,i){const s=Ei.isNumericId(t),l=Ei.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):Gd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}}class Jt extends Ei{construct(t,i,s){return new Jt(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new nt(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new Jt(i)}static emptyPath(){return new Jt([])}}const gw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Ei{construct(t,i,s){return new Ge(t,i,s)}static isValidIdentifier(t){return gw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uv}static keyField(){return new Ge([uv])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new nt(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new nt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new nt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new nt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(t){this.path=t}static fromPath(t){return new lt(Jt.fromString(t))}static fromName(t){return new lt(Jt.fromString(t).popFirst(5))}static empty(){return new lt(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Jt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new lt(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(a,t,i){if(!i)throw new nt(K.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function pw(a,t,i,s){if(t===!0&&s===!0)throw new nt(K.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function cv(a){if(!lt.isDocumentKey(a))throw new nt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function hv(a){if(lt.isDocumentKey(a))throw new nt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function aT(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function sh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":ft(12329,{type:typeof a})}function El(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new nt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=sh(a);throw new nt(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(a,t){const i={typeString:a};return t&&(i.value=t),i}function Bl(a,t){if(!aT(a))throw new nt(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new nt(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=-62135596800,dv=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*dv);return new ne(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new nt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new nt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<fv)throw new nt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dv}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-fv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:we("string",ne._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(t){return new pt(t)}static min(){return new pt(new ne(0,0))}static max(){return new pt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=-1;function yw(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=pt.fromTimestamp(s===1e9?new ne(i+1,0):new ne(i,s));return new Fr(l,lt.empty(),t)}function _w(a){return new Fr(a.readTime,a.key,Il)}class Fr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Fr(pt.min(),lt.empty(),Il)}static max(){return new Fr(pt.max(),lt.empty(),Il)}}function vw(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=lt.comparator(a.documentKey,t.documentKey),i!==0?i:Dt(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(a){if(a.code!==K.FAILED_PRECONDITION||a.message!==Ew)throw a;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,s)=>{i(t)}))}static reject(t){return new X(((i,s)=>{s(t)}))}static waitFor(t){return new X(((i,s)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>s(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const s of t)i=i.next((l=>l?X.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new X(((s,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++p,p===c&&s(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function Aw(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ro(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ah.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=-1;function oh(a){return a==null}function Gc(a){return a===0&&1/a==-1/0}function Sw(a){return typeof a=="number"&&Number.isInteger(a)&&!Gc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="";function bw(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=mv(t)),t=Rw(a.get(i),t);return mv(t)}function Rw(a,t){let i=t;const s=a.length;for(let l=0;l<s;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case oT:i+="";break;default:i+=c}}return i}function mv(a){return a+oT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Bs(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function lT(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ac(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ac(this.root,t,this.comparator,!0)}}class Ac{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??He.RED,this.left=l??He.EMPTY,this.right=c??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new He(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return He.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ft(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ft(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw ft(57766)}get value(){throw ft(16141)}get color(){throw ft(16727)}get left(){throw ft(29726)}get right(){throw ft(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new pv(this.data.getIterator())}getIteratorFrom(t){return new pv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class pv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Xn([])}unionWith(t){let i=new Ve(Ge.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ka(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new uT("Invalid base64 string: "+c):c}})(t);return new Fe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Fe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const ww=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(a){if(qt(!!a,39018),typeof a=="string"){let t=0;const i=ww.exec(a);if(qt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:me(a.seconds),nanos:me(a.nanos)}}function me(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Yr(a){return typeof a=="string"?Fe.fromBase64String(a):Fe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="server_timestamp",hT="__type__",fT="__previous_value__",dT="__local_write_time__";function Sm(a){return(a?.mapValue?.fields||{})[hT]?.stringValue===cT}function lh(a){const t=a.mapValue.fields[fT];return Sm(t)?lh(t):t}function Cl(a){const t=Qr(a.mapValue.fields[dT].timestampValue);return new ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(t,i,s,l,c,d,p,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const Fc="(default)";class Dl{constructor(t,i){this.projectId=t,this.database=i||Fc}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(t){return t instanceof Dl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="__type__",Cw="__max__",Sc={mapValue:{}},gT="__vector__",Qc="value";function Kr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Sm(a)?4:Nw(a)?9007199254740991:Dw(a)?10:11:ft(28295,{value:a})}function Ii(a,t){if(a===t)return!0;const i=Kr(a);if(i!==Kr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Cl(a).isEqual(Cl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Qr(l.timestampValue),p=Qr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return Yr(l.bytesValue).isEqual(Yr(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return me(l.geoPointValue.latitude)===me(c.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return me(l.integerValue)===me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=me(l.doubleValue),p=me(c.doubleValue);return d===p?Gc(d)===Gc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return Ka(a.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(gv(d)!==gv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ii(d[_],p[_])))return!1;return!0})(a,t);default:return ft(52216,{left:a})}}function Nl(a,t){return(a.values||[]).find((i=>Ii(i,t)))!==void 0}function Xa(a,t){if(a===t)return 0;const i=Kr(a),s=Kr(t);if(i!==s)return Dt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=me(c.integerValue||c.doubleValue),_=me(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(a,t);case 3:return yv(a.timestampValue,t.timestampValue);case 4:return yv(Cl(a),Cl(t));case 5:return Gd(a.stringValue,t.stringValue);case 6:return(function(c,d){const p=Yr(c),_=Yr(d);return p.compareTo(_)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=Dt(p[y],_[y]);if(A!==0)return A}return Dt(p.length,_.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Dt(me(c.latitude),me(d.latitude));return p!==0?p:Dt(me(c.longitude),me(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return _v(a.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Qc]?.arrayValue,A=_[Qc]?.arrayValue,S=Dt(y?.values?.length||0,A?.values?.length||0);return S!==0?S:_v(y,A)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Sc.mapValue&&d===Sc.mapValue)return 0;if(c===Sc.mapValue)return 1;if(d===Sc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let S=0;S<_.length&&S<A.length;++S){const U=Gd(_[S],A[S]);if(U!==0)return U;const Q=Xa(p[_[S]],y[A[S]]);if(Q!==0)return Q}return Dt(_.length,A.length)})(a.mapValue,t.mapValue);default:throw ft(23264,{he:i})}}function yv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Dt(a,t);const i=Qr(a),s=Qr(t),l=Dt(i.seconds,s.seconds);return l!==0?l:Dt(i.nanos,s.nanos)}function _v(a,t){const i=a.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Xa(i[l],s[l]);if(c)return c}return Dt(i.length,s.length)}function $a(a){return Fd(a)}function Fd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=Qr(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Yr(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return lt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Fd(c);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Fd(i.fields[d])}`;return l+"}"})(a.mapValue):ft(61005,{value:a})}function Oc(a){switch(Kr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=lh(a);return t?16+Oc(t):16;case 5:return 2*a.stringValue.length;case 6:return Yr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Oc(c)),0)})(a.arrayValue);case 10:case 11:return(function(s){let l=0;return Bs(s.fields,((c,d)=>{l+=c.length+Oc(d)})),l})(a.mapValue);default:throw ft(13486,{value:a})}}function vv(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function Qd(a){return!!a&&"integerValue"in a}function bm(a){return!!a&&"arrayValue"in a}function Ev(a){return!!a&&"nullValue"in a}function Tv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Vc(a){return!!a&&"mapValue"in a}function Dw(a){return(a?.mapValue?.fields||{})[mT]?.stringValue===gT}function Tl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Bs(a.mapValue.fields,((i,s)=>t.mapValue.fields[i]=Tl(s))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Tl(a.arrayValue.values[i]);return t}return{...a}}function Nw(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Cw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Vc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tl(i)}setAll(t){let i=Ge.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=Tl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Vc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Vc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){Bs(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new Mn(Tl(this.value))}}function pT(a){const t=[];return Bs(a.fields,((i,s)=>{const l=new Ge([i]);if(Vc(s)){const c=pT(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Xn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,i,s,l,c,d,p){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Xe(t,0,pt.min(),pt.min(),pt.min(),Mn.empty(),0)}static newFoundDocument(t,i,s,l){return new Xe(t,1,i,pt.min(),s,l,0)}static newNoDocument(t,i){return new Xe(t,2,i,pt.min(),pt.min(),Mn.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,pt.min(),pt.min(),Mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,i){this.position=t,this.inclusive=i}}function Av(a,t,i){let s=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?s=lt.comparator(lt.fromName(d.referenceValue),i.key):s=Xa(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Sv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ii(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,i="asc"){this.field=t,this.dir=i}}function Ow(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{}class Re extends yT{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new Mw(t,i,s):i==="array-contains"?new xw(t,s):i==="in"?new Pw(t,s):i==="not-in"?new kw(t,s):i==="array-contains-any"?new zw(t,s):new Re(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new Uw(t,s):new Lw(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Xa(i,this.value)):i!==null&&Kr(this.value)===Kr(i)&&this.matchesComparison(Xa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends yT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Zn(t,i)}matches(t){return _T(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _T(a){return a.op==="and"}function vT(a){return Vw(a)&&_T(a)}function Vw(a){for(const t of a.filters)if(t instanceof Zn)return!1;return!0}function Yd(a){if(a instanceof Re)return a.field.canonicalString()+a.op.toString()+$a(a.value);if(vT(a))return a.filters.map((t=>Yd(t))).join(",");{const t=a.filters.map((i=>Yd(i))).join(",");return`${a.op}(${t})`}}function ET(a,t){return a instanceof Re?(function(s,l){return l instanceof Re&&s.op===l.op&&s.field.isEqual(l.field)&&Ii(s.value,l.value)})(a,t):a instanceof Zn?(function(s,l){return l instanceof Zn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&ET(d,l.filters[p])),!0):!1})(a,t):void ft(19439)}function TT(a){return a instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${$a(i.value)}`})(a):a instanceof Zn?(function(i){return i.op.toString()+" {"+i.getFilters().map(TT).join(" ,")+"}"})(a):"Filter"}class Mw extends Re{constructor(t,i,s){super(t,i,s),this.key=lt.fromName(s.referenceValue)}matches(t){const i=lt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Uw extends Re{constructor(t,i){super(t,"in",i),this.keys=AT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Lw extends Re{constructor(t,i){super(t,"not-in",i),this.keys=AT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function AT(a,t){return(t.arrayValue?.values||[]).map((i=>lt.fromName(i.referenceValue)))}class xw extends Re{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return bm(i)&&Nl(i.arrayValue,this.value)}}class Pw extends Re{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Nl(this.value.arrayValue,i)}}class kw extends Re{constructor(t,i){super(t,"not-in",i)}matches(t){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Nl(this.value.arrayValue,i)}}class zw extends Re{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!bm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Nl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t,i=null,s=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function bv(a,t=null,i=[],s=[],l=null,c=null,d=null){return new Bw(a,t,i,s,l,c,d)}function Rm(a){const t=_t(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>Yd(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),oh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>$a(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>$a(s))).join(",")),t.Te=i}return t.Te}function wm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Ow(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!ET(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!Sv(a.startAt,t.startAt)&&Sv(a.endAt,t.endAt)}function Kd(a){return lt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t,i=null,s=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qw(a,t,i,s,l,c,d,p){return new so(a,t,i,s,l,c,d,p)}function Im(a){return new so(a)}function Rv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function ST(a){return a.collectionGroup!==null}function Al(a){const t=_t(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Ge.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Ol(c,s))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new Ol(Ge.keyField(),s))}return t.Ie}function Ai(a){const t=_t(a);return t.Ee||(t.Ee=jw(t,Al(a))),t.Ee}function jw(a,t){if(a.limitType==="F")return bv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Ol(l.field,c)}));const i=a.endAt?new Yc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Yc(a.startAt.position,a.startAt.inclusive):null;return bv(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function Xd(a,t){const i=a.filters.concat([t]);return new so(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function $d(a,t,i){return new so(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function uh(a,t){return wm(Ai(a),Ai(t))&&a.limitType===t.limitType}function bT(a){return`${Rm(Ai(a))}|lt:${a.limitType}`}function xa(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>TT(l))).join(", ")}]`),oh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>$a(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>$a(l))).join(",")),`Target(${s})`})(Ai(a))}; limitType=${a.limitType})`}function ch(a,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):lt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(a,t)&&(function(s,l){for(const c of Al(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,_){const y=Av(d,p,_);return d.inclusive?y<=0:y<0})(s.startAt,Al(s),l)||s.endAt&&!(function(d,p,_){const y=Av(d,p,_);return d.inclusive?y>=0:y>0})(s.endAt,Al(s),l))})(a,t)}function Hw(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function RT(a){return(t,i)=>{let s=!1;for(const l of Al(a)){const c=Gw(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function Gw(a,t,i){const s=a.field.isKeyField()?lt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?Xa(_,y):ft(42886)})(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return ft(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Bs(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return lT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new oe(lt.comparator);function tr(){return Fw}const wT=new oe(lt.comparator);function gl(...a){let t=wT;for(const i of a)t=t.insert(i.key,i);return t}function IT(a){let t=wT;return a.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Os(){return Sl()}function CT(){return Sl()}function Sl(){return new qs((a=>a.toString()),((a,t)=>a.isEqual(t)))}const Qw=new oe(lt.comparator),Yw=new Ve(lt.comparator);function Nt(...a){let t=Yw;for(const i of a)t=t.add(i);return t}const Kw=new Ve(Dt);function Xw(){return Kw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function DT(a){return{integerValue:""+a}}function $w(a,t){return Sw(t)?DT(t):Cm(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function Zw(a,t,i){return a instanceof Vl?(function(l,c){const d={fields:{[hT]:{stringValue:cT},[dT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Sm(c)&&(c=lh(c)),c&&(d.fields[fT]=c),{mapValue:d}})(i,t):a instanceof Ml?OT(a,t):a instanceof Ul?VT(a,t):(function(l,c){const d=NT(l,c),p=wv(d)+wv(l.Ae);return Qd(d)&&Qd(l.Ae)?DT(p):Cm(l.serializer,p)})(a,t)}function Jw(a,t,i){return a instanceof Ml?OT(a,t):a instanceof Ul?VT(a,t):i}function NT(a,t){return a instanceof Kc?(function(s){return Qd(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Vl extends hh{}class Ml extends hh{constructor(t){super(),this.elements=t}}function OT(a,t){const i=MT(t);for(const s of a.elements)i.some((l=>Ii(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Ul extends hh{constructor(t){super(),this.elements=t}}function VT(a,t){let i=MT(t);for(const s of a.elements)i=i.filter((l=>!Ii(l,s)));return{arrayValue:{values:i}}}class Kc extends hh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function wv(a){return me(a.integerValue||a.doubleValue)}function MT(a){return bm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,i){this.field=t,this.transform=i}}function tI(a,t){return a.field.isEqual(t.field)&&(function(s,l){return s instanceof Ml&&l instanceof Ml||s instanceof Ul&&l instanceof Ul?Ka(s.elements,l.elements,Ii):s instanceof Kc&&l instanceof Kc?Ii(s.Ae,l.Ae):s instanceof Vl&&l instanceof Vl})(a.transform,t.transform)}class eI{constructor(t,i){this.version=t,this.transformResults=i}}class $i{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new $i}static exists(t){return new $i(void 0,t)}static updateTime(t){return new $i(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class fh{}function UT(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new xT(a.key,$i.none()):new ql(a.key,a.data,$i.none());{const i=a.data,s=Mn.empty();let l=new Ve(Ge.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new js(a.key,s,new Xn(l.toArray()),$i.none())}}function nI(a,t,i){a instanceof ql?(function(l,c,d){const p=l.value.clone(),_=Cv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof js?(function(l,c,d){if(!Mc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Cv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(LT(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function bl(a,t,i,s){return a instanceof ql?(function(c,d,p,_){if(!Mc(c.precondition,d))return p;const y=c.value.clone(),A=Dv(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(a,t,i,s):a instanceof js?(function(c,d,p,_){if(!Mc(c.precondition,d))return p;const y=Dv(c.fieldTransforms,_,d),A=d.data;return A.setAll(LT(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(a,t,i,s):(function(c,d,p){return Mc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function iI(a,t){let i=null;for(const s of a.fieldTransforms){const l=t.data.field(s.field),c=NT(s.transform,l||null);c!=null&&(i===null&&(i=Mn.empty()),i.set(s.field,c))}return i||null}function Iv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ka(s,l,((c,d)=>tI(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class ql extends fh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class js extends fh{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function LT(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}})),t}function Cv(a,t,i){const s=new Map;qt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,p=t.data.field(c.field);s.set(c.field,Jw(d,p,i[l]))}return s}function Dv(a,t,i){const s=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);s.set(l.field,Zw(c,d,t))}return s}class xT extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rI extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&nI(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=bl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=bl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=CT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=UT(d,p);_!==null&&s.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(pt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Nt())}isEqual(t){return this.batchId===t.batchId&&Ka(this.mutations,t.mutations,((i,s)=>Iv(i,s)))&&Ka(this.baseMutations,t.baseMutations,((i,s)=>Iv(i,s)))}}class Dm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return Qw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Dm(t,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,Mt;function lI(a){switch(a){case K.OK:return ft(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return ft(15467,{code:a})}}function PT(a){if(a===void 0)return Wi("GRPC error has no .code"),K.UNKNOWN;switch(a){case be.OK:return K.OK;case be.CANCELLED:return K.CANCELLED;case be.UNKNOWN:return K.UNKNOWN;case be.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case be.INTERNAL:return K.INTERNAL;case be.UNAVAILABLE:return K.UNAVAILABLE;case be.UNAUTHENTICATED:return K.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case be.NOT_FOUND:return K.NOT_FOUND;case be.ALREADY_EXISTS:return K.ALREADY_EXISTS;case be.PERMISSION_DENIED:return K.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case be.ABORTED:return K.ABORTED;case be.OUT_OF_RANGE:return K.OUT_OF_RANGE;case be.UNIMPLEMENTED:return K.UNIMPLEMENTED;case be.DATA_LOSS:return K.DATA_LOSS;default:return ft(39323,{code:a})}}(Mt=be||(be={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=new Hr([4294967295,4294967295],0);function Nv(a){const t=uI().encode(a),i=new ZE;return i.update(t),new Uint8Array(i.digest())}function Ov(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Hr([i,s],0),new Hr([l,c],0)]}class Nm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new pl(`Invalid padding: ${i}`);if(s<0)throw new pl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new pl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new pl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Hr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Hr.fromNumber(s)));return l.compare(cI)===1&&(l=new Hr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Nv(t),[s,l]=Ov(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Nm(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Nv(t),[s,l]=Ov(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,jl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new dh(pt.min(),l,new oe(Dt),tr(),Nt())}}class jl{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new jl(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class kT{constructor(t,i){this.targetId=t,this.Ce=i}}class zT{constructor(t,i,s=Fe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Vv{constructor(){this.ve=0,this.Fe=Mv(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Nt(),i=Nt(),s=Nt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:ft(38017,{changeType:c})}})),new jl(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=Mv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hI{constructor(t){this.Ge=t,this.ze=new Map,this.je=tr(),this.Je=bc(),this.He=bc(),this.Ye=new oe(Dt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:ft(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Kd(c))if(s===0){const d=new lt(c.path);this.et(i,d,Xe.newNoDocument(d,pt.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Yr(s).toUint8Array()}catch(_){if(_ instanceof uT)return Ya("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Nm(d,l,c)}catch(_){return Ya(_ instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Kd(p.target)){const _=new lt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Xe.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Nt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new dh(t,i,this.Ye,this.je,s);return this.je=tr(),this.Je=bc(),this.He=bc(),this.Ye=new oe(Dt),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Vv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Dt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Dt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Vv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function bc(){return new oe(lt.comparator)}function Mv(){return new oe(lt.comparator)}const fI={asc:"ASCENDING",desc:"DESCENDING"},dI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mI={and:"AND",or:"OR"};class gI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Zd(a,t){return a.useProto3Json||oh(t)?t:{value:t}}function Xc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function BT(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function pI(a,t){return Xc(a,t.toTimestamp())}function Si(a){return qt(!!a,49232),pt.fromTimestamp((function(i){const s=Qr(i);return new ne(s.seconds,s.nanos)})(a))}function Om(a,t){return Jd(a,t).canonicalString()}function Jd(a,t){const i=(function(l){return new Jt(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function qT(a){const t=Jt.fromString(a);return qt(QT(t),10190,{key:t.toString()}),t}function Wd(a,t){return Om(a.databaseId,t.path)}function Od(a,t){const i=qT(t);if(i.get(1)!==a.databaseId.projectId)throw new nt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new nt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new lt(HT(i))}function jT(a,t){return Om(a.databaseId,t)}function yI(a){const t=qT(a);return t.length===4?Jt.emptyPath():HT(t)}function tm(a){return new Jt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function HT(a){return qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Uv(a,t,i){return{name:Wd(a,t),fields:i.value.mapValue.fields}}function _I(a,t){let i;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ft(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Fe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fe.fromUint8Array(A||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?K.UNKNOWN:PT(y.code);return new nt(A,y.message||"")})(d);i=new zT(s,l,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Od(a,s.document.name),c=Si(s.document.updateTime),d=s.document.createTime?Si(s.document.createTime):pt.min(),p=new Mn({mapValue:{fields:s.document.fields}}),_=Xe.newFoundDocument(l,c,d,p),y=s.targetIds||[],A=s.removedTargetIds||[];i=new Uc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Od(a,s.document),c=s.readTime?Si(s.readTime):pt.min(),d=Xe.newNoDocument(l,c),p=s.removedTargetIds||[];i=new Uc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Od(a,s.document),c=s.removedTargetIds||[];i=new Uc([],c,l,null)}else{if(!("filter"in t))return ft(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new oI(l,c),p=s.targetId;i=new kT(p,d)}}return i}function vI(a,t){let i;if(t instanceof ql)i={update:Uv(a,t.key,t.value)};else if(t instanceof xT)i={delete:Wd(a,t.key)};else if(t instanceof js)i={update:Uv(a,t.key,t.data),updateMask:CI(t.fieldMask)};else{if(!(t instanceof rI))return ft(16599,{Vt:t.type});i={verify:Wd(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof Vl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ml)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Kc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ft(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:pI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ft(27497)})(a,t.precondition)),i}function EI(a,t){return a&&a.length>0?(qt(t!==void 0,14353),a.map((i=>(function(l,c){let d=l.updateTime?Si(l.updateTime):Si(c);return d.isEqual(pt.min())&&(d=Si(c)),new eI(d,l.transformResults||[])})(i,t)))):[]}function TI(a,t){return{documents:[jT(a,t.path)]}}function AI(a,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=jT(a,l);const c=(function(y){if(y.length!==0)return FT(Zn.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(U){return{field:Pa(U.field),direction:RI(U.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Zd(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function SI(a){let t=yI(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){qt(s===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const U=GT(S);return U instanceof Zn&&vT(U)?U.getFilters():[U]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((U=>(function(J){return new Ol(ka(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(U)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let U;return U=typeof S=="object"?S.value:S,oh(U)?null:U})(i.limit));let _=null;i.startAt&&(_=(function(S){const U=!!S.before,Q=S.values||[];return new Yc(Q,U)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const U=!S.before,Q=S.values||[];return new Yc(Q,U)})(i.endAt)),qw(t,l,d,c,p,"F",_,y)}function bI(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function GT(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ka(i.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=ka(i.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ka(i.unaryFilter.field);return Re.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ka(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ft(61313);default:return ft(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Re.create(ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ft(58110);default:return ft(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Zn.create(i.compositeFilter.filters.map((s=>GT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ft(1026)}})(i.compositeFilter.op))})(a):ft(30097,{filter:a})}function RI(a){return fI[a]}function wI(a){return dI[a]}function II(a){return mI[a]}function Pa(a){return{fieldPath:a.canonicalString()}}function ka(a){return Ge.fromServerFormat(a.fieldPath)}function FT(a){return a instanceof Re?(function(i){if(i.op==="=="){if(Tv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NAN"}};if(Ev(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Tv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NAN"}};if(Ev(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(i.field),op:wI(i.op),value:i.value}}})(a):a instanceof Zn?(function(i){const s=i.getFilters().map((l=>FT(l)));return s.length===1?s[0]:{compositeFilter:{op:II(i.op),filters:s}}})(a):ft(54877,{filter:a})}function CI(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function QT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t,i,s,l,c=pt.min(),d=pt.min(),p=Fe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new zr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(t){this.yt=t}}function NI(a){const t=SI({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?$d(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.Cn=new VI}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Fr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Fr.min())}updateCollectionGroup(t,i,s){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class VI{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Ve(Jt.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ve(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YT=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(YT,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Za(0)}static cr(){return new Za(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="LruGarbageCollector",MI=1048576;function Pv([a,t],[i,s]){const l=Dt(a,i);return l===0?Dt(t,s):l}class UI{constructor(t){this.Ir=t,this.buffer=new Ve(Pv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Pv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class LI{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(xv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ro(i)?it(xv,"Ignoring IndexedDB error during garbage collection: ",i):await io(i)}await this.Vr(3e5)}))}}class xI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(ah.ce);const s=new UI(i);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Lv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),La()<=Ct.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function PI(a,t){return new xI(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.changes=new qs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&bl(s.mutation,l,Xn.empty(),ne.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Nt()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Nt()){const l=Os();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=gl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Os();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Nt())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,s,l){let c=tr();const d=Sl(),p=(function(){return Sl()})();return i.forEach(((_,y)=>{const A=s.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof js)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),bl(A.mutation,y,A.mutation.getFieldMask(),ne.now())):d.set(y.key,Xn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new zI(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const s=Sl();let l=new oe(((d,p)=>d-p)),c=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=s.get(_)||Xn.empty();A=p.applyToLocalView(y,A),s.set(_,A);const S=(l.get(p.batchId)||Nt()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,S=CT();A.forEach((U=>{if(!c.has(U)){const Q=UT(i.get(U),s.get(U));Q!==null&&S.set(U,Q),c=c.add(U)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return X.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return(function(d){return lt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):ST(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):X.resolve(Os());let p=Il,_=c;return d.next((y=>X.forEach(y,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((U=>{_=_.insert(A,U)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Nt()))).next((A=>({batchId:p,changes:IT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new lt(i)).next((s=>{let l=gl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=gl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(S,U){return new so(U,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next((A=>{A.forEach(((S,U)=>{d=d.insert(S,U)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let p=gl();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&bl(A.mutation,y,Xn.empty(),ne.now()),ch(i,y)&&(p=p.insert(_,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Si(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:NI(l.bundledQuery),readTime:Si(l.readTime)}})(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.overlays=new oe(lt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Os();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(t,i,s){const l=Os(),c=i.length+1,d=new lt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>s&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new oe(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let A=c.get(y.largestBatchId);A===null&&(A=Os(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=Os(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return X.resolve(p)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new aI(i,s));let c=this.qr.get(i);c===void 0&&(c=Nt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(){this.Qr=new Ve(xe.$r),this.Ur=new Ve(xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new xe(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new xe(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new lt(new Jt([])),s=new xe(i,t),l=new xe(i,t+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new lt(new Jt([])),s=new xe(i,t),l=new xe(i,t+1);let c=Nt();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new xe(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class xe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return lt.comparator(t.key,i.key)||Dt(t.Yr,i.Yr)}static Kr(t,i){return Dt(t.Yr,i.Yr)||lt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(xe.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new sI(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new xe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Am:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new xe(i,0),l=new xe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Ve(Dt);return i.forEach((l=>{const c=new xe(l,0),d=new xe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{s=s.add(p.Yr)}))})),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;lt.isDocumentKey(c)||(c=c.child(""));const d=new xe(new lt(c),0);let p=new Ve(Dt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(i.mutations,(l=>{const c=new xe(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new xe(i,0),l=this.Zr.firstAfterOrEqual(s);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t){this.ri=t,this.docs=(function(){return new oe(lt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let s=tr();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Xe.newInvalidDocument(l))})),X.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=tr();const d=i.path,p=new lt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||vw(_w(A),s)<=0||(l.has(A.key)||ch(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,s,l){ft(9500)}ii(t,i){return X.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new QI(this)}getSize(t){return X.resolve(this.size)}}class QI extends kI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t){this.persistence=t,this.si=new qs((i=>Rm(i)),wm),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.oi=0,this._i=new Vm,this.targetCount=0,this.ai=Za.ur()}forEachTarget(t,i){return this.si.forEach(((s,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Za(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return X.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),X.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return X.resolve(s)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(t,i){this.ui={},this.overlays={},this.ci=new ah(0),this.li=!1,this.li=!0,this.hi=new HI,this.referenceDelegate=t(this),this.Pi=new YI(this),this.indexManager=new OI,this.remoteDocumentCache=(function(l){return new FI(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new DI(i),this.Ii=new qI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new jI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new GI(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){it("MemoryPersistence","Starting transaction:",t);const l=new KI(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class KI extends Tw{constructor(t){super(),this.currentSequenceNumber=t}}class Mm{constructor(t){this.persistence=t,this.Ri=new Vm,this.Vi=null}static mi(t){return new Mm(t)}get fi(){if(this.Vi)return this.Vi;throw ft(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),X.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(s=>{const l=lt.fromPath(s);return this.gi(t,l).next((c=>{c||i.removeEntry(l,pt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class $c{constructor(t,i){this.persistence=t,this.pi=new qs((s=>bw(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=PI(this,i)}static mi(t,i){return new $c(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(s++,c.removeEntry(d,pt.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),X.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Oc(t.data.value)),i}br(t,i,s){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=Nt(),l=Nt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Um(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return LS()?8:Aw($e())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new XI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,s,l){return s.documentReadCount<this.fs?(La()<=Ct.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",xa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(La()<=Ct.DEBUG&&it("QueryEngine","Query:",xa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(La()<=Ct.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",xa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(i))):X.resolve())}ys(t,i){if(Rv(i))return X.resolve(null);let s=Ai(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=$d(i,null,"F"),s=Ai(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Nt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,$d(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,s,l){return Rv(i)||l.isEqual(pt.min())?X.resolve(null):this.ps.getDocuments(t,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,l)?X.resolve(null):(La()<=Ct.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),xa(i)),this.vs(t,d,i,yw(l,Il)).next((p=>p)))}))}Ds(t,i){let s=new Ve(RT(t));return i.forEach(((l,c)=>{ch(t,c)&&(s=s.add(c))})),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,s){return La()<=Ct.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",xa(i)),this.ps.getDocumentsMatchingQuery(t,i,Fr.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="LocalStore",ZI=3e8;class JI{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new oe(Dt),this.xs=new qs((c=>Rm(c)),wm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new BI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function WI(a,t,i,s){return new JI(a,t,i,s)}async function XT(a,t){const i=_t(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let _=Nt();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function tC(a,t){const i=_t(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const S=y.batch,U=S.keys();let Q=X.resolve();return U.forEach((J=>{Q=Q.next((()=>A.getEntry(_,J))).next((et=>{const Z=y.docVersions.get(J);qt(Z!==null,48541),et.version.compareTo(Z)<0&&(S.applyToRemoteDocument(et,y),et.isValidDocument()&&(et.setReadTime(y.commitVersion),A.addEntry(et)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let _=Nt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function $T(a){const t=_t(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function eC(a,t){const i=_t(a),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const U=l.get(S);if(!U)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let Q=U.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?Q=Q.withResumeToken(Fe.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,s)),l=l.insert(S,Q),(function(et,Z,ht){return et.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=ZI?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(U,Q,A)&&p.push(i.Pi.updateTargetData(c,Q))}));let _=tr(),y=Nt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(nC(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!s.isEqual(pt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function nC(a,t,i){let s=Nt(),l=Nt();return i.forEach((c=>s=s.add(c))),t.getEntries(a,s).next((c=>{let d=tr();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(pt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):it(Lm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function iC(a,t){const i=_t(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Am),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function rC(a,t){const i=_t(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(s).next((d=>(l=new zr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function em(a,t,i){const s=_t(a),l=s.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ro(d))throw d;it(Lm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function kv(a,t,i){const s=_t(a);let l=pt.min(),c=Nt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const S=_t(_),U=S.xs.get(A);return U!==void 0?X.resolve(S.Ms.get(U)):S.Pi.getTargetData(y,A)})(s,d,Ai(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,i?l:pt.min(),i?c:Nt()))).next((p=>(sC(s,Hw(t),p),{documents:p,Qs:c})))))}function sC(a,t,i){let s=a.Os.get(t)||pt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),a.Os.set(t,s)}class zv{constructor(){this.activeTargetIds=Xw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class aC{constructor(){this.Mo=new zv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new zv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="ConnectivityMonitor";class qv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(Bv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(Bv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc=null;function nm(){return Rc===null?Rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rc++,"0x"+Rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="RestConnection",lC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Fc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,c){const d=nm(),p=this.zo(t,i.toUriEncodedString());it(Vd,`Sending RPC '${t}' ${d}:`,p,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),A=Wa(y);return this.Jo(t,p,_,s,A).then((S=>(it(Vd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Ya(Vd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(t,i,s,l,c,d){return this.Go(t,i,s,l,c)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+no})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const s=lC[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class hC extends uC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,c){const d=nm();return new Promise(((p,_)=>{const y=new JE;y.setWithCredentials(!0),y.listenOnce(WE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Nc.NO_ERROR:const S=y.getResponseJson();it(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Nc.TIMEOUT:it(Ye,`RPC '${t}' ${d} timed out`),_(new nt(K.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const U=y.getStatus();if(it(Ye,`RPC '${t}' ${d} failed with status:`,U,"response text:",y.getResponseText()),U>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const J=Q?.error;if(J&&J.status&&J.message){const et=(function(ht){const vt=ht.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(vt)>=0?vt:K.UNKNOWN})(J.status);_(new nt(et,J.message))}else _(new nt(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new nt(K.UNAVAILABLE,"Connection failed."));break;default:ft(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{it(Ye,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);it(Ye,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,s,15)}))}T_(t,i,s){const l=nm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=nT(),p=eT(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const A=c.join("");it(Ye,`Creating RPC '${t}' stream ${l}: ${A}`,_);const S=d.createWebChannel(A,_);this.I_(S);let U=!1,Q=!1;const J=new cC({Yo:Z=>{Q?it(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(U||(it(Ye,`Opening RPC '${t}' stream ${l} transport.`),S.open(),U=!0),it(Ye,`RPC '${t}' stream ${l} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),et=(Z,ht,vt)=>{Z.listen(ht,(dt=>{try{vt(dt)}catch(Qt){setTimeout((()=>{throw Qt}),0)}}))};return et(S,ml.EventType.OPEN,(()=>{Q||(it(Ye,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),et(S,ml.EventType.CLOSE,(()=>{Q||(Q=!0,it(Ye,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(S))})),et(S,ml.EventType.ERROR,(Z=>{Q||(Q=!0,Ya(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),J.a_(new nt(K.UNAVAILABLE,"The operation could not be completed")))})),et(S,ml.EventType.MESSAGE,(Z=>{if(!Q){const ht=Z.data[0];qt(!!ht,16349);const vt=ht,dt=vt?.error||vt[0]?.error;if(dt){it(Ye,`RPC '${t}' stream ${l} received error:`,dt);const Qt=dt.status;let Wt=(function(b){const I=be[b];if(I!==void 0)return PT(I)})(Qt),Ut=dt.message;Wt===void 0&&(Wt=K.INTERNAL,Ut="Unknown error status: "+Qt+" with message "+dt.message),Q=!0,J.a_(new nt(Wt,Ut)),S.close()}else it(Ye,`RPC '${t}' stream ${l} received:`,ht),J.u_(ht)}})),et(p,tT.STAT_EVENT,(Z=>{Z.stat===Hd.PROXY?it(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Hd.NOPROXY&&it(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(a){return new gI(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="PersistentStream";class JT{constructor(t,i,s,l,c,d,p,_){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new nt(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(jv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(jv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fC extends JT{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=_I(this.serializer,t),s=(function(c){if(!("targetChange"in c))return pt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?pt.min():d.readTime?Si(d.readTime):pt.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=tm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Kd(_)?{documents:TI(c,_)}:{query:AI(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=BT(c,d.resumeToken);const y=Zd(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(pt.min())>0){p.readTime=Xc(c,d.snapshotVersion.toTimestamp());const y=Zd(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const s=bI(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=tm(this.serializer),i.removeTarget=t,this.q_(i)}}class dC extends JT{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=EI(t.writeResults,t.commitTime),s=Si(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=tm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>vI(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{}class gC extends mC{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new nt(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Jd(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new nt(K.UNKNOWN,c.toString())}))}Ho(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Jd(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new nt(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class pC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="RemoteStore";class yC{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Hs(this)&&(it(zs,"Restarting streams for network reachability change."),await(async function(_){const y=_t(_);y.Ea.add(4),await Hl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await gh(y)})(this))}))})),this.Ra=new pC(s,l)}}async function gh(a){if(Hs(a))for(const t of a.da)await t(!0)}async function Hl(a){for(const t of a.da)await t(!1)}function WT(a,t){const i=_t(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),zm(i)?km(i):ao(i).O_()&&Pm(i,t))}function xm(a,t){const i=_t(a),s=ao(i);i.Ia.delete(t),s.O_()&&t0(i,t),i.Ia.size===0&&(s.O_()?s.L_():Hs(i)&&i.Ra.set("Unknown"))}function Pm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ao(a).Y_(t)}function t0(a,t){a.Va.Ue(t),ao(a).Z_(t)}function km(a){a.Va=new hI({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),ao(a).start(),a.Ra.ua()}function zm(a){return Hs(a)&&!ao(a).x_()&&a.Ia.size>0}function Hs(a){return _t(a).Ea.size===0}function e0(a){a.Va=void 0}async function _C(a){a.Ra.set("Online")}async function vC(a){a.Ia.forEach(((t,i)=>{Pm(a,t)}))}async function EC(a,t){e0(a),zm(a)?(a.Ra.ha(t),km(a)):a.Ra.set("Unknown")}async function TC(a,t,i){if(a.Ra.set("Online"),t instanceof zT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(a,t)}catch(s){it(zs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Zc(a,s)}else if(t instanceof Uc?a.Va.Ze(t):t instanceof kT?a.Va.st(t):a.Va.tt(t),!i.isEqual(pt.min()))try{const s=await $T(a.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),t0(c,_);const S=new zr(A.target,_,y,A.sequenceNumber);Pm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(s){it(zs,"Failed to raise snapshot:",s),await Zc(a,s)}}async function Zc(a,t,i){if(!ro(t))throw t;a.Ea.add(1),await Hl(a),a.Ra.set("Offline"),i||(i=()=>$T(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{it(zs,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await gh(a)}))}function n0(a,t){return t().catch((i=>Zc(a,i,t)))}async function ph(a){const t=_t(a),i=Xr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Am;for(;AC(t);)try{const l=await iC(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,SC(t,l)}catch(l){await Zc(t,l)}i0(t)&&r0(t)}function AC(a){return Hs(a)&&a.Ta.length<10}function SC(a,t){a.Ta.push(t);const i=Xr(a);i.O_()&&i.X_&&i.ea(t.mutations)}function i0(a){return Hs(a)&&!Xr(a).x_()&&a.Ta.length>0}function r0(a){Xr(a).start()}async function bC(a){Xr(a).ra()}async function RC(a){const t=Xr(a);for(const i of a.Ta)t.ea(i.mutations)}async function wC(a,t,i){const s=a.Ta.shift(),l=Dm.from(s,t,i);await n0(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await ph(a)}async function IC(a,t){t&&Xr(a).X_&&await(async function(s,l){if((function(d){return lI(d)&&d!==K.ABORTED})(l.code)){const c=s.Ta.shift();Xr(s).B_(),await n0(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await ph(s)}})(a,t),i0(a)&&r0(a)}async function Hv(a,t){const i=_t(a);i.asyncQueue.verifyOperationInProgress(),it(zs,"RemoteStore received new credentials");const s=Hs(i);i.Ea.add(3),await Hl(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await gh(i)}async function CC(a,t){const i=_t(a);t?(i.Ea.delete(2),await gh(i)):t||(i.Ea.add(2),await Hl(i),i.Ra.set("Unknown"))}function ao(a){return a.ma||(a.ma=(function(i,s,l){const c=_t(i);return c.sa(),new fC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:_C.bind(null,a),t_:vC.bind(null,a),r_:EC.bind(null,a),H_:TC.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),zm(a)?km(a):a.Ra.set("Unknown")):(await a.ma.stop(),e0(a))}))),a.ma}function Xr(a){return a.fa||(a.fa=(function(i,s,l){const c=_t(i);return c.sa(),new dC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:bC.bind(null,a),r_:IC.bind(null,a),ta:RC.bind(null,a),na:wC.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await ph(a)):(await a.fa.stop(),a.Ta.length>0&&(it(zs,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,p=new Bm(t,i,d,l,c);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qm(a,t){if(Wi("AsyncQueue",`${t}: ${a}`),ro(a))return new nt(K.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{static emptySet(t){return new Ha(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||lt.comparator(i.key,s.key):(i,s)=>lt.comparator(i.key,s.key),this.keyedMap=gl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ha)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Ha;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.ga=new oe(lt.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):ft(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class Ja{constructor(t,i,s,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ja(t,i,Ha.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class NC{constructor(){this.queries=Fv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=_t(i),c=l.queries;l.queries=Fv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(s)}))})(this,new nt(K.ABORTED,"Firestore shutting down"))}}function Fv(){return new qs((a=>bT(a)),uh)}async function OC(a,t){const i=_t(a);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new DC,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=qm(d,`Initialization of query '${xa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&jm(i)}async function VC(a,t){const i=_t(a),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function MC(a,t){const i=_t(a);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(s=!0);d.wa=l}}s&&jm(i)}function UC(a,t,i){const s=_t(a),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(t)}function jm(a){a.Ca.forEach((t=>{t.next()}))}var im,Qv;(Qv=im||(im={})).Ma="default",Qv.Cache="cache";class LC{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Ja(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ja.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==im.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(t){this.key=t}}class a0{constructor(t){this.key=t}}class xC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Nt(),this.mutatedKeys=Nt(),this.eu=RT(t),this.tu=new Ha(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new Gv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const U=l.get(A),Q=ch(this.query,S)?S:null,J=!!U&&this.mutatedKeys.has(U.key),et=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let Z=!1;U&&Q?U.data.isEqual(Q.data)?J!==et&&(s.track({type:3,doc:Q}),Z=!0):this.su(U,Q)||(s.track({type:2,doc:Q}),Z=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(p=!0)):!U&&Q?(s.track({type:0,doc:Q}),Z=!0):U&&!Q&&(s.track({type:1,doc:U}),Z=!0,(_||y)&&(p=!0)),Z&&(Q?(d=d.add(Q),c=et?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(Q,J){const et=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft(20277,{Rt:Z})}};return et(Q)-et(J)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new Ja(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Gv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Nt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new a0(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new s0(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=Nt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ja.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hm="SyncEngine";class PC{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class kC{constructor(t){this.key=t,this.hu=!1}}class zC{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new qs((p=>bT(p)),uh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(lt.comparator),this.Au=new Map,this.Ru=new Vm,this.Vu={},this.mu=new Map,this.fu=Za.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BC(a,t,i=!0){const s=f0(a);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await o0(s,t,i,!0),l}async function qC(a,t){const i=f0(a);await o0(i,t,!0,!1)}async function o0(a,t,i,s){const l=await rC(a.localStore,Ai(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await jC(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&WT(a.remoteStore,l),p}async function jC(a,t,i,s,l){a.pu=(S,U,Q)=>(async function(et,Z,ht,vt){let dt=Z.view.ru(ht);dt.Cs&&(dt=await kv(et.localStore,Z.query,!1).then((({documents:C})=>Z.view.ru(C,dt))));const Qt=vt&&vt.targetChanges.get(Z.targetId),Wt=vt&&vt.targetMismatches.get(Z.targetId)!=null,Ut=Z.view.applyChanges(dt,et.isPrimaryClient,Qt,Wt);return Kv(et,Z.targetId,Ut.au),Ut.snapshot})(a,S,U,Q);const c=await kv(a.localStore,t,!0),d=new xC(t,c.Qs),p=d.ru(c.documents),_=jl.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),y=d.applyChanges(p,a.isPrimaryClient,_);Kv(a,i,y.au);const A=new PC(t,i,d);return a.Tu.set(t,A),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),y.snapshot}async function HC(a,t,i){const s=_t(a),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!uh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await em(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&xm(s.remoteStore,l.targetId),rm(s,l.targetId)})).catch(io)):(rm(s,l.targetId),await em(s.localStore,l.targetId,!0))}async function GC(a,t){const i=_t(a),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),xm(i.remoteStore,s.targetId))}async function FC(a,t,i){const s=JC(a);try{const l=await(function(d,p){const _=_t(d),y=ne.now(),A=p.reduce(((Q,J)=>Q.add(J.key)),Nt());let S,U;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let J=tr(),et=Nt();return _.Ns.getEntries(Q,A).next((Z=>{J=Z,J.forEach(((ht,vt)=>{vt.isValidDocument()||(et=et.add(ht))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,J))).next((Z=>{S=Z;const ht=[];for(const vt of p){const dt=iI(vt,S.get(vt.key).overlayedDocument);dt!=null&&ht.push(new js(vt.key,dt,pT(dt.value.mapValue),$i.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,ht,p)})).next((Z=>{U=Z;const ht=Z.applyToLocalDocumentSet(S,et);return _.documentOverlayCache.saveOverlays(Q,Z.batchId,ht)}))})).then((()=>({batchId:U.batchId,changes:IT(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new oe(Dt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(s,l.batchId,i),await Gl(s,l.changes),await ph(s.remoteStore)}catch(l){const c=qm(l,"Failed to persist write");i.reject(c)}}async function l0(a,t){const i=_t(a);try{const s=await eC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await Gl(i,s,t)}catch(s){await io(s)}}function Yv(a,t,i){const s=_t(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=_t(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,S)=>{for(const U of S.Sa)U.va(p)&&(y=!0)})),y&&jm(_)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function QC(a,t,i){const s=_t(a);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new oe(lt.comparator);d=d.insert(c,Xe.newNoDocument(c,pt.min()));const p=Nt().add(c),_=new dh(pt.min(),new Map,new oe(Dt),d,p);await l0(s,_),s.du=s.du.remove(c),s.Au.delete(t),Gm(s)}else await em(s.localStore,t,!1).then((()=>rm(s,t,i))).catch(io)}async function YC(a,t){const i=_t(a),s=t.batch.batchId;try{const l=await tC(i.localStore,t);c0(i,s,null),u0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Gl(i,l)}catch(l){await io(l)}}async function KC(a,t,i){const s=_t(a);try{const l=await(function(d,p){const _=_t(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>(qt(S!==null,37113),A=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(s.localStore,t);c0(s,t,i),u0(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Gl(s,l)}catch(l){await io(l)}}function u0(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function c0(a,t,i){const s=_t(a);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function rm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Iu.get(t))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((s=>{a.Ru.containsKey(s)||h0(a,s)}))}function h0(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(xm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Gm(a))}function Kv(a,t,i){for(const s of i)s instanceof s0?(a.Ru.addReference(s.key,t),XC(a,s)):s instanceof a0?(it(Hm,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,t),a.Ru.containsKey(s.key)||h0(a,s.key)):ft(19791,{wu:s})}function XC(a,t){const i=t.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(it(Hm,"New document in limbo: "+i),a.Eu.add(s),Gm(a))}function Gm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new lt(Jt.fromString(t)),s=a.fu.next();a.Au.set(s,new kC(i)),a.du=a.du.insert(i,s),WT(a.remoteStore,new zr(Ai(Im(i.path)),s,"TargetPurposeLimboResolution",ah.ce))}}async function Gl(a,t,i){const s=_t(a),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,_)=>{d.push(s.pu(_,t,i).then((y=>{if((y||i)&&s.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Um.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(_,y){const A=_t(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(y,(U=>X.forEach(U.Es,(Q=>A.persistence.referenceDelegate.addReference(S,U.targetId,Q))).next((()=>X.forEach(U.ds,(Q=>A.persistence.referenceDelegate.removeReference(S,U.targetId,Q)))))))))}catch(S){if(!ro(S))throw S;it(Lm,"Failed to update sequence numbers: "+S)}for(const S of y){const U=S.targetId;if(!S.fromCache){const Q=A.Ms.get(U),J=Q.snapshotVersion,et=Q.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(U,et)}}})(s.localStore,c))}async function $C(a,t){const i=_t(a);if(!i.currentUser.isEqual(t)){it(Hm,"User change. New user:",t.toKey());const s=await XT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new nt(K.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Gl(i,s.Ls)}}function ZC(a,t){const i=_t(a),s=i.Au.get(t);if(s&&s.hu)return Nt().add(s.key);{let l=Nt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function f0(a){const t=_t(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=l0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=QC.bind(null,t),t.Pu.H_=MC.bind(null,t.eventManager),t.Pu.yu=UC.bind(null,t.eventManager),t}function JC(a){const t=_t(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=YC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=KC.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=mh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return WI(this.persistence,new $I,t.initialUser,this.serializer)}Cu(t){return new KT(Mm.mi,this.serializer)}Du(t){return new aC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class WC extends Jc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof $c,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new LI(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new KT((s=>$c.mi(s,i)),this.serializer)}}class sm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Yv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$C.bind(null,this.syncEngine),await CC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new NC})()}createDatastore(t){const i=mh(t.databaseInfo.databaseId),s=(function(c){return new hC(c)})(t.databaseInfo);return(function(c,d,p,_){return new gC(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,p){return new yC(s,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Yv(this.syncEngine,i,0)),(function(){return qv.v()?new qv:new oC})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,A){const S=new zC(l,c,d,p,_,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=_t(i);it(zs,"RemoteStore shutting down."),s.Ea.add(5),await Hl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sm.provider={build:()=>new sm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="FirestoreClient";class e2{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Ke.UNAUTHENTICATED,this.clientId=Tm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{it($r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(it($r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=qm(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Ud(a,t){a.asyncQueue.verifyOperationInProgress(),it($r,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async l=>{s.isEqual(l)||(await XT(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Xv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await n2(a);it($r,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((s=>Hv(t.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,l)=>Hv(t.remoteStore,l))),a._onlineComponents=t}async function n2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){it($r,"Using user provided OfflineComponentProvider");try{await Ud(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ya("Error using user provided cache. Falling back to memory cache: "+i),await Ud(a,new Jc)}}else it($r,"Using default OfflineComponentProvider"),await Ud(a,new WC(void 0));return a._offlineComponents}async function d0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(it($r,"Using user provided OnlineComponentProvider"),await Xv(a,a._uninitializedComponentsProvider._online)):(it($r,"Using default OnlineComponentProvider"),await Xv(a,new sm))),a._onlineComponents}function i2(a){return d0(a).then((t=>t.syncEngine))}async function $v(a){const t=await d0(a),i=t.eventManager;return i.onListen=BC.bind(null,t.syncEngine),i.onUnlisten=HC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=qC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=GC.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="firestore.googleapis.com",Jv=!0;class Wv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new nt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=g0,this.ssl=Jv}else this.host=t.host,this.ssl=t.ssl??Jv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=YT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<MI)throw new nt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}pw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new nt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new nt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new nt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class yh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new nt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new aw;switch(s.type){case"firstParty":return new cw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new nt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Zv.get(i);s&&(it("ComponentProvider","Removing Datastore"),Zv.delete(i),s.terminate())})(this),Promise.resolve()}}function r2(a,t,i,s={}){a=El(a,yh);const l=Wa(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;l&&(fE(`https://${p}`),dE("Firestore",!0)),c.host!==g0&&c.host!==p&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:s};if(!Ls(_,d)&&(a._setSettings(_),s.mockUserToken)){let y,A;if(typeof s.mockUserToken=="string")y=s.mockUserToken,A=Ke.MOCK_USER;else{y=wS(s.mockUserToken,a._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new nt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ke(S)}a._authCredentials=new ow(new rT(y,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Gs(this.firestore,t,this._query)}}class Oe{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(Bl(i,Oe._jsonSchema))return new Oe(t,s||null,new lt(Jt.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:we("string",Oe._jsonSchemaVersion),referencePath:we("string")};class Gr extends Gs{constructor(t,i,s){super(t,i,Im(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new lt(t))}withConverter(t){return new Gr(this.firestore,t,this._path)}}function p0(a,t,...i){if(a=un(a),sT("collection","path",t),a instanceof yh){const s=Jt.fromString(t,...i);return hv(s),new Gr(a,null,s)}{if(!(a instanceof Oe||a instanceof Gr))throw new nt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(t,...i));return hv(s),new Gr(a.firestore,null,s)}}function s2(a,t,...i){if(a=un(a),arguments.length===1&&(t=Tm.newId()),sT("doc","path",t),a instanceof yh){const s=Jt.fromString(t,...i);return cv(s),new Oe(a,null,new lt(s))}{if(!(a instanceof Oe||a instanceof Gr))throw new nt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(t,...i));return cv(s),new Oe(a.firestore,a instanceof Gr?a.converter:null,new lt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="AsyncQueue";class eE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZT(this,"async_queue_retry"),this._c=()=>{const s=Md();s&&it(tE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=Md();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Md();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ms;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ro(t))throw t;it(tE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",nE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Bm.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ft(47125,{Pc:nE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function nE(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class Wc extends yh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new eE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new eE(t),this._firestoreClient=void 0,await t}}}function a2(a,t){const i=typeof a=="object"?a:yE(),s=typeof a=="string"?a:Fc,l=um(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=bS("firestore");c&&r2(l,...c)}return l}function y0(a){if(a._terminated)throw new nt(K.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||o2(a),a._firestoreClient}function o2(a){const t=a._freezeSettings(),i=(function(l,c,d,p){return new Iw(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,m0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new e2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Fe.fromBase64String(t))}catch(i){throw new nt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:we("string",Un._jsonSchemaVersion),bytes:we("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new nt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new nt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new nt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(t){if(Bl(t,bi._jsonSchema))return new bi(t.latitude,t.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:we("string",bi._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bl(t,Ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ri(t.vectorValues);throw new nt(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:we("string",Ri._jsonSchemaVersion),vectorValues:we("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=/^__.*__$/;class u2{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new js(t,this.data,this.fieldMask,i,this.fieldTransforms):new ql(t,this.data,i,this.fieldTransforms)}}function _0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft(40011,{Ac:a})}}class Ym{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ym({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return th(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(_0(this.Ac)&&l2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class c2{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||mh(t)}Cc(t,i,s,l=!1){return new Ym({Ac:t,methodName:i,Dc:s,path:Ge.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function v0(a){const t=a._freezeSettings(),i=mh(a._databaseId);return new c2(a._databaseId,!!t.ignoreUndefinedProperties,i)}function h2(a,t,i,s,l,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,t,i,l);A0("Data must be an object, but it was:",d,s);const p=E0(s,d);let _,y;if(c.merge)_=new Xn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const U=d2(t,S,i);if(!d.contains(U))throw new nt(K.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);g2(A,U)||A.push(U)}_=new Xn(A),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new u2(new Mn(p),_,y)}class Km extends Qm{_toFieldTransform(t){return new Ww(t.path,new Vl)}isEqual(t){return t instanceof Km}}function f2(a,t,i,s=!1){return Xm(i,a.Cc(s?4:3,t))}function Xm(a,t){if(T0(a=un(a)))return A0("Unsupported field value:",t,a),E0(a,t);if(a instanceof Qm)return(function(s,l){if(!_0(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let _=Xm(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(a,t)}return(function(s,l){if((s=un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return $w(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ne.fromDate(s);return{timestampValue:Xc(l.serializer,c)}}if(s instanceof ne){const c=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xc(l.serializer,c)}}if(s instanceof bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:BT(l.serializer,s._byteString)};if(s instanceof Oe){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Om(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Ri)return(function(d,p){return{mapValue:{fields:{[mT]:{stringValue:gT},[Qc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Cm(p.serializer,y)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${sh(s)}`)})(a,t)}function E0(a,t){const i={};return lT(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bs(a,((s,l)=>{const c=Xm(l,t.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function T0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ne||a instanceof bi||a instanceof Un||a instanceof Oe||a instanceof Qm||a instanceof Ri)}function A0(a,t,i){if(!T0(i)||!aT(i)){const s=sh(i);throw s==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+s)}}function d2(a,t,i){if((t=un(t))instanceof Fm)return t._internalPath;if(typeof t=="string")return S0(a,t);throw th("Field path arguments must be of type string or ",a,!1,void 0,i)}const m2=new RegExp("[~\\*/\\[\\]]");function S0(a,t,i){if(t.search(m2)>=0)throw th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Fm(...t.split("."))._internalPath}catch{throw th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function th(a,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${s}`),d&&(_+=` in document ${l}`),_+=")"),new nt(K.INVALID_ARGUMENT,p+a+_)}function g2(a,t){return a.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new p2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field($m("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class p2 extends b0{data(){return super.data()}}function $m(a,t){return typeof t=="string"?S0(a,t):t instanceof Fm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new nt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zm{}class R0 extends Zm{}function _2(a,t,...i){let s=[];t instanceof Zm&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((_=>_ instanceof Wm)).length,p=c.filter((_=>_ instanceof Jm)).length;if(d>1||d>0&&p>0)throw new nt(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)a=l._apply(a);return a}class Jm extends R0{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Jm(t,i,s)}_apply(t){const i=this._parse(t);return w0(t._query,i),new Gs(t.firestore,t.converter,Xd(t._query,i))}_parse(t){const i=v0(t.firestore);return(function(c,d,p,_,y,A,S){let U;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new nt(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){sE(S,A);const J=[];for(const et of S)J.push(rE(_,c,et));U={arrayValue:{values:J}}}else U=rE(_,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||sE(S,A),U=f2(p,d,S,A==="in"||A==="not-in");return Re.create(y,A,U)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Wm extends Zm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Wm(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Zn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const _ of p)w0(d,_),d=Xd(d,_)})(t._query,i),new Gs(t.firestore,t.converter,Xd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tg extends R0{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new tg(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new nt(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new nt(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ol(c,d)})(t._query,this._field,this._direction);return new Gs(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new so(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function v2(a,t="asc"){const i=t,s=$m("orderBy",a);return tg._create(s,i)}function rE(a,t,i){if(typeof(i=un(i))=="string"){if(i==="")throw new nt(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ST(t)&&i.indexOf("/")!==-1)throw new nt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(Jt.fromString(i));if(!lt.isDocumentKey(s))throw new nt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return vv(a,new lt(s))}if(i instanceof Oe)return vv(a,i._key);throw new nt(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sh(i)}.`)}function sE(a,t){if(!Array.isArray(a)||a.length===0)throw new nt(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function w0(a,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new nt(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new nt(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class E2{convertValue(t,i="none"){switch(Kr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw ft(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Bs(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[Qc].arrayValue?.values?.map((s=>me(s.doubleValue)));return new Ri(i)}convertGeoPoint(t){return new bi(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=lh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Cl(t));default:return null}}convertTimestamp(t){const i=Qr(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Jt.fromString(t);qt(QT(s),9688,{name:t});const l=new Dl(s.get(1),s.get(3)),c=new lt(s.popFirst(5));return l.isEqual(i)||Wi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(a,t,i){let s;return s=a?a.toFirestore(t):t,s}class yl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Us extends b0{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field($m("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Us._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Us._jsonSchemaVersion="firestore/documentSnapshot/1.0",Us._jsonSchema={type:we("string",Us._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class Lc extends Us{data(t={}){return super.data(t)}}class Ga{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new yl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Lc(this._firestore,this._userDataWriter,s.key,s,new yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new nt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Lc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new yl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Lc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new yl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:A2(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ga._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Tm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function A2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft(61501,{type:a})}}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:we("string",Ga._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class I0 extends E2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function S2(a,t){const i=El(a.firestore,Wc),s=s2(a),l=T2(a.converter,t);return R2(i,[h2(v0(a.firestore),"addDoc",s._key,l,a.converter!==null,{}).toMutation(s._key,$i.exists(!1))]).then((()=>s))}function b2(a,...t){a=un(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||iE(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(iE(t[s])){const _=t[s];t[s]=_.next?.bind(_),t[s+1]=_.error?.bind(_),t[s+2]=_.complete?.bind(_)}let c,d,p;if(a instanceof Oe)d=El(a.firestore,Wc),p=Im(a._key.path),c={next:_=>{t[s]&&t[s](w2(d,a,_))},error:t[s+1],complete:t[s+2]};else{const _=El(a,Gs);d=El(_.firestore,Wc),p=_._query;const y=new I0(d);c={next:A=>{t[s]&&t[s](new Ga(d,y,_,A))},error:t[s+1],complete:t[s+2]},y2(a._query)}return(function(y,A,S,U){const Q=new t2(U),J=new LC(A,Q,S);return y.asyncQueue.enqueueAndForget((async()=>OC(await $v(y),J))),()=>{Q.Nu(),y.asyncQueue.enqueueAndForget((async()=>VC(await $v(y),J)))}})(y0(d),p,l,c)}function R2(a,t){return(function(s,l){const c=new Ms;return s.asyncQueue.enqueueAndForget((async()=>FC(await i2(s),l,c))),c.promise})(y0(a),t)}function w2(a,t,i){const s=i.docs.get(t._key),l=new I0(a);return new Us(a,l,t._key,s,new yl(i.hasPendingWrites,i.fromCache),t.converter)}function I2(){return new Km("serverTimestamp")}(function(t,i=!0){(function(l){no=l})(to),Fa(new xs("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new Wc(new lw(s.getProvider("auth-internal")),new hw(d,s.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new nt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),jr(av,ov,t),jr(av,ov,"esm2020")})();const C2={apiKey:"AIzaSyCvDMHIWybL4z4Ae81xZ-htLndmLeSSwJ8",authDomain:"test-135b0.firebaseapp.com",projectId:"test-135b0",storageBucket:"test-135b0.firebasestorage.app",messagingSenderId:"51634917778",appId:"1:51634917778:web:7836fdcd90b843bb34314b",measurementId:"G-H1Y1N3CVFR"},C0=pE(C2),Zr=ZR(C0),D0=a2(C0);function D2(){const{uid:a,photoURL:t,displayName:i}=Zr.currentUser;return kt.jsxs("nav",{children:[kt.jsxs("div",{className:"nav-content",children:[kt.jsx("img",{src:t,alt:"profile"}),kt.jsx("h4",{children:i||"no-name"})]}),kt.jsx("h1",{children:"ChatRoom"}),kt.jsx("button",{className:"sign-out",onClick:()=>Zr.signOut(),children:"Sign Out"})]})}function N2(){document.getElementById("btn");const a=async()=>{const t=new Yi;try{await aR(Zr,t)}catch(i){console.error("error",i.code)}};return kt.jsxs("div",{children:[kt.jsx("h5",{children:"Sign In:"}),kt.jsx("a",{id:"btn",onClick:a,children:kt.jsx("img",{src:"https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png",alt:"Google"})})]})}function O2({message:a}){function t(c){if(!c)return"";const d=c.toDate(),p=new Date,_=new Date(p.getFullYear(),p.getMonth(),p.getDate()),y=new Date(d.getFullYear(),d.getMonth(),d.getDate()),A=_-y,S=Math.floor(A/(1e3*60*60*24)),U=d.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return S===0?`Today at ${U}`:S===1?`Yesterday at ${U}`:S>1&&S<7?`Last ${d.toLocaleDateString("en-US",{weekday:"long"})} at ${U}`:d.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})}const i=a.uid,s=t(a.createdAt);let l="";return Zr.currentUser.uid==i?l="sent":l="received",kt.jsxs("div",{className:`message-cont ${l}`,children:[kt.jsx("img",{className:"profile",src:a.photoURL,alt:"profile"}),kt.jsxs("div",{className:"content",children:[kt.jsx("p",{className:"username",children:Zr.currentUser.displayName}),kt.jsx("p",{className:l,children:a.text})]}),kt.jsx("p",{className:"timestamp",children:s})]})}function V2(){const a=p0(D0,"messages"),[t,i]=Vn.useState(""),s=async l=>{l.preventDefault();const{uid:c,photoURL:d}=Zr.currentUser;try{const p=await S2(a,{text:t,createdAt:I2(),uid:c,photoURL:d})}catch(p){console.error("error print:",p)}i("")};return kt.jsx("div",{className:"form-cont",children:kt.jsxs("form",{onSubmit:s,children:[kt.jsx("input",{type:"text",onChange:l=>{i(l.target.value)},placeholder:"Message Here",value:t}),kt.jsx("button",{className:"sendbtn",type:"submit",children:"Send"})]})})}function M2(){const[a]=iw(Zr),t=p0(D0,"messages"),i=_2(t,v2("createdAt","asc")),[s,l]=Vn.useState([]),c=Vn.useRef();return Vn.useEffect(()=>{if(!Zr.currentUser)return;const d=b2(i,p=>{const _=[];p.forEach(y=>{const A=y.data();_.push({id:y.id,text:A.text,uid:A.uid,photoURL:A.photoURL,createdAt:A.createdAt}),console.log("this is the time",A.createdAt.toDate())}),l(_)});return()=>d()},[a]),Vn.useEffect(()=>{c.current&&(c.current.scrollTop=c.current.scrollHeight)},[s]),kt.jsx(kt.Fragment,{children:a?kt.jsxs("div",{className:"page",children:[kt.jsx(D2,{}),kt.jsx("div",{className:"chatroom",ref:c,children:s.map(d=>kt.jsx(O2,{message:d},d.id))}),kt.jsx(V2,{})]}):kt.jsxs("div",{className:"homepage page",children:[kt.jsx("h1",{children:"Chat App"}),kt.jsx(N2,{})]})})}gS.createRoot(document.getElementById("root")).render(kt.jsx(Vn.StrictMode,{children:kt.jsx(M2,{})}));
