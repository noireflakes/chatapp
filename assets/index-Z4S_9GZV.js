(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Cd={exports:{}},ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function bS(){if(O_)return ml;O_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return ml.Fragment=t,ml.jsx=i,ml.jsxs=i,ml}var V_;function wS(){return V_||(V_=1,Cd.exports=bS()),Cd.exports}var Ne=wS(),Dd={exports:{}},yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function RS(){if(M_)return yt;M_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function j(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function ht(O,K,et){this.props=O,this.context=K,this.refs=J,this.updater=et||$}ht.prototype.isReactComponent={},ht.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},ht.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function vt(){}vt.prototype=ht.prototype;function dt(O,K,et){this.props=O,this.context=K,this.refs=J,this.updater=et||$}var Ft=dt.prototype=new vt;Ft.constructor=dt,W(Ft,ht.prototype),Ft.isPureReactComponent=!0;var Zt=Array.isArray;function Ut(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(O,K,et){var rt=et.ref;return{$$typeof:s,type:O,key:K,ref:rt!==void 0?rt:null,props:et}}function M(O,K){return I(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return K[et]})}var w=/\/+/g;function ne(O,K){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):K.toString(36)}function Re(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ut,Ut):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,K,et,rt,gt){var At=typeof O;(At==="undefined"||At==="boolean")&&(O=null);var Vt=!1;if(O===null)Vt=!0;else switch(At){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(O.$$typeof){case s:case t:Vt=!0;break;case A:return Vt=O._init,G(Vt(O._payload),K,et,rt,gt)}}if(Vt)return gt=gt(O),Vt=rt===""?"."+ne(O,0):rt,Zt(gt)?(et="",Vt!=null&&(et=Vt.replace(w,"$&/")+"/"),G(gt,K,et,"",function(es){return es})):gt!=null&&(N(gt)&&(gt=M(gt,et+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(w,"$&/")+"/")+Vt)),K.push(gt)),1;Vt=0;var Ie=rt===""?".":rt+":";if(Zt(O))for(var ie=0;ie<O.length;ie++)rt=O[ie],At=Ie+ne(rt,ie),Vt+=G(rt,K,et,At,gt);else if(ie=j(O),typeof ie=="function")for(O=ie.call(O),ie=0;!(rt=O.next()).done;)rt=rt.value,At=Ie+ne(rt,ie++),Vt+=G(rt,K,et,At,gt);else if(At==="object"){if(typeof O.then=="function")return G(Re(O),K,et,rt,gt);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function tt(O,K,et){if(O==null)return O;var rt=[],gt=0;return G(O,rt,"","",function(At){return K.call(et,At,gt++)}),rt}function ut(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var kt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},qt={map:tt,forEach:function(O,K,et){tt(O,function(){K.apply(this,arguments)},et)},count:function(O){var K=0;return tt(O,function(){K++}),K},toArray:function(O){return tt(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return yt.Activity=S,yt.Children=qt,yt.Component=ht,yt.Fragment=i,yt.Profiler=l,yt.PureComponent=dt,yt.StrictMode=r,yt.Suspense=_,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,yt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},yt.cache=function(O){return function(){return O.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(O,K,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=W({},O.props),gt=O.key;if(K!=null)for(At in K.key!==void 0&&(gt=""+K.key),K)!b.call(K,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&K.ref===void 0||(rt[At]=K[At]);var At=arguments.length-2;if(At===1)rt.children=et;else if(1<At){for(var Vt=Array(At),Ie=0;Ie<At;Ie++)Vt[Ie]=arguments[Ie+2];rt.children=Vt}return I(O.type,gt,rt)},yt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},yt.createElement=function(O,K,et){var rt,gt={},At=null;if(K!=null)for(rt in K.key!==void 0&&(At=""+K.key),K)b.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=K[rt]);var Vt=arguments.length-2;if(Vt===1)gt.children=et;else if(1<Vt){for(var Ie=Array(Vt),ie=0;ie<Vt;ie++)Ie[ie]=arguments[ie+2];gt.children=Ie}if(O&&O.defaultProps)for(rt in Vt=O.defaultProps,Vt)gt[rt]===void 0&&(gt[rt]=Vt[rt]);return I(O,At,gt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(O){return{$$typeof:g,render:O}},yt.isValidElement=N,yt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ut}},yt.memo=function(O,K){return{$$typeof:y,type:O,compare:K===void 0?null:K}},yt.startTransition=function(O){var K=C.T,et={};C.T=et;try{var rt=O(),gt=C.S;gt!==null&&gt(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ut,kt)}catch(At){kt(At)}finally{K!==null&&et.types!==null&&(K.types=et.types),C.T=K}},yt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},yt.use=function(O){return C.H.use(O)},yt.useActionState=function(O,K,et){return C.H.useActionState(O,K,et)},yt.useCallback=function(O,K){return C.H.useCallback(O,K)},yt.useContext=function(O){return C.H.useContext(O)},yt.useDebugValue=function(){},yt.useDeferredValue=function(O,K){return C.H.useDeferredValue(O,K)},yt.useEffect=function(O,K){return C.H.useEffect(O,K)},yt.useEffectEvent=function(O){return C.H.useEffectEvent(O)},yt.useId=function(){return C.H.useId()},yt.useImperativeHandle=function(O,K,et){return C.H.useImperativeHandle(O,K,et)},yt.useInsertionEffect=function(O,K){return C.H.useInsertionEffect(O,K)},yt.useLayoutEffect=function(O,K){return C.H.useLayoutEffect(O,K)},yt.useMemo=function(O,K){return C.H.useMemo(O,K)},yt.useOptimistic=function(O,K){return C.H.useOptimistic(O,K)},yt.useReducer=function(O,K,et){return C.H.useReducer(O,K,et)},yt.useRef=function(O){return C.H.useRef(O)},yt.useState=function(O){return C.H.useState(O)},yt.useSyncExternalStore=function(O,K,et){return C.H.useSyncExternalStore(O,K,et)},yt.useTransition=function(){return C.H.useTransition()},yt.version="19.2.0",yt}var U_;function _m(){return U_||(U_=1,Dd.exports=RS()),Dd.exports}var Xn=_m(),Nd={exports:{}},gl={},Od={exports:{}},Vd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function IS(){return k_||(k_=1,(function(s){function t(G,tt){var ut=G.length;G.push(tt);t:for(;0<ut;){var kt=ut-1>>>1,qt=G[kt];if(0<l(qt,tt))G[kt]=tt,G[ut]=qt,ut=kt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var tt=G[0],ut=G.pop();if(ut!==tt){G[0]=ut;t:for(var kt=0,qt=G.length,O=qt>>>1;kt<O;){var K=2*(kt+1)-1,et=G[K],rt=K+1,gt=G[rt];if(0>l(et,ut))rt<qt&&0>l(gt,et)?(G[kt]=gt,G[rt]=ut,kt=rt):(G[kt]=et,G[K]=ut,kt=K);else if(rt<qt&&0>l(gt,ut))G[kt]=gt,G[rt]=ut,kt=rt;else break t}}return tt}function l(G,tt){var ut=G.sortIndex-tt.sortIndex;return ut!==0?ut:G.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],A=1,S=null,V=3,j=!1,$=!1,W=!1,J=!1,ht=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Ft(G){for(var tt=i(y);tt!==null;){if(tt.callback===null)r(y);else if(tt.startTime<=G)r(y),tt.sortIndex=tt.expirationTime,t(_,tt);else break;tt=i(y)}}function Zt(G){if(W=!1,Ft(G),!$)if(i(_)!==null)$=!0,Ut||(Ut=!0,k());else{var tt=i(y);tt!==null&&Re(Zt,tt.startTime-G)}}var Ut=!1,C=-1,b=5,I=-1;function M(){return J?!0:!(s.unstable_now()-I<b)}function N(){if(J=!1,Ut){var G=s.unstable_now();I=G;var tt=!0;try{t:{$=!1,W&&(W=!1,vt(C),C=-1),j=!0;var ut=V;try{e:{for(Ft(G),S=i(_);S!==null&&!(S.expirationTime>G&&M());){var kt=S.callback;if(typeof kt=="function"){S.callback=null,V=S.priorityLevel;var qt=kt(S.expirationTime<=G);if(G=s.unstable_now(),typeof qt=="function"){S.callback=qt,Ft(G),tt=!0;break e}S===i(_)&&r(_),Ft(G)}else r(_);S=i(_)}if(S!==null)tt=!0;else{var O=i(y);O!==null&&Re(Zt,O.startTime-G),tt=!1}}break t}finally{S=null,V=ut,j=!1}tt=void 0}}finally{tt?k():Ut=!1}}}var k;if(typeof dt=="function")k=function(){dt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ne=w.port2;w.port1.onmessage=N,k=function(){ne.postMessage(null)}}else k=function(){ht(N,0)};function Re(G,tt){C=ht(function(){G(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(G){switch(V){case 1:case 2:case 3:var tt=3;break;default:tt=V}var ut=V;V=tt;try{return G()}finally{V=ut}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(G,tt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ut=V;V=G;try{return tt()}finally{V=ut}},s.unstable_scheduleCallback=function(G,tt,ut){var kt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?kt+ut:kt):ut=kt,G){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ut+qt,G={id:A++,callback:tt,priorityLevel:G,startTime:ut,expirationTime:qt,sortIndex:-1},ut>kt?(G.sortIndex=ut,t(y,G),i(_)===null&&G===i(y)&&(W?(vt(C),C=-1):W=!0,Re(Zt,ut-kt))):(G.sortIndex=qt,t(_,G),$||j||($=!0,Ut||(Ut=!0,k()))),G},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(G){var tt=V;return function(){var ut=V;V=tt;try{return G.apply(this,arguments)}finally{V=ut}}}})(Vd)),Vd}var L_;function CS(){return L_||(L_=1,Od.exports=IS()),Od.exports}var Md={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function DS(){if(P_)return Qe;P_=1;var s=_m();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qe.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},Qe.flushSync=function(_){var y=d.T,A=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=A,r.d.f()}},Qe.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},Qe.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Qe.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,S=g(A,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:j}):A==="script"&&r.d.X(_,{crossOrigin:S,integrity:V,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=g(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},Qe.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=g(A,y.crossOrigin);r.d.L(_,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=g(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},Qe.requestFormReset=function(_){r.d.r(_)},Qe.unstable_batchedUpdates=function(_,y){return _(y)},Qe.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.0",Qe}var x_;function NS(){if(x_)return Md.exports;x_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Md.exports=DS(),Md.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function OS(){if(z_)return gl;z_=1;var s=CS(),t=_m(),i=NS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===a){p=!0,a=h,o=f;break}if(E===o){p=!0,o=h,a=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===a){p=!0,a=f,o=h;break}if(E===o){p=!0,o=f,a=h;break}E=E.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Ft=Symbol.for("react.forward_ref"),Zt=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case ht:return"Profiler";case J:return"StrictMode";case Zt:return"Suspense";case Ut:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case dt:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case Ft:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ne(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ne(e(n))}catch{}}return null}var Re=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},kt=[],qt=-1;function O(e){return{current:e}}function K(e){0>qt||(e.current=kt[qt],kt[qt]=null,qt--)}function et(e,n){qt++,kt[qt]=e.current,e.current=n}var rt=O(null),gt=O(null),At=O(null),Vt=O(null);function Ie(e,n){switch(et(At,n),et(gt,e),et(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?t_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=t_(n),e=e_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),et(rt,e)}function ie(){K(rt),K(gt),K(At)}function es(e){e.memoizedState!==null&&et(Vt,e);var n=rt.current,a=e_(n,e.type);n!==a&&(et(gt,e),et(rt,a))}function $s(e){gt.current===e&&(K(rt),K(gt)),Vt.current===e&&(K(Vt),cl._currentValue=ut)}var Js,Zs;function ti(e){if(Js===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Js=n&&n[1]||"",Zs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Js+e+Zs}var uo=!1;function ns(e,n){if(!e||uo)return"";uo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var z=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){z=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){z=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),x=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<x.length&&!x[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===x.length)for(o=R.length-1,h=x.length-1;1<=o&&0<=h&&R[o]!==x[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==x[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==x[h]){var H=`
`+R[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{uo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ti(a):""}function co(e,n){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return ns(e.type,!1);case 11:return ns(e.type.render,!1);case 1:return ns(e.type,!0);case 31:return ti("Activity");default:return""}}function ho(e){try{var n="",a=null;do n+=co(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var me=Object.prototype.hasOwnProperty,Ce=s.unstable_scheduleCallback,sr=s.unstable_cancelCallback,Dh=s.unstable_shouldYield,Xl=s.unstable_requestPaint,Je=s.unstable_now,is=s.unstable_getCurrentPriorityLevel,fo=s.unstable_ImmediatePriority,mo=s.unstable_UserBlockingPriority,ar=s.unstable_NormalPriority,Nh=s.unstable_LowPriority,$l=s.unstable_IdlePriority,Jl=s.log,Zl=s.unstable_setDisableYieldValue,Pn=null,Pe=null;function En(e){if(typeof Jl=="function"&&Zl(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Pn,e)}catch{}}var ue=Math.clz32?Math.clz32:tu,Wl=Math.log,Ws=Math.LN2;function tu(e){return e>>>=0,e===0?32:31-(Wl(e)/Ws|0)|0}var ei=256,rs=262144,ge=4194304;function ni(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ni(o):(p&=E,p!==0?h=ni(p):a||(a=E&~e,a!==0&&(h=ni(a))))):(E=o&~f,E!==0?h=ni(E):p!==0?h=ni(p):a||(a=o&~e,a!==0&&(h=ni(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function xn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Oh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var e=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),e}function ri(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ss(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,n,a,o,h,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,x=e.hiddenUpdates;for(a=p&~a;0<a;){var H=31-ue(a),Q=1<<H;E[H]=0,R[H]=-1;var z=x[H];if(z!==null)for(x[H]=null,H=0;H<z.length;H++){var q=z[H];q!==null&&(q.lane&=-536870913)}a&=~Q}o!==0&&as(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function as(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ue(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function go(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-ue(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function po(e,n){var a=n&-n;return a=(a&42)!==0?1:os(a),(a&(e.suspendedLanes|n))!==0?0:a}function os(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nu(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:b_(e.type))}function zn(e,n){var a=tt.p;try{return tt.p=e,n()}finally{tt.p=a}}var Bn=Math.random().toString(36).slice(2),pe="__reactFiber$"+Bn,Me="__reactProps$"+Bn,si="__reactContainer$"+Bn,ta="__reactEvents$"+Bn,Mh="__reactListeners$"+Bn,iu="__reactHandles$"+Bn,ru="__reactResources$"+Bn,ai="__reactMarker$"+Bn;function ea(e){delete e[pe],delete e[Me],delete e[ta],delete e[Mh],delete e[iu]}function oi(e){var n=e[pe];if(n)return n;for(var a=e.parentNode;a;){if(n=a[si]||a[pe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=l_(e);e!==null;){if(a=e[pe])return a;e=l_(e)}return n}e=a,a=e.parentNode}return null}function Tn(e){if(e=e[pe]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function cn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function li(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ye(e){e[ai]=!0}var yo=new Set,_o={};function ui(e,n){ci(e,n),ci(e+"Capture",n)}function ci(e,n){for(_o[e]=n,e=0;e<n.length;e++)yo.add(n[e])}var vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eo={},To={};function su(e){return me.call(To,e)?!0:me.call(Eo,e)?!1:vo.test(e)?To[e]=!0:(Eo[e]=!0,!1)}function na(e,n,a){if(su(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function hn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function _e(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function or(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ao(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function jt(e){if(!e._valueTracker){var n=or(e)?"checked":"value";e._valueTracker=Ao(e,n,""+e[n])}}function ls(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=or(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var us=/[\n"\\]/g;function tn(e){return e.replace(us,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ia(e,n,a,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?So(e,p,Ue(n)):a!=null?So(e,p,Ue(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function au(e,n,a,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){jt(e);return}a=a!=null?""+Ue(a):"",n=n!=null?""+Ue(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),jt(e)}function So(e,n,a){n==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function lr(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ou(e,n,a){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ue(a):""}function ur(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Re(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ue(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),jt(e)}function en(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||lu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function wo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&bo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&bo(e,f,n[f])}function ra(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return cr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var Ro=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hr=null,fi=null;function cs(e){var n=Tn(e);if(n&&(e=n.stateNode)){var a=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(ia(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Me]||null;if(!h)throw Error(r(90));ia(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&ls(o)}break t;case"textarea":ou(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&lr(e,!!a.multiple,n,!1)}}}var aa=!1;function fr(e,n,a){if(aa)return e(n,a);aa=!0;try{var o=e(n);return o}finally{if(aa=!1,(hr!==null||fi!==null)&&(nc(),hr&&(n=hr,e=fi,fi=hr=null,cs(n),e)))for(n=0;n<e.length;n++)cs(e[n])}}function jn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Me]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hs=!1;if(Sn)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){hs=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch{hs=!1}var di=null,Io=null,fs=null;function Co(){if(fs)return fs;var e,n=Io,a=n.length,o,h="value"in di?di.value:di.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var p=a-e;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return fs=h.slice(e,1<o?1-o:void 0)}function ds(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function Hn(){return!1}function xe(e){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Mi:Hn,this.isPropagationStopped=Hn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=xe(Ui),dr=S({},Ui,{view:0,detail:0}),Do=xe(dr),mr,oa,gi,la=S({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(mr=e.screenX-gi.screenX,oa=e.screenY-gi.screenY):oa=mr=0,gi=e),mr)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),No=xe(la),ms=S({},la,{dataTransfer:0}),cu=xe(ms),hu=S({},dr,{relatedTarget:0}),gs=xe(hu),Oo=S({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=xe(Oo),ua=S({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=xe(ua),mu=S({},Ui,{data:0}),pi=xe(mu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yu[e])?!!n[e]:!1}function gr(){return _u}var Ze=S({},dr,{key:function(e){if(e.key){var n=gu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(e){return e.type==="keypress"?ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vu=xe(Ze),Eu=S({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=xe(Eu),u=S({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),m=xe(u),v=S({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=xe(v),L=S({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=xe(L),Z=S({},Ui,{newState:0,oldState:0}),Et=xe(Z),ce=[9,13,27,32],xt=Sn&&"CompositionEvent"in window,re=null;Sn&&"documentMode"in document&&(re=document.documentMode);var bn=Sn&&"TextEvent"in window&&!re,yi=Sn&&(!xt||re&&8<re&&11>=re),Gn=" ",Fn=!1;function ps(e,n){switch(e){case"keyup":return ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function Y0(e,n){switch(e){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(Fn=!0,Gn);case"textInput":return e=n.data,e===Gn&&Fn?null:e;default:return null}}function X0(e,n){if(ha)return e==="compositionend"||!xt&&ps(e,n)?(e=Co(),fs=Io=di=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var $0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!$0[e.type]:n==="textarea"}function fg(e,n,a,o){hr?fi?fi.push(o):fi=[o]:hr=o,n=uc(n,"onChange"),0<n.length&&(a=new mi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Vo=null,Mo=null;function J0(e){Yy(e,0)}function Tu(e){var n=cn(e);if(ls(n))return e}function dg(e,n){if(e==="change")return n}var mg=!1;if(Sn){var Uh;if(Sn){var kh="oninput"in document;if(!kh){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),kh=typeof gg.oninput=="function"}Uh=kh}else Uh=!1;mg=Uh&&(!document.documentMode||9<document.documentMode)}function pg(){Vo&&(Vo.detachEvent("onpropertychange",yg),Mo=Vo=null)}function yg(e){if(e.propertyName==="value"&&Tu(Mo)){var n=[];fg(n,Mo,e,An(e)),fr(J0,n)}}function Z0(e,n,a){e==="focusin"?(pg(),Vo=n,Mo=a,Vo.attachEvent("onpropertychange",yg)):e==="focusout"&&pg()}function W0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(Mo)}function tA(e,n){if(e==="click")return Tu(n)}function eA(e,n){if(e==="input"||e==="change")return Tu(n)}function nA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:nA;function Uo(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!me.call(n,h)||!fn(e[h],n[h]))return!1}return!0}function _g(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vg(e,n){var a=_g(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=_g(a)}}function Eg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Eg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Tg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=hi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=hi(e.document)}return n}function Lh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var iA=Sn&&"documentMode"in document&&11>=document.documentMode,fa=null,Ph=null,ko=null,xh=!1;function Ag(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xh||fa==null||fa!==hi(o)||(o=fa,"selectionStart"in o&&Lh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ko&&Uo(ko,o)||(ko=o,o=uc(Ph,"onSelect"),0<o.length&&(n=new mi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=fa)))}function ys(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var da={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionrun:ys("Transition","TransitionRun"),transitionstart:ys("Transition","TransitionStart"),transitioncancel:ys("Transition","TransitionCancel"),transitionend:ys("Transition","TransitionEnd")},zh={},Sg={};Sn&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function _s(e){if(zh[e])return zh[e];if(!da[e])return e;var n=da[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Sg)return zh[e]=n[a];return e}var bg=_s("animationend"),wg=_s("animationiteration"),Rg=_s("animationstart"),rA=_s("transitionrun"),sA=_s("transitionstart"),aA=_s("transitioncancel"),Ig=_s("transitionend"),Cg=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function Qn(e,n){Cg.set(e,n),ui(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],ma=0,qh=0;function Su(){for(var e=ma,n=qh=ma=0;n<e;){var a=wn[n];wn[n++]=null;var o=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Dg(a,h,f)}}function bu(e,n,a,o){wn[ma++]=e,wn[ma++]=n,wn[ma++]=a,wn[ma++]=o,qh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function jh(e,n,a,o){return bu(e,n,a,o),wu(e)}function vs(e,n){return bu(e,null,null,n),wu(e)}function Dg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ue(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function wu(e){if(50<il)throw il=0,Zf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ga={};function oA(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,a,o){return new oA(e,n,a,o)}function Hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,n){var a=e.alternate;return a===null?(a=dn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ng(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,a,o,h,f){var p=0;if(o=e,typeof e=="function")Hh(e)&&(p=1);else if(typeof e=="string")p=fS(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=dn(31,a,n,h),e.elementType=I,e.lanes=f,e;case W:return Es(a.children,h,f,n);case J:p=8,h|=24;break;case ht:return e=dn(12,a,n,h|2),e.elementType=ht,e.lanes=f,e;case Zt:return e=dn(13,a,n,h),e.elementType=Zt,e.lanes=f,e;case Ut:return e=dn(19,a,n,h),e.elementType=Ut,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:p=10;break t;case vt:p=9;break t;case Ft:p=11;break t;case C:p=14;break t;case b:p=16,o=null;break t}p=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=dn(p,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Es(e,n,a,o){return e=dn(7,e,o,n),e.lanes=a,e}function Gh(e,n,a){return e=dn(6,e,null,n),e.lanes=a,e}function Og(e){var n=dn(18,null,null,0);return n.stateNode=e,n}function Fh(e,n,a){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Vg=new WeakMap;function Rn(e,n){if(typeof e=="object"&&e!==null){var a=Vg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:ho(n)},Vg.set(e,n),n)}return{value:e,source:n,stack:ho(n)}}var pa=[],ya=0,Iu=null,Lo=0,In=[],Cn=0,pr=null,_i=1,vi="";function Pi(e,n){pa[ya++]=Lo,pa[ya++]=Iu,Iu=e,Lo=n}function Mg(e,n,a){In[Cn++]=_i,In[Cn++]=vi,In[Cn++]=pr,pr=e;var o=_i;e=vi;var h=32-ue(o)-1;o&=~(1<<h),a+=1;var f=32-ue(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,_i=1<<32-ue(n)+h|a<<h|o,vi=f+e}else _i=1<<f|a<<h|o,vi=e}function Qh(e){e.return!==null&&(Pi(e,1),Mg(e,1,0))}function Kh(e){for(;e===Iu;)Iu=pa[--ya],pa[ya]=null,Lo=pa[--ya],pa[ya]=null;for(;e===pr;)pr=In[--Cn],In[Cn]=null,vi=In[--Cn],In[Cn]=null,_i=In[--Cn],In[Cn]=null}function Ug(e,n){In[Cn++]=_i,In[Cn++]=vi,In[Cn++]=pr,_i=n.id,vi=n.overflow,pr=e}var ze=null,Wt=null,Ot=!1,yr=null,Dn=!1,Yh=Error(r(519));function _r(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(Rn(n,e)),Yh}function kg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[pe]=e,n[Me]=o,a){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(a=0;a<sl.length;a++)wt(sl[a],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),ur(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||Zy(n.textContent,a)?(o.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),o.onScroll!=null&&wt("scroll",n),o.onScrollEnd!=null&&wt("scrollend",n),o.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||_r(e,!0)}function Lg(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:ze=ze.return}}function _a(e){if(e!==ze)return!1;if(!Ot)return Lg(e),Ot=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||dd(e.type,e.memoizedProps)),a=!a),a&&Wt&&_r(e),Lg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Wt=o_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Wt=o_(e)}else n===27?(n=Wt,Vr(e.type)?(e=_d,_d=null,Wt=e):Wt=n):Wt=ze?On(e.stateNode.nextSibling):null;return!0}function Ts(){Wt=ze=null,Ot=!1}function Xh(){var e=yr;return e!==null&&(an===null?an=e:an.push.apply(an,e),yr=null),e}function Po(e){yr===null?yr=[e]:yr.push(e)}var $h=O(null),As=null,xi=null;function vr(e,n,a){et($h,n._currentValue),n._currentValue=a}function zi(e){e._currentValue=$h.current,K($h)}function Jh(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function Zh(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Jh(f.return,a,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),Jh(p,a,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function va(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=h.type;fn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}h=h.return}e!==null&&Zh(n,e,a,o),n.flags|=262144}function Cu(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ss(e){As=e,xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Pg(As,e)}function Du(e,n){return As===null&&Ss(e),Pg(e,n)}function Pg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},xi===null){if(e===null)throw Error(r(308));xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else xi=xi.next=n;return a}var lA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},uA=s.unstable_scheduleCallback,cA=s.unstable_NormalPriority,ve={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new lA,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&uA(cA,function(){e.controller.abort()})}var zo=null,tf=0,Ea=0,Ta=null;function hA(e,n){if(zo===null){var a=zo=[];tf=0,Ea=rd(),Ta={status:"pending",value:void 0,then:function(o){a.push(o)}}}return tf++,n.then(xg,xg),n}function xg(){if(--tf===0&&zo!==null){Ta!==null&&(Ta.status="fulfilled");var e=zo;zo=null,Ea=0,Ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function fA(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var zg=G.S;G.S=function(e,n){Ay=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&hA(e,n),zg!==null&&zg(e,n)};var bs=O(null);function ef(){var e=bs.current;return e!==null?e:$t.pooledCache}function Nu(e,n){n===null?et(bs,bs.current):et(bs,n.pool)}function Bg(){var e=ef();return e===null?null:{parent:ve._currentValue,pool:e}}var Aa=Error(r(460)),nf=Error(r(474)),Ou=Error(r(542)),Vu={then:function(){}};function qg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(qn,qn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gg(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gg(e),e}throw Rs=n,Aa}}function ws(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Rs=a,Aa):a}}var Rs=null;function Hg(){if(Rs===null)throw Error(r(459));var e=Rs;return Rs=null,e}function Gg(e){if(e===Aa||e===Ou)throw Error(r(483))}var Sa=null,Bo=0;function Mu(e){var n=Bo;return Bo+=1,Sa===null&&(Sa=[]),jg(Sa,e,n)}function qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===V?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Fg(e){function n(U,D){if(e){var P=U.deletions;P===null?(U.deletions=[D],U.flags|=16):P.push(D)}}function a(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=Li(U,D),U.index=0,U.sibling=null,U}function f(U,D,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<D?(U.flags|=67108866,D):P):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function p(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,P,F){return D===null||D.tag!==6?(D=Gh(P,U.mode,F),D.return=U,D):(D=h(D,P),D.return=U,D)}function R(U,D,P,F){var ot=P.type;return ot===W?H(U,D,P.props.children,F,P.key):D!==null&&(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&ws(ot)===D.type)?(D=h(D,P.props),qo(D,P),D.return=U,D):(D=Ru(P.type,P.key,P.props,null,U.mode,F),qo(D,P),D.return=U,D)}function x(U,D,P,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Fh(P,U.mode,F),D.return=U,D):(D=h(D,P.children||[]),D.return=U,D)}function H(U,D,P,F,ot){return D===null||D.tag!==7?(D=Es(P,U.mode,F,ot),D.return=U,D):(D=h(D,P),D.return=U,D)}function Q(U,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Gh(""+D,U.mode,P),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case j:return P=Ru(D.type,D.key,D.props,null,U.mode,P),qo(P,D),P.return=U,P;case $:return D=Fh(D,U.mode,P),D.return=U,D;case b:return D=ws(D),Q(U,D,P)}if(Re(D)||k(D))return D=Es(D,U.mode,P,null),D.return=U,D;if(typeof D.then=="function")return Q(U,Mu(D),P);if(D.$$typeof===dt)return Q(U,Du(U,D),P);Uu(U,D)}return null}function z(U,D,P,F){var ot=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ot!==null?null:E(U,D,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case j:return P.key===ot?R(U,D,P,F):null;case $:return P.key===ot?x(U,D,P,F):null;case b:return P=ws(P),z(U,D,P,F)}if(Re(P)||k(P))return ot!==null?null:H(U,D,P,F,null);if(typeof P.then=="function")return z(U,D,Mu(P),F);if(P.$$typeof===dt)return z(U,D,Du(U,P),F);Uu(U,P)}return null}function q(U,D,P,F,ot){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(P)||null,E(D,U,""+F,ot);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case j:return U=U.get(F.key===null?P:F.key)||null,R(D,U,F,ot);case $:return U=U.get(F.key===null?P:F.key)||null,x(D,U,F,ot);case b:return F=ws(F),q(U,D,P,F,ot)}if(Re(F)||k(F))return U=U.get(P)||null,H(D,U,F,ot,null);if(typeof F.then=="function")return q(U,D,P,Mu(F),ot);if(F.$$typeof===dt)return q(U,D,P,Du(D,F),ot);Uu(D,F)}return null}function st(U,D,P,F){for(var ot=null,Lt=null,at=D,St=D=0,It=null;at!==null&&St<P.length;St++){at.index>St?(It=at,at=null):It=at.sibling;var Pt=z(U,at,P[St],F);if(Pt===null){at===null&&(at=It);break}e&&at&&Pt.alternate===null&&n(U,at),D=f(Pt,D,St),Lt===null?ot=Pt:Lt.sibling=Pt,Lt=Pt,at=It}if(St===P.length)return a(U,at),Ot&&Pi(U,St),ot;if(at===null){for(;St<P.length;St++)at=Q(U,P[St],F),at!==null&&(D=f(at,D,St),Lt===null?ot=at:Lt.sibling=at,Lt=at);return Ot&&Pi(U,St),ot}for(at=o(at);St<P.length;St++)It=q(at,U,St,P[St],F),It!==null&&(e&&It.alternate!==null&&at.delete(It.key===null?St:It.key),D=f(It,D,St),Lt===null?ot=It:Lt.sibling=It,Lt=It);return e&&at.forEach(function(Pr){return n(U,Pr)}),Ot&&Pi(U,St),ot}function ct(U,D,P,F){if(P==null)throw Error(r(151));for(var ot=null,Lt=null,at=D,St=D=0,It=null,Pt=P.next();at!==null&&!Pt.done;St++,Pt=P.next()){at.index>St?(It=at,at=null):It=at.sibling;var Pr=z(U,at,Pt.value,F);if(Pr===null){at===null&&(at=It);break}e&&at&&Pr.alternate===null&&n(U,at),D=f(Pr,D,St),Lt===null?ot=Pr:Lt.sibling=Pr,Lt=Pr,at=It}if(Pt.done)return a(U,at),Ot&&Pi(U,St),ot;if(at===null){for(;!Pt.done;St++,Pt=P.next())Pt=Q(U,Pt.value,F),Pt!==null&&(D=f(Pt,D,St),Lt===null?ot=Pt:Lt.sibling=Pt,Lt=Pt);return Ot&&Pi(U,St),ot}for(at=o(at);!Pt.done;St++,Pt=P.next())Pt=q(at,U,St,Pt.value,F),Pt!==null&&(e&&Pt.alternate!==null&&at.delete(Pt.key===null?St:Pt.key),D=f(Pt,D,St),Lt===null?ot=Pt:Lt.sibling=Pt,Lt=Pt);return e&&at.forEach(function(SS){return n(U,SS)}),Ot&&Pi(U,St),ot}function Xt(U,D,P,F){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case j:t:{for(var ot=P.key;D!==null;){if(D.key===ot){if(ot=P.type,ot===W){if(D.tag===7){a(U,D.sibling),F=h(D,P.props.children),F.return=U,U=F;break t}}else if(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&ws(ot)===D.type){a(U,D.sibling),F=h(D,P.props),qo(F,P),F.return=U,U=F;break t}a(U,D);break}else n(U,D);D=D.sibling}P.type===W?(F=Es(P.props.children,U.mode,F,P.key),F.return=U,U=F):(F=Ru(P.type,P.key,P.props,null,U.mode,F),qo(F,P),F.return=U,U=F)}return p(U);case $:t:{for(ot=P.key;D!==null;){if(D.key===ot)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(U,D.sibling),F=h(D,P.children||[]),F.return=U,U=F;break t}else{a(U,D);break}else n(U,D);D=D.sibling}F=Fh(P,U.mode,F),F.return=U,U=F}return p(U);case b:return P=ws(P),Xt(U,D,P,F)}if(Re(P))return st(U,D,P,F);if(k(P)){if(ot=k(P),typeof ot!="function")throw Error(r(150));return P=ot.call(P),ct(U,D,P,F)}if(typeof P.then=="function")return Xt(U,D,Mu(P),F);if(P.$$typeof===dt)return Xt(U,D,Du(U,P),F);Uu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(U,D.sibling),F=h(D,P),F.return=U,U=F):(a(U,D),F=Gh(P,U.mode,F),F.return=U,U=F),p(U)):a(U,D)}return function(U,D,P,F){try{Bo=0;var ot=Xt(U,D,P,F);return Sa=null,ot}catch(at){if(at===Aa||at===Ou)throw at;var Lt=dn(29,at,null,U.mode);return Lt.lanes=F,Lt.return=U,Lt}finally{}}}var Is=Fg(!0),Qg=Fg(!1),Er=!1;function rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Tr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ar(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(zt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=wu(e),Dg(e,null,a),n}return bu(e,o,n,a),wu(e)}function jo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,go(e,a)}}function af(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var of=!1;function Ho(){if(of){var e=Ta;if(e!==null)throw e}}function Go(e,n,a,o){of=!1;var h=e.updateQueue;Er=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,x=R.next;R.next=null,p===null?f=x:p.next=x,p=R;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==p&&(E===null?H.firstBaseUpdate=x:E.next=x,H.lastBaseUpdate=R))}if(f!==null){var Q=h.baseState;p=0,H=x=R=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Rt&z)===z:(o&z)===z){z!==0&&z===Ea&&(of=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,ct=E;z=n;var Xt=a;switch(ct.tag){case 1:if(st=ct.payload,typeof st=="function"){Q=st.call(Xt,Q,z);break t}Q=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ct.payload,z=typeof st=="function"?st.call(Xt,Q,z):st,z==null)break t;Q=S({},Q,z);break t;case 2:Er=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(x=H=q,R=Q):H=H.next=q,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=x,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Ir|=p,e.lanes=p,e.memoizedState=Q}}function Kg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Yg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Kg(a[e],n)}var ba=O(null),ku=O(0);function Xg(e,n){e=Yi,et(ku,e),et(ba,n),Yi=e|n.baseLanes}function lf(){et(ku,Yi),et(ba,ba.current)}function uf(){Yi=ku.current,K(ba),K(ku)}var mn=O(null),Nn=null;function Sr(e){var n=e.alternate;et(he,he.current&1),et(mn,e),Nn===null&&(n===null||ba.current!==null||n.memoizedState!==null)&&(Nn=e)}function cf(e){et(he,he.current),et(mn,e),Nn===null&&(Nn=e)}function $g(e){e.tag===22?(et(he,he.current),et(mn,e),Nn===null&&(Nn=e)):br()}function br(){et(he,he.current),et(mn,mn.current)}function gn(e){K(mn),Nn===e&&(Nn=null),K(he)}var he=O(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||pd(a)||yd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bi=0,Tt=null,Kt=null,Ee=null,Pu=!1,wa=!1,Cs=!1,xu=0,Fo=0,Ra=null,dA=0;function oe(){throw Error(r(321))}function hf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!fn(e[a],n[a]))return!1;return!0}function ff(e,n,a,o,h,f){return Bi=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Mp:If,Cs=!1,f=a(o,h),Cs=!1,wa&&(f=Zg(n,a,o,h)),Jg(e),f}function Jg(e){G.H=Yo;var n=Kt!==null&&Kt.next!==null;if(Bi=0,Ee=Kt=Tt=null,Pu=!1,Fo=0,Ra=null,n)throw Error(r(300));e===null||Te||(e=e.dependencies,e!==null&&Cu(e)&&(Te=!0))}function Zg(e,n,a,o){Tt=e;var h=0;do{if(wa&&(Ra=null),Fo=0,wa=!1,25<=h)throw Error(r(301));if(h+=1,Ee=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Up,f=n(a,o)}while(wa);return f}function mA(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Qo(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(Tt.flags|=1024),n}function df(){var e=xu!==0;return xu=0,e}function mf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function gf(e){if(Pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pu=!1}Bi=0,Ee=Kt=Tt=null,wa=!1,Fo=xu=0,Ra=null}function We(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Tt.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function fe(){if(Kt===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=Ee===null?Tt.memoizedState:Ee.next;if(n!==null)Ee=n,Kt=e;else{if(e===null)throw Tt.alternate===null?Error(r(467)):Error(r(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Ee===null?Tt.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(e){var n=Fo;return Fo+=1,Ra===null&&(Ra=[]),e=jg(Ra,e,n),n=Tt,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Mp:If),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qo(e);if(e.$$typeof===dt)return Be(e)}throw Error(r(438,String(e)))}function pf(e){var n=null,a=Tt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Tt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=zu(),Tt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=M;return n.index++,a}function qi(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=fe();return yf(n,Kt,e)}function yf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,R=null,x=n,H=!1;do{var Q=x.lane&-536870913;if(Q!==x.lane?(Rt&Q)===Q:(Bi&Q)===Q){var z=x.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),Q===Ea&&(H=!0);else if((Bi&z)===z){x=x.next,z===Ea&&(H=!0);continue}else Q={lane:0,revertLane:x.revertLane,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},R===null?(E=R=Q,p=f):R=R.next=Q,Tt.lanes|=z,Ir|=z;Q=x.action,Cs&&a(f,Q),f=x.hasEagerState?x.eagerState:a(f,Q)}else z={lane:Q,revertLane:x.revertLane,gesture:x.gesture,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},R===null?(E=R=z,p=f):R=R.next=z,Tt.lanes|=Q,Ir|=Q;x=x.next}while(x!==null&&x!==n);if(R===null?p=f:R.next=E,!fn(f,e.memoizedState)&&(Te=!0,H&&(a=Ta,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function _f(e){var n=fe(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);fn(f,n.memoizedState)||(Te=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Wg(e,n,a){var o=Tt,h=fe(),f=Ot;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!fn((Kt||h).memoizedState,a);if(p&&(h.memoizedState=a,Te=!0),h=h.queue,Tf(np.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ee!==null&&Ee.memoizedState.tag&1){if(o.flags|=2048,Ia(9,{destroy:void 0},ep.bind(null,o,h,a,n),null),$t===null)throw Error(r(349));f||(Bi&127)!==0||tp(o,n,a)}return a}function tp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Tt.updateQueue,n===null?(n=zu(),Tt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function ep(e,n,a,o){n.value=a,n.getSnapshot=o,ip(n)&&rp(e)}function np(e,n,a){return a(function(){ip(n)&&rp(e)})}function ip(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!fn(e,a)}catch{return!0}}function rp(e){var n=vs(e,2);n!==null&&on(n,e,2)}function vf(e){var n=We();if(typeof e=="function"){var a=e;if(e=a(),Cs){En(!0);try{a()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},n}function sp(e,n,a,o){return e.baseState=a,yf(e,Kt,typeof o=="function"?o:qi)}function gA(e,n,a,o,h){if(Gu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,ap(n,f)):(f.next=a.next,n.pending=a.next=f)}}function ap(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=a(h,o),R=G.S;R!==null&&R(p,E),op(e,n,E)}catch(x){Ef(e,n,x)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=a(h,o),op(e,n,f)}catch(x){Ef(e,n,x)}}function op(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){lp(e,n,o)},function(o){return Ef(e,n,o)}):lp(e,n,a)}function lp(e,n,a){n.status="fulfilled",n.value=a,up(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,ap(e,a)))}function Ef(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,up(n),n=n.next;while(n!==o)}e.action=null}function up(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function cp(e,n){return n}function hp(e,n){if(Ot){var a=$t.formState;if(a!==null){t:{var o=Tt;if(Ot){if(Wt){e:{for(var h=Wt,f=Dn;h.nodeType!==8;){if(!f){h=null;break e}if(h=On(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Wt=On(h.nextSibling),o=h.data==="F!";break t}}_r(o)}o=!1}o&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cp,lastRenderedState:n},a.queue=o,a=Np.bind(null,Tt,o),o.dispatch=a,o=vf(!1),f=Rf.bind(null,Tt,!1,o.queue),o=We(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=gA.bind(null,Tt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function fp(e){var n=fe();return dp(n,Kt,e)}function dp(e,n,a){if(n=yf(e,n,cp)[0],e=qu(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Qo(n)}catch(p){throw p===Aa?Ou:p}else o=n;n=fe();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Tt.flags|=2048,Ia(9,{destroy:void 0},pA.bind(null,h,a),null)),[o,f,e]}function pA(e,n){e.action=n}function mp(e){var n=fe(),a=Kt;if(a!==null)return dp(n,a,e);fe(),n=n.memoizedState,a=fe();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Ia(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=zu(),Tt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function gp(){return fe().memoizedState}function ju(e,n,a,o){var h=We();Tt.flags|=e,h.memoizedState=Ia(1|n,{destroy:void 0},a,o===void 0?null:o)}function Hu(e,n,a,o){var h=fe();o=o===void 0?null:o;var f=h.memoizedState.inst;Kt!==null&&o!==null&&hf(o,Kt.memoizedState.deps)?h.memoizedState=Ia(n,f,a,o):(Tt.flags|=e,h.memoizedState=Ia(1|n,f,a,o))}function pp(e,n){ju(8390656,8,e,n)}function Tf(e,n){Hu(2048,8,e,n)}function yA(e){Tt.flags|=4;var n=Tt.updateQueue;if(n===null)n=zu(),Tt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function yp(e){var n=fe().memoizedState;return yA({ref:n,nextImpl:e}),function(){if((zt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function _p(e,n){return Hu(4,2,e,n)}function vp(e,n){return Hu(4,4,e,n)}function Ep(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Tp(e,n,a){a=a!=null?a.concat([e]):null,Hu(4,4,Ep.bind(null,n,e),a)}function Af(){}function Ap(e,n){var a=fe();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&hf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Sp(e,n){var a=fe();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&hf(n,o[1]))return o[0];if(o=e(),Cs){En(!0);try{e()}finally{En(!1)}}return a.memoizedState=[o,n],o}function Sf(e,n,a){return a===void 0||(Bi&1073741824)!==0&&(Rt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=by(),Tt.lanes|=e,Ir|=e,a)}function bp(e,n,a,o){return fn(a,n)?a:ba.current!==null?(e=Sf(e,a,o),fn(e,n)||(Te=!0),e):(Bi&42)===0||(Bi&1073741824)!==0&&(Rt&261930)===0?(Te=!0,e.memoizedState=a):(e=by(),Tt.lanes|=e,Ir|=e,n)}function wp(e,n,a,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,Rf(e,!1,n,a);try{var R=h(),x=G.S;if(x!==null&&x(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=fA(R,o);Ko(e,n,H,_n(e))}else Ko(e,n,o,_n(e))}catch(Q){Ko(e,n,{then:function(){},status:"rejected",reason:Q},_n())}finally{tt.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function _A(){}function bf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Rp(e).queue;wp(e,h,n,ut,a===null?_A:function(){return Ip(e),a(o)})}function Rp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:ut},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ip(e){var n=Rp(e);n.next===null&&(n=e.alternate.memoizedState),Ko(e,n.next.queue,{},_n())}function wf(){return Be(cl)}function Cp(){return fe().memoizedState}function Dp(){return fe().memoizedState}function vA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=_n();e=Tr(a);var o=Ar(n,e,a);o!==null&&(on(o,n,a),jo(o,n,a)),n={cache:Wh()},e.payload=n;return}n=n.return}}function EA(e,n,a){var o=_n();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Gu(e)?Op(n,a):(a=jh(e,n,a,o),a!==null&&(on(a,e,o),Vp(a,n,o)))}function Np(e,n,a){var o=_n();Ko(e,n,a,o)}function Ko(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Op(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,a);if(h.hasEagerState=!0,h.eagerState=E,fn(E,p))return bu(e,n,h,0),$t===null&&Su(),!1}catch{}finally{}if(a=jh(e,n,h,o),a!==null)return on(a,e,o),Vp(a,n,o),!0}return!1}function Rf(e,n,a,o){if(o={lane:2,revertLane:rd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(r(479))}else n=jh(e,a,o,2),n!==null&&on(n,e,2)}function Gu(e){var n=e.alternate;return e===Tt||n!==null&&n===Tt}function Op(e,n){wa=Pu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Vp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,go(e,a)}}var Yo={readContext:Be,use:Bu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe};Yo.useEffectEvent=oe;var Mp={readContext:Be,use:Bu,useCallback:function(e,n){return We().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:pp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,ju(4194308,4,Ep.bind(null,n,e),a)},useLayoutEffect:function(e,n){return ju(4194308,4,e,n)},useInsertionEffect:function(e,n){ju(4,2,e,n)},useMemo:function(e,n){var a=We();n=n===void 0?null:n;var o=e();if(Cs){En(!0);try{e()}finally{En(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=We();if(a!==void 0){var h=a(n);if(Cs){En(!0);try{a(n)}finally{En(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=EA.bind(null,Tt,e),[o.memoizedState,e]},useRef:function(e){var n=We();return e={current:e},n.memoizedState=e},useState:function(e){e=vf(e);var n=e.queue,a=Np.bind(null,Tt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Af,useDeferredValue:function(e,n){var a=We();return Sf(a,e,n)},useTransition:function(){var e=vf(!1);return e=wp.bind(null,Tt,e.queue,!0,!1),We().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Tt,h=We();if(Ot){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),$t===null)throw Error(r(349));(Rt&127)!==0||tp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,pp(np.bind(null,o,f,e),[e]),o.flags|=2048,Ia(9,{destroy:void 0},ep.bind(null,o,f,a,n),null),a},useId:function(){var e=We(),n=$t.identifierPrefix;if(Ot){var a=vi,o=_i;a=(o&~(1<<32-ue(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=xu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=dA++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wf,useFormState:hp,useActionState:hp,useOptimistic:function(e){var n=We();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Rf.bind(null,Tt,!0,a),a.dispatch=n,[e,n]},useMemoCache:pf,useCacheRefresh:function(){return We().memoizedState=vA.bind(null,Tt)},useEffectEvent:function(e){var n=We(),a={impl:e};return n.memoizedState=a,function(){if((zt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},If={readContext:Be,use:Bu,useCallback:Ap,useContext:Be,useEffect:Tf,useImperativeHandle:Tp,useInsertionEffect:_p,useLayoutEffect:vp,useMemo:Sp,useReducer:qu,useRef:gp,useState:function(){return qu(qi)},useDebugValue:Af,useDeferredValue:function(e,n){var a=fe();return bp(a,Kt.memoizedState,e,n)},useTransition:function(){var e=qu(qi)[0],n=fe().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:Wg,useId:Cp,useHostTransitionStatus:wf,useFormState:fp,useActionState:fp,useOptimistic:function(e,n){var a=fe();return sp(a,Kt,e,n)},useMemoCache:pf,useCacheRefresh:Dp};If.useEffectEvent=yp;var Up={readContext:Be,use:Bu,useCallback:Ap,useContext:Be,useEffect:Tf,useImperativeHandle:Tp,useInsertionEffect:_p,useLayoutEffect:vp,useMemo:Sp,useReducer:_f,useRef:gp,useState:function(){return _f(qi)},useDebugValue:Af,useDeferredValue:function(e,n){var a=fe();return Kt===null?Sf(a,e,n):bp(a,Kt.memoizedState,e,n)},useTransition:function(){var e=_f(qi)[0],n=fe().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:Wg,useId:Cp,useHostTransitionStatus:wf,useFormState:mp,useActionState:mp,useOptimistic:function(e,n){var a=fe();return Kt!==null?sp(a,Kt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:pf,useCacheRefresh:Dp};Up.useEffectEvent=yp;function Cf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Df={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=_n(),h=Tr(o);h.payload=n,a!=null&&(h.callback=a),n=Ar(e,h,o),n!==null&&(on(n,e,o),jo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=_n(),h=Tr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ar(e,h,o),n!==null&&(on(n,e,o),jo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=_n(),o=Tr(a);o.tag=2,n!=null&&(o.callback=n),n=Ar(e,o,a),n!==null&&(on(n,e,a),jo(n,e,a))}};function kp(e,n,a,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Uo(a,o)||!Uo(h,f):!0}function Lp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Df.enqueueReplaceState(n,n.state,null)}function Ds(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Pp(e){Au(e)}function xp(e){console.error(e)}function zp(e){Au(e)}function Fu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Bp(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(e,n,a){return a=Tr(a),a.tag=3,a.payload={element:null},a.callback=function(){Fu(e,n)},a}function qp(e){return e=Tr(e),e.tag=3,e}function jp(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Bp(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Bp(n,a,o),typeof h!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function TA(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&va(n,a,h,!0),a=mn.current,a!==null){switch(a.tag){case 31:case 13:return Nn===null?ic():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Vu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ed(e,o,h)),!1;case 22:return a.flags|=65536,o===Vu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ed(e,o,h)),!1}throw Error(r(435,a.tag))}return ed(e,o,h),ic(),!1}if(Ot)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Yh&&(e=Error(r(422),{cause:o}),Po(Rn(e,a)))):(o!==Yh&&(n=Error(r(423),{cause:o}),Po(Rn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Rn(o,a),h=Nf(e.stateNode,o,h),af(e,h),le!==4&&(le=2)),!1;var f=Error(r(520),{cause:o});if(f=Rn(f,a),nl===null?nl=[f]:nl.push(f),le!==4&&(le=2),n===null)return!0;o=Rn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Nf(a.stateNode,o,e),af(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Cr===null||!Cr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=qp(h),jp(h,e,a,o),af(a,h),!1}a=a.return}while(a!==null);return!1}var Of=Error(r(461)),Te=!1;function qe(e,n,a,o){n.child=e===null?Qg(n,null,a,o):Is(n,e.child,a,o)}function Hp(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Ss(n),o=ff(e,n,a,p,f,h),E=df(),e!==null&&!Te?(mf(e,n,h),ji(e,n,h)):(Ot&&E&&Qh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Gp(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Fp(e,n,f,o,h)):(e=Ru(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!zf(e,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Uo,a(p,o)&&e.ref===n.ref)return ji(e,n,h)}return n.flags|=1,e=Li(f,o),e.ref=n.ref,e.return=n,n.child=e}function Fp(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Uo(f,o)&&e.ref===n.ref)if(Te=!1,n.pendingProps=o=f,zf(e,h))(e.flags&131072)!==0&&(Te=!0);else return n.lanes=e.lanes,ji(e,n,h)}return Vf(e,n,a,o,h)}function Qp(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Kp(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?Xg(n,f):lf(),$g(n);else return o=n.lanes=536870912,Kp(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Nu(n,f.cachePool),Xg(n,f),br(),n.memoizedState=null):(e!==null&&Nu(n,null),lf(),br());return qe(e,n,h,a),n.child}function Xo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Kp(e,n,a,o,h){var f=ef();return f=f===null?null:{parent:ve._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Nu(n,null),lf(),$g(n),e!==null&&va(e,n,o,!0),n.childLanes=h,null}function Qu(e,n){return n=Yu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Yp(e,n,a){return Is(n,e.child,null,a),e=Qu(n,n.pendingProps),e.flags|=2,gn(n),n.memoizedState=null,e}function AA(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ot){if(o.mode==="hidden")return e=Qu(n,o),n.lanes=536870912,Xo(null,e);if(cf(n),(e=Wt)?(e=a_(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:pr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Og(e),a.return=n,n.child=a,ze=n,Wt=null)):e=null,e===null)throw _r(n);return n.lanes=536870912,null}return Qu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=Yp(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Te||va(e,n,a,!1),h=(a&e.childLanes)!==0,Te||h){if(o=$t,o!==null&&(p=po(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,vs(e,p),on(o,e,p),Of;ic(),n=Yp(e,n,a)}else e=f.treeContext,Wt=On(p.nextSibling),ze=n,Ot=!0,yr=null,Dn=!1,e!==null&&Ug(n,e),n=Qu(n,o),n.flags|=4096;return n}return e=Li(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ku(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Vf(e,n,a,o,h){return Ss(n),a=ff(e,n,a,o,void 0,h),o=df(),e!==null&&!Te?(mf(e,n,h),ji(e,n,h)):(Ot&&o&&Qh(n),n.flags|=1,qe(e,n,a,h),n.child)}function Xp(e,n,a,o,h,f){return Ss(n),n.updateQueue=null,a=Zg(n,o,a,h),Jg(e),o=df(),e!==null&&!Te?(mf(e,n,f),ji(e,n,f)):(Ot&&o&&Qh(n),n.flags|=1,qe(e,n,a,f),n.child)}function $p(e,n,a,o,h){if(Ss(n),n.stateNode===null){var f=ga,p=a.contextType;typeof p=="object"&&p!==null&&(f=Be(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},rf(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?Be(p):ga,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Cf(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Df.enqueueReplaceState(f,f.state,null),Go(n,o,f,h),Ho(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Ds(a,E);f.props=R;var x=f.context,H=a.contextType;p=ga,typeof H=="object"&&H!==null&&(p=Be(H));var Q=a.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||x!==p)&&Lp(n,f,o,p),Er=!1;var z=n.memoizedState;f.state=z,Go(n,o,f,h),Ho(),x=n.memoizedState,E||z!==x||Er?(typeof Q=="function"&&(Cf(n,a,Q,o),x=n.memoizedState),(R=Er||kp(n,a,R,o,z,x,p))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=x),f.props=o,f.state=x,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,sf(e,n),p=n.memoizedProps,H=Ds(a,p),f.props=H,Q=n.pendingProps,z=f.context,x=a.contextType,R=ga,typeof x=="object"&&x!==null&&(R=Be(x)),E=a.getDerivedStateFromProps,(x=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Q||z!==R)&&Lp(n,f,o,R),Er=!1,z=n.memoizedState,f.state=z,Go(n,o,f,h),Ho();var q=n.memoizedState;p!==Q||z!==q||Er||e!==null&&e.dependencies!==null&&Cu(e.dependencies)?(typeof E=="function"&&(Cf(n,a,E,o),q=n.memoizedState),(H=Er||kp(n,a,H,o,z,q,R)||e!==null&&e.dependencies!==null&&Cu(e.dependencies))?(x||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=H):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Is(n,e.child,null,h),n.child=Is(n,null,a,h)):qe(e,n,a,h),n.memoizedState=f.state,e=n.child):e=ji(e,n,h),e}function Jp(e,n,a,o){return Ts(),n.flags|=256,qe(e,n,a,o),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(e){return{baseLanes:e,cachePool:Bg()}}function kf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=yn),e}function Zp(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(he.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ot){if(h?Sr(n):br(),(e=Wt)?(e=a_(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:pr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Og(e),a.return=n,n.child=a,ze=n,Wt=null)):e=null,e===null)throw _r(n);return yd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(br(),h=n.mode,E=Yu({mode:"hidden",children:E},h),o=Es(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Uf(a),o.childLanes=kf(e,p,a),n.memoizedState=Mf,Xo(null,o)):(Sr(n),Lf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Sr(n),n.flags&=-257,n=Pf(e,n,a)):n.memoizedState!==null?(br(),n.child=e.child,n.flags|=128,n=null):(br(),E=o.fallback,h=n.mode,o=Yu({mode:"visible",children:o.children},h),E=Es(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Is(n,e.child,null,a),o=n.child,o.memoizedState=Uf(a),o.childLanes=kf(e,p,a),n.memoizedState=Mf,n=Xo(null,o));else if(Sr(n),yd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var x=p.dgst;p=x,o=Error(r(419)),o.stack="",o.digest=p,Po({value:o,source:null,stack:null}),n=Pf(e,n,a)}else if(Te||va(e,n,a,!1),p=(a&e.childLanes)!==0,Te||p){if(p=$t,p!==null&&(o=po(p,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,vs(e,o),on(p,e,o),Of;pd(E)||ic(),n=Pf(e,n,a)}else pd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,Wt=On(E.nextSibling),ze=n,Ot=!0,yr=null,Dn=!1,e!==null&&Ug(n,e),n=Lf(n,o.children),n.flags|=4096);return n}return h?(br(),E=o.fallback,h=n.mode,R=e.child,x=R.sibling,o=Li(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,x!==null?E=Li(x,E):(E=Es(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Xo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Uf(a):(h=E.cachePool,h!==null?(R=ve._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Bg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=kf(e,p,a),n.memoizedState=Mf,Xo(e.child,o)):(Sr(n),a=e.child,e=a.sibling,a=Li(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function Lf(e,n){return n=Yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yu(e,n){return e=dn(22,e,null,n),e.lanes=0,e}function Pf(e,n,a){return Is(n,e.child,null,a),e=Lf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Wp(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Jh(e.return,n,a)}function xf(e,n,a,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function ty(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=he.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,et(he,p),qe(e,n,o,a),o=Ot?Lo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wp(e,a,n);else if(e.tag===19)Wp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Lu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),xf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}xf(n,!0,a,null,f,o);break;case"together":xf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ji(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ir|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(va(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Li(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Li(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function zf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Cu(e)))}function SA(e,n,a){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),vr(n,ve,e.memoizedState.cache),Ts();break;case 27:case 5:es(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:vr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Sr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Zp(e,n,a):(Sr(n),e=ji(e,n,a),e!==null?e.sibling:null);Sr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(va(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return ty(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(he,he.current),o)break;return null;case 22:return n.lanes=0,Qp(e,n,a,n.pendingProps);case 24:vr(n,ve,e.memoizedState.cache)}return ji(e,n,a)}function ey(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Te=!0;else{if(!zf(e,a)&&(n.flags&128)===0)return Te=!1,SA(e,n,a);Te=(e.flags&131072)!==0}else Te=!1,Ot&&(n.flags&1048576)!==0&&Mg(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=ws(n.elementType),n.type=e,typeof e=="function")Hh(e)?(o=Ds(e,o),n.tag=1,n=$p(null,n,e,o,a)):(n.tag=0,n=Vf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Ft){n.tag=11,n=Hp(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=Gp(null,n,e,o,a);break t}}throw n=ne(e)||e,Error(r(306,n,""))}}return n;case 0:return Vf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Ds(o,n.pendingProps),$p(e,n,o,h,a);case 3:t:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,sf(e,n),Go(n,o,null,a);var p=n.memoizedState;if(o=p.cache,vr(n,ve,o),o!==f.cache&&Zh(n,[ve],a,!0),Ho(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Jp(e,n,o,a);break t}else if(o!==h){h=Rn(Error(r(424)),n),Po(h),n=Jp(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Wt=On(e.firstChild),ze=n,Ot=!0,yr=null,Dn=!0,a=Qg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ts(),o===h){n=ji(e,n,a);break t}qe(e,n,o,a)}n=n.child}return n;case 26:return Ku(e,n),e===null?(a=f_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ot||(a=n.type,e=n.pendingProps,o=cc(At.current).createElement(a),o[pe]=n,o[Me]=e,je(o,a,e),ye(o),n.stateNode=o):n.memoizedState=f_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return es(n),e===null&&Ot&&(o=n.stateNode=u_(n.type,n.pendingProps,At.current),ze=n,Dn=!0,h=Wt,Vr(n.type)?(_d=h,Wt=On(o.firstChild)):Wt=h),qe(e,n,n.pendingProps.children,a),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ot&&((h=o=Wt)&&(o=WA(o,n.type,n.pendingProps,Dn),o!==null?(n.stateNode=o,ze=n,Wt=On(o.firstChild),Dn=!1,h=!0):h=!1),h||_r(n)),es(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,dd(h,f)?o=null:p!==null&&dd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(e,n,mA,null,null,a),cl._currentValue=h),Ku(e,n),qe(e,n,o,a),n.child;case 6:return e===null&&Ot&&((e=a=Wt)&&(a=tS(a,n.pendingProps,Dn),a!==null?(n.stateNode=a,ze=n,Wt=null,e=!0):e=!1),e||_r(n)),null;case 13:return Zp(e,n,a);case 4:return Ie(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Is(n,null,o,a):qe(e,n,o,a),n.child;case 11:return Hp(e,n,n.type,n.pendingProps,a);case 7:return qe(e,n,n.pendingProps,a),n.child;case 8:return qe(e,n,n.pendingProps.children,a),n.child;case 12:return qe(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,vr(n,n.type,o.value),qe(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ss(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,a),n.child;case 14:return Gp(e,n,n.type,n.pendingProps,a);case 15:return Fp(e,n,n.type,n.pendingProps,a);case 19:return ty(e,n,a);case 31:return AA(e,n,a);case 22:return Qp(e,n,a,n.pendingProps);case 24:return Ss(n),o=Be(ve),e===null?(h=ef(),h===null&&(h=$t,f=Wh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},rf(n),vr(n,ve,h)):((e.lanes&a)!==0&&(sf(e,n),Go(n,null,null,a),Ho()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),vr(n,ve,o)):(o=f.cache,vr(n,ve,o),o!==h.cache&&Zh(n,[ve],a,!0))),qe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Hi(e){e.flags|=4}function Bf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Cy())e.flags|=8192;else throw Rs=Vu,nf}else e.flags&=-16777217}function ny(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!y_(n))if(Cy())e.flags|=8192;else throw Rs=Vu,nf}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?eu():536870912,e.lanes|=n,Oa|=n)}function $o(e,n){if(!Ot)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function te(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function bA(e,n,a){var o=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),zi(ve),ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_a(n)?Hi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),te(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Hi(n),f!==null?(te(n),ny(n,f)):(te(n),Bf(n,h,null,o,a))):f?f!==e.memoizedState?(Hi(n),te(n),ny(n,f)):(te(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Hi(n),te(n),Bf(n,h,e,o,a)),null;case 27:if($s(n),a=At.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return te(n),null}e=rt.current,_a(n)?kg(n):(e=u_(h,o,a),n.stateNode=e,Hi(n))}return te(n),null;case 5:if($s(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return te(n),null}if(f=rt.current,_a(n))kg(n);else{var p=cc(At.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[pe]=n,f[Me]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Hi(n)}}return te(n),Bf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=At.current,_a(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[pe]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Zy(e.nodeValue,a)),e||_r(n,!0)}else e=cc(e).createTextNode(o),e[pe]=n,n.stateNode=e}return te(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=_a(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[pe]=n}else Ts(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),e=!1}else a=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return te(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_a(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[pe]=n}else Ts(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else h=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Xu(n,n.updateQueue),te(n),null);case 4:return ie(),e===null&&ld(n.stateNode.containerInfo),te(n),null;case 10:return zi(n.type),te(n),null;case 19:if(K(he),o=n.memoizedState,o===null)return te(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)$o(o,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,$o(o,!1),e=f.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Ng(a,e),a=a.sibling;return et(he,he.current&1|2),Ot&&Pi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Je()>tc&&(n.flags|=128,h=!0,$o(o,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),$o(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ot)return te(n),null}else 2*Je()-o.renderingStartTime>tc&&a!==536870912&&(n.flags|=128,h=!0,$o(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Je(),e.sibling=null,a=he.current,et(he,h?a&1|2:a&1),Ot&&Pi(n,o.treeForkCount),e):(te(n),null);case 22:case 23:return gn(n),uf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),a=n.updateQueue,a!==null&&Xu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&K(bs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),zi(ve),te(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function wA(e,n){switch(Kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return zi(ve),ie(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return $s(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(r(340));Ts()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(gn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ts()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(he),null;case 4:return ie(),null;case 10:return zi(n.type),null;case 22:case 23:return gn(n),uf(),e!==null&&K(bs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return zi(ve),null;case 25:return null;default:return null}}function iy(e,n){switch(Kh(n),n.tag){case 3:zi(ve),ie();break;case 26:case 27:case 5:$s(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:K(he);break;case 10:zi(n.type);break;case 22:case 23:gn(n),uf(),e!==null&&K(bs);break;case 24:zi(ve)}}function Jo(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(E){Gt(n,n.return,E)}}function wr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=a,x=E;try{x()}catch(H){Gt(h,R,H)}}}o=o.next}while(o!==f)}}catch(H){Gt(n,n.return,H)}}function ry(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Yg(n,a)}catch(o){Gt(e,e.return,o)}}}function sy(e,n,a){a.props=Ds(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Gt(e,n,o)}}function Zo(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Gt(e,n,h)}}function Ei(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Gt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Gt(e,n,h)}else a.current=null}function ay(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Gt(e,e.return,h)}}function qf(e,n,a){try{var o=e.stateNode;KA(o,e.type,a,n),o[Me]=n}catch(h){Gt(e,e.return,h)}}function oy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vr(e.type)||e.tag===4}function jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=qn));else if(o!==4&&(o===27&&Vr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Hf(e,n,a),e=e.sibling;e!==null;)Hf(e,n,a),e=e.sibling}function $u(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Vr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for($u(e,n,a),e=e.sibling;e!==null;)$u(e,n,a),e=e.sibling}function ly(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);je(n,o,a),n[pe]=e,n[Me]=a}catch(f){Gt(e,e.return,f)}}var Gi=!1,Ae=!1,Gf=!1,uy=typeof WeakSet=="function"?WeakSet:Set,ke=null;function RA(e,n){if(e=e.containerInfo,hd=yc,e=Tg(e),Lh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,E=-1,R=-1,x=0,H=0,Q=e,z=null;e:for(;;){for(var q;Q!==a||h!==0&&Q.nodeType!==3||(E=p+h),Q!==f||o!==0&&Q.nodeType!==3||(R=p+o),Q.nodeType===3&&(p+=Q.nodeValue.length),(q=Q.firstChild)!==null;)z=Q,Q=q;for(;;){if(Q===e)break e;if(z===a&&++x===h&&(E=p),z===f&&++H===o&&(R=p),(q=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(fd={focusedElem:e,selectionRange:a},yc=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var st=Ds(a.type,h);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ct){Gt(a,a.return,ct)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)gd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}}function cy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(e,a),o&4&&Jo(5,a);break;case 1:if(Qi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){Gt(a,a.return,p)}else{var h=Ds(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Gt(a,a.return,p)}}o&64&&ry(a),o&512&&Zo(a,a.return);break;case 3:if(Qi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Yg(e,n)}catch(p){Gt(a,a.return,p)}}break;case 27:n===null&&o&4&&ly(a);case 26:case 5:Qi(e,a),n===null&&o&4&&ay(a),o&512&&Zo(a,a.return);break;case 12:Qi(e,a);break;case 31:Qi(e,a),o&4&&dy(e,a);break;case 13:Qi(e,a),o&4&&my(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=kA.bind(null,a),eS(e,a))));break;case 22:if(o=a.memoizedState!==null||Gi,!o){n=n!==null&&n.memoizedState!==null||Ae,h=Gi;var f=Ae;Gi=o,(Ae=n)&&!f?Ki(e,a,(a.subtreeFlags&8772)!==0):Qi(e,a),Gi=h,Ae=f}break;case 30:break;default:Qi(e,a)}}function hy(e){var n=e.alternate;n!==null&&(e.alternate=null,hy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ea(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var se=null,nn=!1;function Fi(e,n,a){for(a=a.child;a!==null;)fy(e,n,a),a=a.sibling}function fy(e,n,a){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Pn,a)}catch{}switch(a.tag){case 26:Ae||Ei(a,n),Fi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ae||Ei(a,n);var o=se,h=nn;Vr(a.type)&&(se=a.stateNode,nn=!1),Fi(e,n,a),ol(a.stateNode),se=o,nn=h;break;case 5:Ae||Ei(a,n);case 6:if(o=se,h=nn,se=null,Fi(e,n,a),se=o,nn=h,se!==null)if(nn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(f){Gt(a,n,f)}else try{se.removeChild(a.stateNode)}catch(f){Gt(a,n,f)}break;case 18:se!==null&&(nn?(e=se,r_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),za(e)):r_(se,a.stateNode));break;case 4:o=se,h=nn,se=a.stateNode.containerInfo,nn=!0,Fi(e,n,a),se=o,nn=h;break;case 0:case 11:case 14:case 15:wr(2,a,n),Ae||wr(4,a,n),Fi(e,n,a);break;case 1:Ae||(Ei(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&sy(a,n,o)),Fi(e,n,a);break;case 21:Fi(e,n,a);break;case 22:Ae=(o=Ae)||a.memoizedState!==null,Fi(e,n,a),Ae=o;break;default:Fi(e,n,a)}}function dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{za(e)}catch(a){Gt(n,n.return,a)}}}function my(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{za(e)}catch(a){Gt(n,n.return,a)}}function IA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new uy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new uy),n;default:throw Error(r(435,e.tag))}}function Ju(e,n){var a=IA(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=LA.bind(null,e,o);o.then(h,h)}})}function rn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Vr(E.type)){se=E.stateNode,nn=!1;break t}break;case 5:se=E.stateNode,nn=!1;break t;case 3:case 4:se=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(se===null)throw Error(r(160));fy(f,p,h),se=null,nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)gy(n,e),n=n.sibling}var Kn=null;function gy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(n,e),sn(e),o&4&&(wr(3,e,e.return),Jo(3,e),wr(5,e,e.return));break;case 1:rn(n,e),sn(e),o&512&&(Ae||a===null||Ei(a,a.return)),o&64&&Gi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Kn;if(rn(n,e),sn(e),o&512&&(Ae||a===null||Ei(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ai]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),je(f,o,a),f[pe]=e,ye(f),o=f;break t;case"link":var p=g_("link","href",h).get(o+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),je(f,o,a),h.head.appendChild(f);break;case"meta":if(p=g_("meta","content",h).get(o+(a.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break e}}f=h.createElement(o),je(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[pe]=e,ye(f),o=f}e.stateNode=o}else p_(h,e.type,e.stateNode);else e.stateNode=m_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?p_(h,e.type,e.stateNode):m_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&qf(e,e.memoizedProps,a.memoizedProps)}break;case 27:rn(n,e),sn(e),o&512&&(Ae||a===null||Ei(a,a.return)),a!==null&&o&4&&qf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(rn(n,e),sn(e),o&512&&(Ae||a===null||Ei(a,a.return)),e.flags&32){h=e.stateNode;try{en(h,"")}catch(st){Gt(e,e.return,st)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,qf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Gf=!0);break;case 6:if(rn(n,e),sn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(st){Gt(e,e.return,st)}}break;case 3:if(dc=null,h=Kn,Kn=hc(n.containerInfo),rn(n,e),Kn=h,sn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{za(n.containerInfo)}catch(st){Gt(e,e.return,st)}Gf&&(Gf=!1,py(e));break;case 4:o=Kn,Kn=hc(e.stateNode.containerInfo),rn(n,e),sn(e),Kn=o;break;case 12:rn(n,e),sn(e);break;case 31:rn(n,e),sn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 13:rn(n,e),sn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Wu=Je()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,x=Gi,H=Ae;if(Gi=x||h,Ae=H||R,rn(n,e),Ae=H,Gi=x,sn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||Gi||Ae||Ns(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Gt(R,R.return,st)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(st){Gt(R,R.return,st)}}}else if(n.tag===18){if(a===null){R=n;try{var q=R.stateNode;h?s_(q,!0):s_(R.stateNode,!1)}catch(st){Gt(R,R.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Ju(e,a))));break;case 19:rn(n,e),sn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 30:break;case 21:break;default:rn(n,e),sn(e)}}function sn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(oy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=jf(e);$u(e,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(en(p,""),a.flags&=-33);var E=jf(e);$u(e,E,p);break;case 3:case 4:var R=a.stateNode.containerInfo,x=jf(e);Hf(e,x,R);break;default:throw Error(r(161))}}catch(H){Gt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;py(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)cy(e,n.alternate,n),n=n.sibling}function Ns(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:wr(4,n,n.return),Ns(n);break;case 1:Ei(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&sy(n,n.return,a),Ns(n);break;case 27:ol(n.stateNode);case 26:case 5:Ei(n,n.return),Ns(n);break;case 22:n.memoizedState===null&&Ns(n);break;case 30:Ns(n);break;default:Ns(n)}e=e.sibling}}function Ki(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,a),Jo(4,f);break;case 1:if(Ki(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(x){Gt(o,o.return,x)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Kg(R[h],E)}catch(x){Gt(o,o.return,x)}}a&&p&64&&ry(f),Zo(f,f.return);break;case 27:ly(f);case 26:case 5:Ki(h,f,a),a&&o===null&&p&4&&ay(f),Zo(f,f.return);break;case 12:Ki(h,f,a);break;case 31:Ki(h,f,a),a&&p&4&&dy(h,f);break;case 13:Ki(h,f,a),a&&p&4&&my(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,a),Zo(f,f.return);break;case 30:break;default:Ki(h,f,a)}n=n.sibling}}function Ff(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&xo(a))}function Qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e))}function Yn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yy(e,n,a,o),n=n.sibling}function yy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,a,o),h&2048&&Jo(9,n);break;case 1:Yn(e,n,a,o);break;case 3:Yn(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e)));break;case 12:if(h&2048){Yn(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Gt(n,n.return,R)}}else Yn(e,n,a,o);break;case 31:Yn(e,n,a,o);break;case 13:Yn(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,a,o):Wo(e,n):f._visibility&2?Yn(e,n,a,o):(f._visibility|=2,Ca(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(p,n);break;case 24:Yn(e,n,a,o),h&2048&&Qf(n.alternate,n);break;default:Yn(e,n,a,o)}}function Ca(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=a,R=o,x=p.flags;switch(p.tag){case 0:case 11:case 15:Ca(f,p,E,R,h),Jo(8,p);break;case 23:break;case 22:var H=p.stateNode;p.memoizedState!==null?H._visibility&2?Ca(f,p,E,R,h):Wo(f,p):(H._visibility|=2,Ca(f,p,E,R,h)),h&&x&2048&&Ff(p.alternate,p);break;case 24:Ca(f,p,E,R,h),h&&x&2048&&Qf(p.alternate,p);break;default:Ca(f,p,E,R,h)}n=n.sibling}}function Wo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:Wo(a,o),h&2048&&Ff(o.alternate,o);break;case 24:Wo(a,o),h&2048&&Qf(o.alternate,o);break;default:Wo(a,o)}n=n.sibling}}var tl=8192;function Da(e,n,a){if(e.subtreeFlags&tl)for(e=e.child;e!==null;)_y(e,n,a),e=e.sibling}function _y(e,n,a){switch(e.tag){case 26:Da(e,n,a),e.flags&tl&&e.memoizedState!==null&&dS(a,Kn,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,a);break;case 3:case 4:var o=Kn;Kn=hc(e.stateNode.containerInfo),Da(e,n,a),Kn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=tl,tl=16777216,Da(e,n,a),tl=o):Da(e,n,a));break;default:Da(e,n,a)}}function vy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function el(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];ke=o,Ty(o,e)}vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ey(e),e=e.sibling}function Ey(e){switch(e.tag){case 0:case 11:case 15:el(e),e.flags&2048&&wr(9,e,e.return);break;case 3:el(e);break;case 12:el(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zu(e)):el(e);break;default:el(e)}}function Zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];ke=o,Ty(o,e)}vy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:wr(8,n,n.return),Zu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Zu(n));break;default:Zu(n)}e=e.sibling}}function Ty(e,n){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:wr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ke=o;else t:for(a=e;ke!==null;){o=ke;var h=o.sibling,f=o.return;if(hy(o),o===a){ke=null;break t}if(h!==null){h.return=f,ke=h;break t}ke=f}}}var CA={getCacheForType:function(e){var n=Be(ve),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Be(ve).controller.signal}},DA=typeof WeakMap=="function"?WeakMap:Map,zt=0,$t=null,bt=null,Rt=0,Ht=0,pn=null,Rr=!1,Na=!1,Kf=!1,Yi=0,le=0,Ir=0,Os=0,Yf=0,yn=0,Oa=0,nl=null,an=null,Xf=!1,Wu=0,Ay=0,tc=1/0,ec=null,Cr=null,De=0,Dr=null,Va=null,Xi=0,$f=0,Jf=null,Sy=null,il=0,Zf=null;function _n(){return(zt&2)!==0&&Rt!==0?Rt&-Rt:G.T!==null?rd():nu()}function by(){if(yn===0)if((Rt&536870912)===0||Ot){var e=rs;rs<<=1,(rs&3932160)===0&&(rs=262144),yn=e}else yn=536870912;return e=mn.current,e!==null&&(e.flags|=32),yn}function on(e,n,a){(e===$t&&(Ht===2||Ht===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),Nr(e,Rt,yn,!1)),ss(e,a),((zt&2)===0||e!==$t)&&(e===$t&&((zt&2)===0&&(Os|=a),le===4&&Nr(e,Rt,yn,!1)),Ti(e))}function wy(e,n,a){if((zt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||xn(e,n),h=o?VA(e,n):td(e,n,!0),f=o;do{if(h===0){Na&&!o&&Nr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!NA(a)){h=td(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=nl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ma(E,p).flags|=256),p=td(E,p,!1),p!==2){if(Kf&&!R){E.errorRecoveryDisabledLanes|=f,Os|=f,h=4;break t}f=an,an=h,f!==null&&(an===null?an=f:an.push.apply(an,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ma(e,0),Nr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Nr(o,n,yn,!Rr);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Wu+300-Je(),10<h)){if(Nr(o,n,yn,!Rr),ii(o,0,!0)!==0)break t;Xi=n,o.timeoutHandle=n_(Ry.bind(null,o,a,an,ec,Xf,n,yn,Os,Oa,Rr,f,"Throttled",-0,0),h);break t}Ry(o,a,an,ec,Xf,n,yn,Os,Oa,Rr,f,null,-0,0)}}break}while(!0);Ti(e)}function Ry(e,n,a,o,h,f,p,E,R,x,H,Q,z,q){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},_y(n,f,Q);var st=(f&62914560)===f?Wu-Je():(f&4194048)===f?Ay-Je():0;if(st=mS(Q,st),st!==null){Xi=f,e.cancelPendingCommit=st(Uy.bind(null,e,n,f,a,o,h,p,E,R,H,Q,null,z,q)),Nr(e,f,p,!x);return}}Uy(e,n,f,a,o,h,p,E,R)}function NA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!fn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Nr(e,n,a,o){n&=~Yf,n&=~Os,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ue(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&as(e,a,n)}function nc(){return(zt&6)===0?(rl(0),!1):!0}function Wf(){if(bt!==null){if(Ht===0)var e=bt.return;else e=bt,xi=As=null,gf(e),Sa=null,Bo=0,e=bt;for(;e!==null;)iy(e.alternate,e),e=e.return;bt=null}}function Ma(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,$A(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xi=0,Wf(),$t=e,bt=a=Li(e.current,null),Rt=n,Ht=0,pn=null,Rr=!1,Na=xn(e,n),Kf=!1,Oa=yn=Yf=Os=Ir=le=0,an=nl=null,Xf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ue(o),f=1<<h;n|=e[h],o&=~f}return Yi=n,Su(),a}function Iy(e,n){Tt=null,G.H=Yo,n===Aa||n===Ou?(n=Hg(),Ht=3):n===nf?(n=Hg(),Ht=4):Ht=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,bt===null&&(le=1,Fu(e,Rn(n,e.current)))}function Cy(){var e=mn.current;return e===null?!0:(Rt&4194048)===Rt?Nn===null:(Rt&62914560)===Rt||(Rt&536870912)!==0?e===Nn:!1}function Dy(){var e=G.H;return G.H=Yo,e===null?Yo:e}function Ny(){var e=G.A;return G.A=CA,e}function ic(){le=4,Rr||(Rt&4194048)!==Rt&&mn.current!==null||(Na=!0),(Ir&134217727)===0&&(Os&134217727)===0||$t===null||Nr($t,Rt,yn,!1)}function td(e,n,a){var o=zt;zt|=2;var h=Dy(),f=Ny();($t!==e||Rt!==n)&&(ec=null,Ma(e,n)),n=!1;var p=le;t:do try{if(Ht!==0&&bt!==null){var E=bt,R=pn;switch(Ht){case 8:Wf(),p=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var x=Ht;if(Ht=0,pn=null,Ua(e,E,R,x),a&&Na){p=0;break t}break;default:x=Ht,Ht=0,pn=null,Ua(e,E,R,x)}}OA(),p=le;break}catch(H){Iy(e,H)}while(!0);return n&&e.shellSuspendCounter++,xi=As=null,zt=o,G.H=h,G.A=f,bt===null&&($t=null,Rt=0,Su()),p}function OA(){for(;bt!==null;)Oy(bt)}function VA(e,n){var a=zt;zt|=2;var o=Dy(),h=Ny();$t!==e||Rt!==n?(ec=null,tc=Je()+500,Ma(e,n)):Na=xn(e,n);t:do try{if(Ht!==0&&bt!==null){n=bt;var f=pn;e:switch(Ht){case 1:Ht=0,pn=null,Ua(e,n,f,1);break;case 2:case 9:if(qg(f)){Ht=0,pn=null,Vy(n);break}n=function(){Ht!==2&&Ht!==9||$t!==e||(Ht=7),Ti(e)},f.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:qg(f)?(Ht=0,pn=null,Vy(n)):(Ht=0,pn=null,Ua(e,n,f,7));break;case 5:var p=null;switch(bt.tag){case 26:p=bt.memoizedState;case 5:case 27:var E=bt;if(p?y_(p):E.stateNode.complete){Ht=0,pn=null;var R=E.sibling;if(R!==null)bt=R;else{var x=E.return;x!==null?(bt=x,rc(x)):bt=null}break e}}Ht=0,pn=null,Ua(e,n,f,5);break;case 6:Ht=0,pn=null,Ua(e,n,f,6);break;case 8:Wf(),le=6;break t;default:throw Error(r(462))}}MA();break}catch(H){Iy(e,H)}while(!0);return xi=As=null,G.H=o,G.A=h,zt=a,bt!==null?0:($t=null,Rt=0,Su(),le)}function MA(){for(;bt!==null&&!Dh();)Oy(bt)}function Oy(e){var n=ey(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,n===null?rc(e):bt=n}function Vy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Xp(a,n,n.pendingProps,n.type,void 0,Rt);break;case 11:n=Xp(a,n,n.pendingProps,n.type.render,n.ref,Rt);break;case 5:gf(n);default:iy(a,n),n=bt=Ng(n,Yi),n=ey(a,n,Yi)}e.memoizedProps=e.pendingProps,n===null?rc(e):bt=n}function Ua(e,n,a,o){xi=As=null,gf(n),Sa=null,Bo=0;var h=n.return;try{if(TA(e,h,n,a,Rt)){le=1,Fu(e,Rn(a,e.current)),bt=null;return}}catch(f){if(h!==null)throw bt=h,f;le=1,Fu(e,Rn(a,e.current)),bt=null;return}n.flags&32768?(Ot||o===1?e=!0:Na||(Rt&536870912)!==0?e=!1:(Rr=e=!0,(o===2||o===9||o===3||o===6)&&(o=mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),My(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){My(n,Rr);return}e=n.return;var a=bA(n.alternate,n,Yi);if(a!==null){bt=a;return}if(n=n.sibling,n!==null){bt=n;return}bt=n=e}while(n!==null);le===0&&(le=5)}function My(e,n){do{var a=wA(e.alternate,e);if(a!==null){a.flags&=32767,bt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){bt=e;return}bt=e=a}while(e!==null);le=6,bt=null}function Uy(e,n,a,o,h,f,p,E,R){e.cancelPendingCommit=null;do sc();while(De!==0);if((zt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=qh,Vh(e,a,f,p,E,R),e===$t&&(bt=$t=null,Rt=0),Va=n,Dr=e,Xi=a,$f=f,Jf=h,Sy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,PA(ar,function(){return zy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=tt.p,tt.p=2,p=zt,zt|=4;try{RA(e,n,a)}finally{zt=p,tt.p=h,G.T=o}}De=1,ky(),Ly(),Py()}}function ky(){if(De===1){De=0;var e=Dr,n=Va,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=tt.p;tt.p=2;var h=zt;zt|=4;try{gy(n,e);var f=fd,p=Tg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Eg(E.ownerDocument.documentElement,E)){if(R!==null&&Lh(E)){var x=R.start,H=R.end;if(H===void 0&&(H=x),"selectionStart"in E)E.selectionStart=x,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var q=z.getSelection(),st=E.textContent.length,ct=Math.min(R.start,st),Xt=R.end===void 0?ct:Math.min(R.end,st);!q.extend&&ct>Xt&&(p=Xt,Xt=ct,ct=p);var U=vg(E,ct),D=vg(E,Xt);if(U&&D&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=Q.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),ct>Xt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}yc=!!hd,fd=hd=null}finally{zt=h,tt.p=o,G.T=a}}e.current=n,De=2}}function Ly(){if(De===2){De=0;var e=Dr,n=Va,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=tt.p;tt.p=2;var h=zt;zt|=4;try{cy(e,n.alternate,n)}finally{zt=h,tt.p=o,G.T=a}}De=3}}function Py(){if(De===4||De===3){De=0,Xl();var e=Dr,n=Va,a=Xi,o=Sy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Va=Dr=null,xy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Cr=null),Vi(a),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=tt.p,tt.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,tt.p=h}}(Xi&3)!==0&&sc(),Ti(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Zf?il++:(il=0,Zf=e):il=0,rl(0)}}function xy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,xo(n)))}function sc(){return ky(),Ly(),Py(),zy()}function zy(){if(De!==5)return!1;var e=Dr,n=$f;$f=0;var a=Vi(Xi),o=G.T,h=tt.p;try{tt.p=32>a?32:a,G.T=null,a=Jf,Jf=null;var f=Dr,p=Xi;if(De=0,Va=Dr=null,Xi=0,(zt&6)!==0)throw Error(r(331));var E=zt;if(zt|=4,Ey(f.current),yy(f,f.current,p,a),zt=E,rl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{tt.p=h,G.T=o,xy(e,n)}}function By(e,n,a){n=Rn(a,n),n=Nf(e.stateNode,n,2),e=Ar(e,n,2),e!==null&&(ss(e,2),Ti(e))}function Gt(e,n,a){if(e.tag===3)By(e,e,a);else for(;n!==null;){if(n.tag===3){By(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cr===null||!Cr.has(o))){e=Rn(a,e),a=qp(2),o=Ar(n,a,2),o!==null&&(jp(a,o,n,e),ss(o,2),Ti(o));break}}n=n.return}}function ed(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new DA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Kf=!0,h.add(a),e=UA.bind(null,e,n,a),n.then(e,e))}function UA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,$t===e&&(Rt&a)===a&&(le===4||le===3&&(Rt&62914560)===Rt&&300>Je()-Wu?(zt&2)===0&&Ma(e,0):Yf|=a,Oa===Rt&&(Oa=0)),Ti(e)}function qy(e,n){n===0&&(n=eu()),e=vs(e,n),e!==null&&(ss(e,n),Ti(e))}function kA(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),qy(e,a)}function LA(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),qy(e,a)}function PA(e,n){return Ce(e,n)}var ac=null,ka=null,nd=!1,oc=!1,id=!1,Or=0;function Ti(e){e!==ka&&e.next===null&&(ka===null?ac=ka=e:ka=ka.next=e),oc=!0,nd||(nd=!0,zA())}function rl(e,n){if(!id&&oc){id=!0;do for(var a=!1,o=ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ue(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Fy(o,f))}else f=Rt,f=ii(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||xn(o,f)||(a=!0,Fy(o,f));o=o.next}while(a);id=!1}}function xA(){jy()}function jy(){oc=nd=!1;var e=0;Or!==0&&XA()&&(e=Or);for(var n=Je(),a=null,o=ac;o!==null;){var h=o.next,f=Hy(o,n);f===0?(o.next=null,a===null?ac=h:a.next=h,h===null&&(ka=a)):(a=o,(e!==0||(f&3)!==0)&&(oc=!0)),o=h}De!==0&&De!==5||rl(e),Or!==0&&(Or=0)}function Hy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-ue(f),E=1<<p,R=h[p];R===-1?((E&a)===0||(E&o)!==0)&&(h[p]=Oh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=$t,a=Rt,a=ii(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Ht===2||Ht===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&sr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||xn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&sr(o),Vi(a)){case 2:case 8:a=mo;break;case 32:a=ar;break;case 268435456:a=$l;break;default:a=ar}return o=Gy.bind(null,e),a=Ce(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&sr(o),e.callbackPriority=2,e.callbackNode=null,2}function Gy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(sc()&&e.callbackNode!==a)return null;var o=Rt;return o=ii(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(wy(e,o,n),Hy(e,Je()),e.callbackNode!=null&&e.callbackNode===a?Gy.bind(null,e):null)}function Fy(e,n){if(sc())return null;wy(e,n,!0)}function zA(){JA(function(){(zt&6)!==0?Ce(fo,xA):jy()})}function rd(){if(Or===0){var e=Ea;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Or=e}return Or}function Qy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function Ky(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function BA(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=Qy((h[Me]||null).action),p=o.submitter;p&&(n=(n=p[Me]||null)?Qy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new mi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Or!==0){var R=p?Ky(h,p):new FormData(h);bf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?Ky(h,p):new FormData(h),bf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var sd=0;sd<Bh.length;sd++){var ad=Bh[sd],qA=ad.toLowerCase(),jA=ad[0].toUpperCase()+ad.slice(1);Qn(qA,"on"+jA)}Qn(bg,"onAnimationEnd"),Qn(wg,"onAnimationIteration"),Qn(Rg,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(rA,"onTransitionRun"),Qn(sA,"onTransitionStart"),Qn(aA,"onTransitionCancel"),Qn(Ig,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function Yy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,x=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=x;try{f(h)}catch(H){Au(H)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,x=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=x;try{f(h)}catch(H){Au(H)}h.currentTarget=null,f=R}}}}function wt(e,n){var a=n[ta];a===void 0&&(a=n[ta]=new Set);var o=e+"__bubble";a.has(o)||(Xy(n,e,2,!1),a.add(o))}function od(e,n,a){var o=0;n&&(o|=4),Xy(a,e,o,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[lc]){e[lc]=!0,yo.forEach(function(a){a!=="selectionchange"&&(HA.has(a)||od(a,!1,e),od(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lc]||(n[lc]=!0,od("selectionchange",!1,n))}}function Xy(e,n,a,o){switch(b_(n)){case 2:var h=yS;break;case 8:h=_S;break;default:h=Sd}a=h.bind(null,n,a,e),h=void 0,!hs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function ud(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=oi(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}E=E.parentNode}}o=o.return}fr(function(){var x=f,H=An(a),Q=[];t:{var z=Cg.get(e);if(z!==void 0){var q=mi,st=e;switch(e){case"keypress":if(ds(a)===0)break t;case"keydown":case"keyup":q=vu;break;case"focusin":st="focus",q=gs;break;case"focusout":st="blur",q=gs;break;case"beforeblur":case"afterblur":q=gs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case bg:case wg:case Rg:q=fu;break;case Ig:q=T;break;case"scroll":case"scrollend":q=Do;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ki;break;case"toggle":case"beforetoggle":q=Et}var ct=(n&4)!==0,Xt=!ct&&(e==="scroll"||e==="scrollend"),U=ct?z!==null?z+"Capture":null:z;ct=[];for(var D=x,P;D!==null;){var F=D;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||U===null||(F=jn(D,U),F!=null&&ct.push(al(D,F,P))),Xt)break;D=D.return}0<ct.length&&(z=new q(z,st,null,a,H),Q.push({event:z,listeners:ct}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&a!==Ro&&(st=a.relatedTarget||a.fromElement)&&(oi(st)||st[si]))break t;if((q||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,q?(st=a.relatedTarget||a.toElement,q=x,st=st?oi(st):null,st!==null&&(Xt=c(st),ct=st.tag,st!==Xt||ct!==5&&ct!==27&&ct!==6)&&(st=null)):(q=null,st=x),q!==st)){if(ct=No,F="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ct=ki,F="onPointerLeave",U="onPointerEnter",D="pointer"),Xt=q==null?z:cn(q),P=st==null?z:cn(st),z=new ct(F,D+"leave",q,a,H),z.target=Xt,z.relatedTarget=P,F=null,oi(H)===x&&(ct=new ct(U,D+"enter",st,a,H),ct.target=P,ct.relatedTarget=Xt,F=ct),Xt=F,q&&st)e:{for(ct=GA,U=q,D=st,P=0,F=U;F;F=ct(F))P++;F=0;for(var ot=D;ot;ot=ct(ot))F++;for(;0<P-F;)U=ct(U),P--;for(;0<F-P;)D=ct(D),F--;for(;P--;){if(U===D||D!==null&&U===D.alternate){ct=U;break e}U=ct(U),D=ct(D)}ct=null}else ct=null;q!==null&&$y(Q,z,q,ct,!1),st!==null&&Xt!==null&&$y(Q,Xt,st,ct,!0)}}t:{if(z=x?cn(x):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Lt=dg;else if(hg(z))if(mg)Lt=eA;else{Lt=W0;var at=Z0}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?x&&ra(x.elementType)&&(Lt=dg):Lt=tA;if(Lt&&(Lt=Lt(e,x))){fg(Q,Lt,a,H);break t}at&&at(e,z,x),e==="focusout"&&x&&z.type==="number"&&x.memoizedProps.value!=null&&So(z,"number",z.value)}switch(at=x?cn(x):window,e){case"focusin":(hg(at)||at.contentEditable==="true")&&(fa=at,Ph=x,ko=null);break;case"focusout":ko=Ph=fa=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,Ag(Q,a,H);break;case"selectionchange":if(iA)break;case"keydown":case"keyup":Ag(Q,a,H)}var St;if(xt)t:{switch(e){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else ha?ps(e,a)&&(It="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(It="onCompositionStart");It&&(yi&&a.locale!=="ko"&&(ha||It!=="onCompositionStart"?It==="onCompositionEnd"&&ha&&(St=Co()):(di=H,Io="value"in di?di.value:di.textContent,ha=!0)),at=uc(x,It),0<at.length&&(It=new pi(It,e,null,a,H),Q.push({event:It,listeners:at}),St?It.data=St:(St=ca(a),St!==null&&(It.data=St)))),(St=bn?Y0(e,a):X0(e,a))&&(It=uc(x,"onBeforeInput"),0<It.length&&(at=new pi("onBeforeInput","beforeinput",null,a,H),Q.push({event:at,listeners:It}),at.data=St)),BA(Q,e,x,a,H)}Yy(Q,n)})}function al(e,n,a){return{instance:e,listener:n,currentTarget:a}}function uc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=jn(e,a),h!=null&&o.unshift(al(e,h,f)),h=jn(e,n),h!=null&&o.push(al(e,h,f))),e.tag===3)return o;e=e.return}return[]}function GA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $y(e,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var E=a,R=E.alternate,x=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||x===null||(R=x,h?(x=jn(a,f),x!=null&&p.unshift(al(a,x,R))):h||(x=jn(a,f),x!=null&&p.push(al(a,x,R)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var FA=/\r\n?/g,QA=/\u0000|\uFFFD/g;function Jy(e){return(typeof e=="string"?e:""+e).replace(FA,`
`).replace(QA,"")}function Zy(e,n){return n=Jy(n),Jy(e)===n}function Yt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||en(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&en(e,""+o);break;case"className":hn(e,"class",o);break;case"tabIndex":hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(e,a,o);break;case"style":wo(e,o,f);break;case"data":if(n!=="object"){hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=sa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Yt(e,n,"name",h.name,h,null),Yt(e,n,"formEncType",h.formEncType,h,null),Yt(e,n,"formMethod",h.formMethod,h,null),Yt(e,n,"formTarget",h.formTarget,h,null)):(Yt(e,n,"encType",h.encType,h,null),Yt(e,n,"method",h.method,h,null),Yt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=sa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=qn);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=sa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":wt("beforetoggle",e),wt("toggle",e),na(e,"popover",o);break;case"xlinkActuate":_e(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":_e(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":_e(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":_e(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":_e(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":_e(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":_e(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":_e(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":_e(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":na(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uu.get(a)||a,na(e,a,o))}}function cd(e,n,a,o,h,f){switch(a){case"style":wo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?en(e,o):(typeof o=="number"||typeof o=="bigint")&&en(e,""+o);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_o.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Me]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):na(e,a,o)}}}function je(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",e),wt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(e,n,f,p,a,null)}}h&&Yt(e,n,"srcSet",a.srcSet,a,null),o&&Yt(e,n,"src",a.src,a,null);return;case"input":wt("invalid",e);var E=f=p=h=null,R=null,x=null;for(o in a)if(a.hasOwnProperty(o)){var H=a[o];if(H!=null)switch(o){case"name":h=H;break;case"type":p=H;break;case"checked":R=H;break;case"defaultChecked":x=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Yt(e,n,o,H,a,null)}}au(e,f,E,R,x,p,h,!1);return;case"select":wt("invalid",e),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Yt(e,n,h,E,a,null)}n=f,a=p,e.multiple=!!o,n!=null?lr(e,!!o,n,!1):a!=null&&lr(e,!!o,a,!0);return;case"textarea":wt("invalid",e),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Yt(e,n,p,E,a,null)}ur(e,o,h,f);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,n,R,o,a,null)}return;case"dialog":wt("beforetoggle",e),wt("toggle",e),wt("cancel",e),wt("close",e);break;case"iframe":case"object":wt("load",e);break;case"video":case"audio":for(o=0;o<sl.length;o++)wt(sl[o],e);break;case"image":wt("error",e),wt("load",e);break;case"details":wt("toggle",e);break;case"embed":case"source":case"link":wt("error",e),wt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in a)if(a.hasOwnProperty(x)&&(o=a[x],o!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(e,n,x,o,a,null)}return;default:if(ra(n)){for(H in a)a.hasOwnProperty(H)&&(o=a[H],o!==void 0&&cd(e,n,H,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Yt(e,n,E,o,a,null))}function KA(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,x=null,H=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Q;default:o.hasOwnProperty(q)||Yt(e,n,q,null,o,Q)}}for(var z in o){var q=o[z];if(Q=a[z],o.hasOwnProperty(z)&&(q!=null||Q!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":x=q;break;case"defaultChecked":H=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==Q&&Yt(e,n,z,q,o,Q)}}ia(e,p,E,R,x,H,f,h);return;case"select":q=p=E=z=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Yt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&Yt(e,n,h,f,o,R)}n=E,a=p,o=q,z!=null?lr(e,!!a,z,!1):!!o!=!!a&&(n!=null?lr(e,!!a,n,!0):lr(e,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Yt(e,n,p,h,o,f)}ou(e,z,q);return;case"option":for(var st in a)if(z=a[st],a.hasOwnProperty(st)&&z!=null&&!o.hasOwnProperty(st))switch(st){case"selected":e.selected=!1;break;default:Yt(e,n,st,null,o,z)}for(R in o)if(z=o[R],q=a[R],o.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null))switch(R){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(e,n,R,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in a)z=a[ct],a.hasOwnProperty(ct)&&z!=null&&!o.hasOwnProperty(ct)&&Yt(e,n,ct,null,o,z);for(x in o)if(z=o[x],q=a[x],o.hasOwnProperty(x)&&z!==q&&(z!=null||q!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Yt(e,n,x,z,o,q)}return;default:if(ra(n)){for(var Xt in a)z=a[Xt],a.hasOwnProperty(Xt)&&z!==void 0&&!o.hasOwnProperty(Xt)&&cd(e,n,Xt,void 0,o,z);for(H in o)z=o[H],q=a[H],!o.hasOwnProperty(H)||z===q||z===void 0&&q===void 0||cd(e,n,H,z,o,q);return}}for(var U in a)z=a[U],a.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Yt(e,n,U,null,o,z);for(Q in o)z=o[Q],q=a[Q],!o.hasOwnProperty(Q)||z===q||z==null&&q==null||Yt(e,n,Q,z,o,q)}function Wy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Wy(p)){for(p=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],x=R.startTime;if(x>E)break;var H=R.transferSize,Q=R.initiatorType;H&&Wy(Q)&&(R=R.responseEnd,p+=H*(R<E?1:(E-x)/(R-x)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hd=null,fd=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function t_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function XA(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var n_=typeof setTimeout=="function"?setTimeout:void 0,$A=typeof clearTimeout=="function"?clearTimeout:void 0,i_=typeof Promise=="function"?Promise:void 0,JA=typeof queueMicrotask=="function"?queueMicrotask:typeof i_<"u"?function(e){return i_.resolve(null).then(e).catch(ZA)}:n_;function ZA(e){setTimeout(function(){throw e})}function Vr(e){return e==="head"}function r_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),za(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")ol(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ol(a);for(var f=a.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&ol(e.ownerDocument.body);a=h}while(a);za(n)}function s_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function gd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gd(a),ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function WA(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function tS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=On(e.nextSibling),e===null))return null;return e}function a_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function eS(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var _d=null;function o_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return On(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function l_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function u_(e,n,a){switch(n=cc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ol(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ea(e)}var Vn=new Map,c_=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=tt.d;tt.d={f:nS,r:iS,D:rS,C:sS,L:aS,m:oS,X:uS,S:lS,M:cS};function nS(){var e=$i.f(),n=nc();return e||n}function iS(e){var n=Tn(e);n!==null&&n.tag===5&&n.type==="form"?Ip(n):$i.r(e)}var La=typeof document>"u"?null:document;function h_(e,n,a){var o=La;if(o&&typeof n=="string"&&n){var h=tn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),c_.has(h)||(c_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),je(n,"link",e),ye(n),o.head.appendChild(n)))}}function rS(e){$i.D(e),h_("dns-prefetch",e,null)}function sS(e,n){$i.C(e,n),h_("preconnect",e,n)}function aS(e,n,a){$i.L(e,n,a);var o=La;if(o&&e&&n){var h='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+tn(a.imageSizes)+'"]')):h+='[href="'+tn(e)+'"]';var f=h;switch(n){case"style":f=Pa(e);break;case"script":f=xa(e)}Vn.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Vn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ll(f))||n==="script"&&o.querySelector(ul(f))||(n=o.createElement("link"),je(n,"link",e),ye(n),o.head.appendChild(n)))}}function oS(e,n){$i.m(e,n);var a=La;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+tn(o)+'"][href="'+tn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=xa(e)}if(!Vn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Vn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ul(f)))return}o=a.createElement("link"),je(o,"link",e),ye(o),a.head.appendChild(o)}}}function lS(e,n,a){$i.S(e,n,a);var o=La;if(o&&e){var h=li(o).hoistableStyles,f=Pa(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(ll(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Vn.get(f))&&vd(e,a);var R=p=o.createElement("link");ye(R),je(R,"link",e),R._p=new Promise(function(x,H){R.onload=x,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function uS(e,n){$i.X(e,n);var a=La;if(a&&e){var o=li(a).hoistableScripts,h=xa(e),f=o.get(h);f||(f=a.querySelector(ul(h)),f||(e=S({src:e,async:!0},n),(n=Vn.get(h))&&Ed(e,n),f=a.createElement("script"),ye(f),je(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function cS(e,n){$i.M(e,n);var a=La;if(a&&e){var o=li(a).hoistableScripts,h=xa(e),f=o.get(h);f||(f=a.querySelector(ul(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Vn.get(h))&&Ed(e,n),f=a.createElement("script"),ye(f),je(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function f_(e,n,a,o){var h=(h=At.current)?hc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Pa(a.href),a=li(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Pa(a.href);var f=li(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(ll(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Vn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(e,a),f||hS(h,e,a,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xa(a),a=li(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Pa(e){return'href="'+tn(e)+'"'}function ll(e){return'link[rel="stylesheet"]['+e+"]"}function d_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function hS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),je(n,"link",a),ye(n),e.head.appendChild(n))}function xa(e){return'[src="'+tn(e)+'"]'}function ul(e){return"script[async]"+e}function m_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+tn(a.href)+'"]');if(o)return n.instance=o,ye(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ye(o),je(o,"style",h),fc(o,a.precedence,e),n.instance=o;case"stylesheet":h=Pa(a.href);var f=e.querySelector(ll(h));if(f)return n.state.loading|=4,n.instance=f,ye(f),f;o=d_(a),(h=Vn.get(h))&&vd(o,h),f=(e.ownerDocument||e).createElement("link"),ye(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),je(f,"link",o),n.state.loading|=4,fc(f,a.precedence,e),n.instance=f;case"script":return f=xa(a.src),(h=e.querySelector(ul(f)))?(n.instance=h,ye(h),h):(o=a,(h=Vn.get(f))&&(o=S({},a),Ed(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ye(h),je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,fc(o,a.precedence,e));return n.instance}function fc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dc=null;function g_(e,n,a){if(dc===null){var o=new Map,h=dc=new Map;h.set(a,o)}else h=dc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ai]||f[pe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function p_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function fS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function y_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function dS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Pa(o.href),f=n.querySelector(ll(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,ye(f);return}f=n.ownerDocument||n,o=d_(o),(h=Vn.get(h))&&vd(o,h),f=f.createElement("link"),ye(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),je(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=mc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Td=0;function mS(e,n){return e.stylesheets&&e.count===0&&pc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Td===0&&(Td=62500*YA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Td?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function pc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,n.forEach(gS,e),gc=null,mc.call(e))}function gS(e,n){if(!(n.state.loading&4)){var a=gc.get(e);if(a)var o=a.get(null);else{a=new Map,gc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=mc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var cl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function pS(e,n,a,o,h,f,p,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function __(e,n,a,o,h,f,p,E,R,x,H,Q){return e=new pS(e,n,a,p,R,x,H,Q,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),e.current=f,f.stateNode=e,n=Wh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},rf(f),e}function v_(e){return e?(e=ga,e):ga}function E_(e,n,a,o,h,f){h=v_(h),o.context===null?o.context=h:o.pendingContext=h,o=Tr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ar(e,o,n),a!==null&&(on(a,e,n),jo(a,e,n))}function T_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Ad(e,n){T_(e,n),(e=e.alternate)&&T_(e,n)}function A_(e){if(e.tag===13||e.tag===31){var n=vs(e,67108864);n!==null&&on(n,e,67108864),Ad(e,67108864)}}function S_(e){if(e.tag===13||e.tag===31){var n=_n();n=os(n);var a=vs(e,n);a!==null&&on(a,e,n),Ad(e,n)}}var yc=!0;function yS(e,n,a,o){var h=G.T;G.T=null;var f=tt.p;try{tt.p=2,Sd(e,n,a,o)}finally{tt.p=f,G.T=h}}function _S(e,n,a,o){var h=G.T;G.T=null;var f=tt.p;try{tt.p=8,Sd(e,n,a,o)}finally{tt.p=f,G.T=h}}function Sd(e,n,a,o){if(yc){var h=bd(o);if(h===null)ud(e,n,o,_c,a),w_(e,o);else if(ES(h,e,n,a,o))o.stopPropagation();else if(w_(e,o),n&4&&-1<vS.indexOf(e)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ni(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-ue(p);E.entanglements[1]|=R,p&=~R}Ti(f),(zt&6)===0&&(tc=Je()+500,rl(0))}}break;case 31:case 13:E=vs(f,2),E!==null&&on(E,f,2),nc(),Ad(f,2)}if(f=bd(o),f===null&&ud(e,n,o,_c,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else ud(e,n,o,null,a)}}function bd(e){return e=An(e),wd(e)}var _c=null;function wd(e){if(_c=null,e=oi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function b_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(is()){case fo:return 2;case mo:return 8;case ar:case Nh:return 32;case $l:return 268435456;default:return 32}default:return 32}}var Rd=!1,Mr=null,Ur=null,kr=null,hl=new Map,fl=new Map,Lr=[],vS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w_(e,n){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(n.pointerId)}}function dl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Tn(n),n!==null&&A_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function ES(e,n,a,o,h){switch(n){case"focusin":return Mr=dl(Mr,e,n,a,o,h),!0;case"dragenter":return Ur=dl(Ur,e,n,a,o,h),!0;case"mouseover":return kr=dl(kr,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return hl.set(f,dl(hl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,fl.set(f,dl(fl.get(f)||null,e,n,a,o,h)),!0}return!1}function R_(e){var n=oi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,zn(e.priority,function(){S_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,zn(e.priority,function(){S_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=bd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ro=o,a.target.dispatchEvent(o),Ro=null}else return n=Tn(a),n!==null&&A_(n),e.blockedOn=a,!1;n.shift()}return!0}function I_(e,n,a){vc(e)&&a.delete(n)}function TS(){Rd=!1,Mr!==null&&vc(Mr)&&(Mr=null),Ur!==null&&vc(Ur)&&(Ur=null),kr!==null&&vc(kr)&&(kr=null),hl.forEach(I_),fl.forEach(I_)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,Rd||(Rd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,TS)))}var Tc=null;function C_(e){Tc!==e&&(Tc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(wd(o||a)===null)continue;break}var f=Tn(a);f!==null&&(e.splice(n,3),n-=3,bf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function za(e){function n(R){return Ec(R,e)}Mr!==null&&Ec(Mr,e),Ur!==null&&Ec(Ur,e),kr!==null&&Ec(kr,e),hl.forEach(n),fl.forEach(n);for(var a=0;a<Lr.length;a++){var o=Lr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Lr.length&&(a=Lr[0],a.blockedOn===null);)R_(a),a.blockedOn===null&&Lr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[Me]||null;if(typeof f=="function")p||C_(a);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Me]||null)E=p.formAction;else if(wd(h)!==null)continue}else E=p.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),C_(a)}}}function D_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Id(e){this._internalRoot=e}Ac.prototype.render=Id.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=_n();E_(a,o,e,n,null,null)},Ac.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;E_(e.current,2,null,e,null,null),nc(),n[si]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=nu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Lr.length&&n!==0&&n<Lr[a].priority;a++);Lr.splice(a,0,e),a===0&&R_(e)}};var N_=t.version;if(N_!=="19.2.0")throw Error(r(527,N_,"19.2.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var AS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Pn=Sc.inject(AS),Pe=Sc}catch{}}return gl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=Pp,f=xp,p=zp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=__(e,1,!1,null,null,a,o,null,h,f,p,D_),e[si]=n.current,ld(e),new Id(n)},gl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=Pp,p=xp,E=zp,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=__(e,1,!0,n,a??null,o,h,R,f,p,E,D_),n.context=v_(null),a=n.current,o=_n(),o=os(o),h=Tr(o),h.callback=null,Ar(a,h,o),a=o,n.current.lanes=a,ss(n,a),Ti(n),e[si]=n.current,ld(e),new Ac(n)},gl.version="19.2.0",gl}var B_;function VS(){if(B_)return Nd.exports;B_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Nd.exports=OS(),Nd.exports}var MS=VS();const US=()=>{};var q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},kS=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},bE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,A=c>>2,S=(c&3)<<4|g>>4;let V=(g&15)<<2|y>>6,j=y&63;_||(j=64,d||(V=64)),r.push(i[A],i[S],i[V],i[j])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(SE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):kS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||S==null)throw new LS;const V=c<<2|g>>4;if(r.push(V),y!==64){const j=g<<4&240|y>>2;if(r.push(j),S!==64){const $=y<<6&192|S;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class LS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PS=function(s){const t=SE(s);return bE.encodeByteArray(t,!0)},jc=function(s){return PS(s).replace(/\./g,"")},wE=function(s){try{return bE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=()=>xS().__FIREBASE_DEFAULTS__,BS=()=>{if(typeof process>"u"||typeof q_>"u")return;const s=q_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},qS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&wE(s[1]);return t&&JSON.parse(t)},uh=()=>{try{return US()||zS()||BS()||qS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},RE=s=>uh()?.emulatorHosts?.[s],jS=s=>{const t=RE(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},IE=()=>uh()?.config,CE=s=>uh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[jc(JSON.stringify(i)),jc(JSON.stringify(d)),""].join(".")}const El={};function FS(){const s={prod:[],emulator:[]};for(const t of Object.keys(El))El[t]?s.emulator.push(t):s.prod.push(t);return s}function QS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let j_=!1;function NE(s,t){if(typeof window>"u"||typeof document>"u"||!Hs(window.location.host)||El[s]===t||El[s]||j_)return;El[s]=t;function i(V){return`__firebase__banner__${V}`}const r="__firebase__banner",c=FS().prod.length>0;function d(){const V=document.getElementById(r);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,j){V.setAttribute("width","24"),V.setAttribute("id",j),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{j_=!0,d()},V}function A(V,j){V.setAttribute("id",j),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function S(){const V=QS(r),j=i("text"),$=document.getElementById(j)||document.createElement("span"),W=i("learnmore"),J=document.getElementById(W)||document.createElement("a"),ht=i("preprendIcon"),vt=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const dt=V.element;g(dt),A(J,W);const Ft=y();_(vt,ht),dt.append(vt,$,J,Ft),document.body.appendChild(dt)}c?($.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function YS(){const s=uh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $S(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function JS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZS(){const s=$e();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function WS(){return!YS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t1(){try{return typeof indexedDB=="object"}catch{return!1}}function e1(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="FirebaseError";class Oi extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=n1,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?i1(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Oi(l,g,r)}}function i1(s,t){return s.replace(r1,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const r1=/\{\$([^}]+)}/g;function s1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function xs(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(H_(c)&&H_(d)){if(!xs(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function H_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function a1(s,t){const i=new o1(s,t);return i.subscribe.bind(i)}class o1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");l1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Ud),l.error===void 0&&(l.error=Ud),l.complete===void 0&&(l.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function l1(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ud(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(s){return s&&s._delegate?s._delegate:s}class Yr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new HS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(h1(t))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Vs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vs){return this.instances.has(t)}getOptions(t=Vs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c1(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Vs){return this.component?this.component.multipleInstances?t:Vs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c1(s){return s===Vs?void 0:s}function h1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new u1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ct||(Ct={}));const d1={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},m1=Ct.INFO,g1={[Ct.DEBUG]:"log",[Ct.VERBOSE]:"log",[Ct.INFO]:"info",[Ct.WARN]:"warn",[Ct.ERROR]:"error"},p1=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=g1[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ch{constructor(t){this.name=t,this._logLevel=m1,this._logHandler=p1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ct))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?d1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ct.DEBUG,...t),this._logHandler(this,Ct.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ct.VERBOSE,...t),this._logHandler(this,Ct.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ct.INFO,...t),this._logHandler(this,Ct.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ct.WARN,...t),this._logHandler(this,Ct.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ct.ERROR,...t),this._logHandler(this,Ct.ERROR,...t)}}const y1=(s,t)=>t.some(i=>s instanceof i);let G_,F_;function _1(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v1(){return F_||(F_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OE=new WeakMap,Kd=new WeakMap,VE=new WeakMap,kd=new WeakMap,vm=new WeakMap;function E1(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Hr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&OE.set(i,s)}).catch(()=>{}),vm.set(t,s),t}function T1(s){if(Kd.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Kd.set(s,t)}let Yd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Kd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||VE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Hr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function A1(s){Yd=s(Yd)}function S1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Ld(this),t,...i);return VE.set(r,t.sort?t.sort():[t]),Hr(r)}:v1().includes(s)?function(...t){return s.apply(Ld(this),t),Hr(OE.get(this))}:function(...t){return Hr(s.apply(Ld(this),t))}}function b1(s){return typeof s=="function"?S1(s):(s instanceof IDBTransaction&&T1(s),y1(s,_1())?new Proxy(s,Yd):s)}function Hr(s){if(s instanceof IDBRequest)return E1(s);if(kd.has(s))return kd.get(s);const t=b1(s);return t!==s&&(kd.set(s,t),vm.set(t,s)),t}const Ld=s=>vm.get(s);function w1(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=Hr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Hr(d.result),_.oldVersion,_.newVersion,Hr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const R1=["get","getKey","getAll","getAllKeys","count"],I1=["put","add","delete","clear"],Pd=new Map;function Q_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Pd.get(t))return Pd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=I1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||R1.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return Pd.set(t,c),c}A1(s=>({...s,get:(t,i,r)=>Q_(t,i)||s.get(t,i,r),has:(t,i)=>!!Q_(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(D1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function D1(s){return s.getComponent()?.type==="VERSION"}const Xd="@firebase/app",K_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new ch("@firebase/app"),N1="@firebase/app-compat",O1="@firebase/analytics-compat",V1="@firebase/analytics",M1="@firebase/app-check-compat",U1="@firebase/app-check",k1="@firebase/auth",L1="@firebase/auth-compat",P1="@firebase/database",x1="@firebase/data-connect",z1="@firebase/database-compat",B1="@firebase/functions",q1="@firebase/functions-compat",j1="@firebase/installations",H1="@firebase/installations-compat",G1="@firebase/messaging",F1="@firebase/messaging-compat",Q1="@firebase/performance",K1="@firebase/performance-compat",Y1="@firebase/remote-config",X1="@firebase/remote-config-compat",$1="@firebase/storage",J1="@firebase/storage-compat",Z1="@firebase/firestore",W1="@firebase/ai",tb="@firebase/firestore-compat",eb="firebase",nb="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc="[DEFAULT]",ib={[Xd]:"fire-core",[N1]:"fire-core-compat",[V1]:"fire-analytics",[O1]:"fire-analytics-compat",[U1]:"fire-app-check",[M1]:"fire-app-check-compat",[k1]:"fire-auth",[L1]:"fire-auth-compat",[P1]:"fire-rtdb",[x1]:"fire-data-connect",[z1]:"fire-rtdb-compat",[B1]:"fire-fn",[q1]:"fire-fn-compat",[j1]:"fire-iid",[H1]:"fire-iid-compat",[G1]:"fire-fcm",[F1]:"fire-fcm-compat",[Q1]:"fire-perf",[K1]:"fire-perf-compat",[Y1]:"fire-rc",[X1]:"fire-rc-compat",[$1]:"fire-gcs",[J1]:"fire-gcs-compat",[Z1]:"fire-fst",[tb]:"fire-fst-compat",[W1]:"fire-vertex","fire-js":"fire-js",[eb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Map,rb=new Map,$d=new Map;function Y_(s,t){try{s.container.addComponent(t)}catch(i){er.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function zs(s){const t=s.name;if($d.has(t))return er.debug(`There were multiple attempts to register component ${t}.`),!1;$d.set(t,s);for(const i of Gc.values())Y_(i,s);for(const i of rb.values())Y_(i,s);return!0}function hh(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function sb(s,t,i=Hc){hh(s,t).clearInstance(i)}function Mn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new zl("app","Firebase",ab);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=nb;function ME(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:Hc,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Gr.create("bad-app-name",{appName:String(l)});if(i||(i=IE()),!i)throw Gr.create("no-options");const c=Gc.get(l);if(c){if(xs(i,c.options)&&xs(r,c.config))return c;throw Gr.create("duplicate-app",{appName:l})}const d=new f1(l);for(const _ of $d.values())d.addComponent(_);const g=new ob(i,r,d);return Gc.set(l,g),g}function UE(s=Hc){const t=Gc.get(s);if(!t&&s===Hc&&IE())return ME();if(!t)throw Gr.create("no-app",{appName:s});return t}function Si(s,t,i){let r=ib[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),er.warn(d.join(" "));return}zs(new Yr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="firebase-heartbeat-database",ub=1,Cl="firebase-heartbeat-store";let xd=null;function kE(){return xd||(xd=w1(lb,ub,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Cl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Gr.create("idb-open",{originalErrorMessage:s.message})})),xd}async function cb(s){try{const i=(await kE()).transaction(Cl),r=await i.objectStore(Cl).get(LE(s));return await i.done,r}catch(t){if(t instanceof Oi)er.warn(t.message);else{const i=Gr.create("idb-get",{originalErrorMessage:t?.message});er.warn(i.message)}}}async function X_(s,t){try{const r=(await kE()).transaction(Cl,"readwrite");await r.objectStore(Cl).put(t,LE(s)),await r.done}catch(i){if(i instanceof Oi)er.warn(i.message);else{const r=Gr.create("idb-set",{originalErrorMessage:i?.message});er.warn(r.message)}}}function LE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=1024,fb=30;class db{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new gb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>fb){const l=pb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){er.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$_(),{heartbeatsToSend:i,unsentEntries:r}=mb(this._heartbeatsCache.heartbeats),l=jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return er.warn(t),""}}}function $_(){return new Date().toISOString().substring(0,10)}function mb(s,t=hb){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),J_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),J_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class gb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t1()?e1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await cb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return X_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return X_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function J_(s){return jc(JSON.stringify({version:2,heartbeats:s})).length}function pb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(s){zs(new Yr("platform-logger",t=>new C1(t),"PRIVATE")),zs(new Yr("heartbeat",t=>new db(t),"PRIVATE")),Si(Xd,K_,s),Si(Xd,K_,"esm2020"),Si("fire-js","")}yb("");function PE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _b=PE,xE=new zl("auth","Firebase",PE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new ch("@firebase/auth");function vb(s,...t){Fc.logLevel<=Ct.WARN&&Fc.warn(`Auth (${Gs}): ${s}`,...t)}function Oc(s,...t){Fc.logLevel<=Ct.ERROR&&Fc.error(`Auth (${Gs}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(s,...t){throw Tm(s,...t)}function Zn(s,...t){return Tm(s,...t)}function Em(s,t,i){const r={..._b(),[t]:i};return new zl("auth","Firebase",r).create(t,{appName:s.name})}function ks(s){return Em(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Eb(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Di(s,"argument-error"),Em(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return xE.create(s,...t)}function mt(s,t,...i){if(!s)throw Tm(t,...i)}function Zi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Oc(t),new Error(t)}function nr(s,t){s||Zi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(){return typeof self<"u"&&self.location?.href||""}function Tb(){return Z_()==="http:"||Z_()==="https:"}function Z_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tb()||$S()||"connection"in navigator)?navigator.onLine:!0}function Sb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,nr(i>t,"Short delay should be less than long delay!"),this.isMobile=KS()||JS()}get(){return Ab()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(s,t){nr(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Rb=new ql(3e4,6e4);function Sm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function io(s,t,i,r,l={}){return BE(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const g=Bl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return XS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Hs(s.emulatorConfig.host)&&(y.credentials="include"),zE.fetch()(await qE(s,s.config.apiHost,i,g),y)})}async function BE(s,t,i){s._canInitEmulator=!1;const r={...bb,...t};try{const l=new Cb(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw bc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw bc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw bc(s,"user-disabled",d);const A=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Em(s,A,y);Di(s,A)}}catch(l){if(l instanceof Oi)throw l;Di(s,"network-request-failed",{message:String(l)})}}async function Ib(s,t,i,r,l={}){const c=await io(s,t,i,r,l);return"mfaPendingCredential"in c&&Di(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function qE(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?Am(s.config,l):`${s.config.apiScheme}://${l}`;return wb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Cb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Zn(this.auth,"network-request-failed")),Rb.get())})}}function bc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Zn(s,t,r);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Db(s,t){return io(s,"POST","/v1/accounts:delete",t)}async function Qc(s,t){return io(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Nb(s,t=!1){const i=un(s),r=await i.getIdToken(t),l=bm(r);mt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Tl(zd(l.auth_time)),issuedAtTime:Tl(zd(l.iat)),expirationTime:Tl(zd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function zd(s){return Number(s)*1e3}function bm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const l=wE(i);return l?JSON.parse(l):(Oc("Failed to decode base64 JWT payload"),null)}catch(l){return Oc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function W_(s){const t=bm(s);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Oi&&Ob(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Ob({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(s){const t=s.auth,i=await s.getIdToken(),r=await Dl(s,Qc(t,{idToken:i}));mt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?jE(l.providerUserInfo):[],d=Ub(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=g?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function Mb(s){const t=un(s);await Kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Ub(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function jE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kb(s,t){const i=await BE(s,{},async()=>{const r=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await qE(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return s.emulatorConfig&&Hs(s.emulatorConfig.host)&&(_.credentials="include"),zE.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Lb(s,t){return io(s,"POST","/v2/accounts:revokeToken",Sm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):W_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=W_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await kb(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Fa;return r&&(mt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(mt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(s,t){mt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class $n{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Vb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Zd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Dl(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Nb(this,t)}reload(){return Mb(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new $n({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Kc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(ks(this.auth));const t=await this.getIdToken();return await Dl(this,Db(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:V,isAnonymous:j,providerData:$,stsTokenManager:W}=i;mt(S&&W,t,"internal-error");const J=Fa.fromJSON(this.name,W);mt(typeof S=="string",t,"internal-error"),xr(r,t.name),xr(l,t.name),mt(typeof V=="boolean",t,"internal-error"),mt(typeof j=="boolean",t,"internal-error"),xr(c,t.name),xr(d,t.name),xr(g,t.name),xr(_,t.name),xr(y,t.name),xr(A,t.name);const ht=new $n({uid:S,auth:t,email:l,emailVerified:V,displayName:r,isAnonymous:j,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:J,createdAt:y,lastLoginAt:A});return $&&Array.isArray($)&&(ht.providerData=$.map(vt=>({...vt}))),_&&(ht._redirectEventId=_),ht}static async _fromIdTokenResponse(t,i,r=!1){const l=new Fa;l.updateFromServerResponse(i);const c=new $n({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Kc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];mt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?jE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Fa;g.updateFromIdToken(r);const _=new $n({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=new Map;function Wi(s){nr(s instanceof Function,"Expected a class definition");let t=tv.get(s);return t?(nr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,tv.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}HE.type="NONE";const ev=HE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(s,t,i){return`firebase:${s}:${t}:${i}`}class Qa{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Vc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Vc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Qc(this.auth,{idToken:t}).catch(()=>{});return i?$n._fromGetAccountInfoResponse(this.auth,i,t):null}return $n._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Qa(Wi(ev),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Wi(ev);const d=Vc(r,t.config.apiKey,t.name);let g=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const V=await Qc(t,{idToken:A}).catch(()=>{});if(!V)break;S=await $n._fromGetAccountInfoResponse(t,V,A)}else S=$n._fromJSON(t,A);y!==c&&(g=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Qa(c,t,r):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Qa(c,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(KE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(GE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(XE(t))return"Blackberry";if($E(t))return"Webos";if(FE(t))return"Safari";if((t.includes("chrome/")||QE(t))&&!t.includes("edge/"))return"Chrome";if(YE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function GE(s=$e()){return/firefox\//i.test(s)}function FE(s=$e()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function QE(s=$e()){return/crios\//i.test(s)}function KE(s=$e()){return/iemobile/i.test(s)}function YE(s=$e()){return/android/i.test(s)}function XE(s=$e()){return/blackberry/i.test(s)}function $E(s=$e()){return/webos/i.test(s)}function wm(s=$e()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Pb(s=$e()){return wm(s)&&!!window.navigator?.standalone}function xb(){return ZS()&&document.documentMode===10}function JE(s=$e()){return wm(s)||YE(s)||$E(s)||XE(s)||/windows phone/i.test(s)||KE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(s,t=[]){let i;switch(s){case"Browser":i=nv($e());break;case"Worker":i=`${nv($e())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Gs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bb(s,t={}){return io(s,"GET","/v2/passwordPolicy",Sm(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=6;class jb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??qb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iv(this),this.idTokenSubscription=new iv(this),this.beforeStateQueue=new zb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Wi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Qc(this,{idToken:t}),r=await $n._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Mn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Kc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Sb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Mn(this.app))return Promise.reject(ks(this));const i=t?un(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Mn(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Bb(this),i=new jb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Lb(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Wi(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[Wi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ZE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&vb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function fh(s){return un(s)}class iv{constructor(t){this.auth=t,this.observer=null,this.addObserver=a1(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gb(s){Rm=s}function Fb(s){return Rm.loadJS(s)}function Qb(){return Rm.gapiScript}function Kb(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(s,t){const i=hh(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(xs(c,t??{}))return l;Di(l,"already-initialized")}return i.initialize({options:t})}function Xb(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Wi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function $b(s,t,i){const r=fh(s);mt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=WE(t),{host:d,port:g}=Jb(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){mt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),mt(xs(y,r.config.emulator)&&xs(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,Hs(d)?(DE(`${c}//${d}${_}`),NE("Auth",!0)):Zb()}function WE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Jb(s){const t=WE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:rv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:rv(d)}}}function rv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Zb(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,i){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(s,t){return Ib(s,"POST","/v1/accounts:signInWithIdp",Sm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="http://localhost";class Bs extends tT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Bs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Di("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Bs(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ka(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Ka(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ka(t,i)}buildRequest(){const t={requestUri:Wb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Bl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Im{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends jl{constructor(){super("facebook.com")}static credential(t){return Bs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Bs._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ji.credentialFromTaggedObject(t)}static credentialFromError(t){return Ji.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Ji.credential(i,r)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends jl{constructor(){super("github.com")}static credential(t){return Bs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Br.credential(t.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends jl{constructor(){super("twitter.com")}static credential(t,i){return Bs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return qr.credential(i,r)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await $n._fromIdTokenResponse(t,r,l),d=sv(r);return new $a({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=sv(r);return new $a({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function sv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends Oi{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new Yc(t,i,r,l)}}function eT(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(s,c,t,r):c})}async function tw(s,t,i=!1){const r=await Dl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return $a._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew(s,t,i=!1){const{auth:r}=s;if(Mn(r.app))return Promise.reject(ks(r));const l="reauthenticate";try{const c=await Dl(s,eT(r,l,t,s),i);mt(c.idToken,r,"internal-error");const d=bm(c.idToken);mt(d,r,"internal-error");const{sub:g}=d;return mt(s.uid===g,r,"user-mismatch"),$a._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Di(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(s,t,i=!1){if(Mn(s.app))return Promise.reject(ks(s));const r="signIn",l=await eT(s,r,t),c=await $a._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function iw(s,t,i,r){return un(s).onIdTokenChanged(t,i,r)}function rw(s,t,i){return un(s).beforeAuthStateChanged(t,i)}function sw(s,t,i,r){return un(s).onAuthStateChanged(t,i,r)}const Xc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=1e3,ow=10;class iT extends nT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);xb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,ow):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},aw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}iT.type="LOCAL";const lw=iT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT extends nT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}rT.type="SESSION";const sT=rT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new dh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await uw(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Cm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const V=S;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return window}function hw(s){bi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function fw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dw(){return navigator?.serviceWorker?.controller||null}function mw(){return aT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="firebaseLocalStorageDb",gw=1,$c="firebaseLocalStorage",lT="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mh(s,t){return s.transaction([$c],t?"readwrite":"readonly").objectStore($c)}function pw(){const s=indexedDB.deleteDatabase(oT);return new Hl(s).toPromise()}function Wd(){const s=indexedDB.open(oT,gw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore($c,{keyPath:lT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains($c)?t(r):(r.close(),await pw(),t(await Wd()))})})}async function av(s,t,i){const r=mh(s,!0).put({[lT]:t,value:i});return new Hl(r).toPromise()}async function yw(s,t){const i=mh(s,!1).get(t),r=await new Hl(i).toPromise();return r===void 0?null:r.value}function ov(s,t){const i=mh(s,!0).delete(t);return new Hl(i).toPromise()}const _w=800,vw=3;class uT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>vw)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(mw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fw(),!this.activeServiceWorker)return;this.sender=new cw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||dw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Wd();return await av(t,Xc,"1"),await ov(t,Xc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>av(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>yw(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ov(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=mh(l,!1).getAll();return new Hl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_w)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uT.type="LOCAL";const Ew=uT;new ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(s,t){return t?Wi(t):(mt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm extends tT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ka(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ka(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Tw(s){return nw(s.auth,new Dm(s),s.bypassAuthState)}function Aw(s){const{auth:t,user:i}=s;return mt(i,t,"internal-error"),ew(i,new Dm(s),s.bypassAuthState)}async function Sw(s){const{auth:t,user:i}=s;return mt(i,t,"internal-error"),tw(i,new Dm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Tw;case"linkViaPopup":case"linkViaRedirect":return Sw;case"reauthViaPopup":case"reauthViaRedirect":return Aw;default:Di(this.auth,"internal-error")}}resolve(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=new ql(2e3,1e4);async function ww(s,t,i){if(Mn(s.app))return Promise.reject(Zn(s,"operation-not-supported-in-this-environment"));const r=fh(s);Eb(s,t,Im);const l=cT(r,i);return new Ms(r,"signInViaPopup",t,l).executeNotNull()}class Ms extends hT{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Ms.currentPopupAction&&Ms.currentPopupAction.cancel(),Ms.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const t=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ms.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,bw.get())};t()}}Ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="pendingRedirect",Mc=new Map;class Iw extends hT{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Mc.get(this.auth._key());if(!t){try{const r=await Cw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Mc.set(this.auth._key(),t)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Cw(s,t){const i=Ow(t),r=Nw(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function Dw(s,t){Mc.set(s._key(),t)}function Nw(s){return Wi(s._redirectPersistence)}function Ow(s){return Vc(Rw,s.config.apiKey,s.name)}async function Vw(s,t,i=!1){if(Mn(s.app))return Promise.reject(ks(s));const r=fh(s),l=cT(r,t),d=await new Iw(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=600*1e3;class Uw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!kw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!fT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Zn(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Mw&&this.cachedEventUids.clear(),this.cachedEventUids.has(lv(t))}saveEventToCache(t){this.cachedEventUids.add(lv(t)),this.lastProcessedEventTime=Date.now()}}function lv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function fT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function kw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lw(s,t={}){return io(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xw=/^https?/;async function zw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Lw(s);for(const i of t)try{if(Bw(i))return}catch{}Di(s,"unauthorized-domain")}function Bw(s){const t=Jd(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!xw.test(i))return!1;if(Pw.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new ql(3e4,6e4);function uv(){const s=bi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function jw(s){return new Promise((t,i)=>{function r(){uv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{uv(),i(Zn(s,"network-request-failed"))},timeout:qw.get()})}if(bi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(bi().gapi?.load)r();else{const l=Kb("iframefcb");return bi()[l]=()=>{gapi.load?r():i(Zn(s,"network-request-failed"))},Fb(`${Qb()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Uc=null,t})}let Uc=null;function Hw(s){return Uc=Uc||jw(s),Uc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=new ql(5e3,15e3),Fw="__/auth/iframe",Qw="emulator/auth/iframe",Kw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xw(s){const t=s.config;mt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Am(t,Qw):`https://${s.config.authDomain}/${Fw}`,r={apiKey:t.apiKey,appName:s.name,v:Gs},l=Yw.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Bl(r).slice(1)}`}async function $w(s){const t=await Hw(s),i=bi().gapi;return mt(i,s,"internal-error"),t.open({where:document.body,url:Xw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kw,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Zn(s,"network-request-failed"),g=bi().setTimeout(()=>{c(d)},Gw.get());function _(){bi().clearTimeout(g),l(r)}r.ping(_).then(_,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zw=500,Ww=600,tR="_blank",eR="http://localhost";class cv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nR(s,t,i,r=Zw,l=Ww){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...Jw,width:r.toString(),height:l.toString(),top:c,left:d},y=$e().toLowerCase();i&&(g=QE(y)?tR:i),GE(y)&&(t=t||eR,_.scrollbars="yes");const A=Object.entries(_).reduce((V,[j,$])=>`${V}${j}=${$},`,"");if(Pb(y)&&g!=="_self")return iR(t||"",g),new cv(null);const S=window.open(t||"",g,A);mt(S,s,"popup-blocked");try{S.focus()}catch{}return new cv(S)}function iR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="__/auth/handler",sR="emulator/auth/handler",aR=encodeURIComponent("fac");async function hv(s,t,i,r,l,c){mt(s.config.authDomain,s,"auth-domain-config-required"),mt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Gs,eventId:l};if(t instanceof Im){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",s1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof jl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const _=await s._getAppCheckToken(),y=_?`#${aR}=${encodeURIComponent(_)}`:"";return`${oR(s)}?${Bl(g).slice(1)}${y}`}function oR({config:s}){return s.emulator?Am(s,sR):`https://${s.authDomain}/${rR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="webStorageSupport";class lR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sT,this._completeRedirectFn=Vw,this._overrideRedirectResult=Dw}async _openPopup(t,i,r,l){nr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await hv(t,i,r,Jd(),l);return nR(t,c,Cm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await hv(t,i,r,Jd(),l);return hw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(nr(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await $w(t),r=new Uw(t);return i.register("authEvent",l=>(mt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Bd,{type:Bd},l=>{const c=l?.[0]?.[Bd];c!==void 0&&i(!!c),Di(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=zw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return JE()||FE()||wm()}}const uR=lR;var fv="@firebase/auth",dv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fR(s){zs(new Yr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZE(s)},y=new Hb(r,l,c,_);return Xb(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),zs(new Yr("auth-internal",t=>{const i=fh(t.getProvider("auth").getImmediate());return(r=>new cR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(fv,dv,hR(s)),Si(fv,dv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=300,mR=CE("authIdTokenMaxAge")||dR;let mv=null;const gR=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>mR)return;const l=i?.token;mv!==l&&(mv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function pR(s=UE()){const t=hh(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Yb(s,{popupRedirectResolver:uR,persistence:[Ew,lw,sT]}),r=CE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=gR(c.toString());rw(i,d,()=>d(i.currentUser)),iw(i,g=>d(g))}}const l=RE("auth");return l&&$b(i,`http://${l}`),i}function yR(){return document.getElementsByTagName("head")?.[0]??document}Gb({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=Zn("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",yR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fR("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function _R(s,t,i,r){function l(c){return c instanceof i?c:new i(function(d){d(c)})}return new(i||(i=Promise))(function(c,d){function g(A){try{y(r.next(A))}catch(S){d(S)}}function _(A){try{y(r.throw(A))}catch(S){d(S)}}function y(A){A.done?c(A.value):l(A.value).then(g,_)}y((r=r.apply(s,[])).next())})}function vR(s,t){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,l,c,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(y){return function(A){return _([y,A])}}function _(y){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return i.label++,{value:y[1],done:!1};case 5:i.label++,l=y[1],y=[0];continue;case 7:y=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){i=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){i.label=y[1];break}if(y[0]===6&&i.label<c[1]){i.label=c[1],c=y;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(y);break}c[2]&&i.ops.pop(),i.trys.pop();continue}y=t.call(s,i)}catch(A){y=[6,A],l=0}finally{r=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ga=function(){return Ga=Object.assign||function(t){for(var i,r=1,l=arguments.length;r<l;r++){i=arguments[r];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c])}return t},Ga.apply(this,arguments)},dT=function(s){return{loading:s==null,value:s}},ER=function(){return function(s,t){switch(t.type){case"error":return Ga(Ga({},s),{error:t.error,loading:!1,value:void 0});case"reset":return dT(t.defaultValue);case"value":return Ga(Ga({},s),{error:void 0,loading:!1,value:t.value});default:return s}}},TR=(function(s){var t=s?s():void 0,i=Xn.useReducer(ER(),dT(t)),r=i[0],l=i[1],c=Xn.useCallback(function(){var _=s?s():void 0;l({type:"reset",defaultValue:_})},[s]),d=Xn.useCallback(function(_){l({type:"error",error:_})},[]),g=Xn.useCallback(function(_){l({type:"value",value:_})},[]);return Xn.useMemo(function(){return{error:r.error,loading:r.loading,reset:c,setError:d,setValue:g,value:r.value}},[r.error,r.loading,c,d,g,r.value])}),AR=(function(s,t){var i=TR(function(){return s.currentUser}),r=i.error,l=i.loading,c=i.setError,d=i.setValue,g=i.value;return Xn.useEffect(function(){var _=sw(s,function(y){return _R(void 0,void 0,void 0,function(){var A;return vR(this,function(S){switch(S.label){case 0:return[3,4];case 1:return S.trys.push([1,3,,4]),[4,t.onUserChanged(y)];case 2:return S.sent(),[3,4];case 3:return A=S.sent(),c(A),[3,4];case 4:return d(y),[2]}})})},c);return function(){_()}},[s]),[g,l,r]}),SR="firebase",bR="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si(SR,bR,"app");var gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fr,mT;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,N,k){for(var w=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)w[ne-2]=arguments[ne];return b.prototype[N].apply(M,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const M=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)M[N]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(N=0;N<16;++N)M[N]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],N=C.g[2];let k=C.g[3],w;w=b+(k^I&(N^k))+M[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(N^b&(I^N))+M[1]+3905402710&4294967295,k=b+(w<<12&4294967295|w>>>20),w=N+(I^k&(b^I))+M[2]+606105819&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(b^N&(k^b))+M[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(k^I&(N^k))+M[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(N^b&(I^N))+M[5]+1200080426&4294967295,k=b+(w<<12&4294967295|w>>>20),w=N+(I^k&(b^I))+M[6]+2821735955&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(b^N&(k^b))+M[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(k^I&(N^k))+M[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(N^b&(I^N))+M[9]+2336552879&4294967295,k=b+(w<<12&4294967295|w>>>20),w=N+(I^k&(b^I))+M[10]+4294925233&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(b^N&(k^b))+M[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(k^I&(N^k))+M[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(N^b&(I^N))+M[13]+4254626195&4294967295,k=b+(w<<12&4294967295|w>>>20),w=N+(I^k&(b^I))+M[14]+2792965006&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(b^N&(k^b))+M[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(N^k&(I^N))+M[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(b^I))+M[6]+3225465664&4294967295,k=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(k^b))+M[11]+643717713&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(N^k))+M[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^k&(I^N))+M[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(b^I))+M[10]+38016083&4294967295,k=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(k^b))+M[15]+3634488961&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(N^k))+M[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^k&(I^N))+M[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(b^I))+M[14]+3275163606&4294967295,k=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(k^b))+M[3]+4107603335&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(N^k))+M[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^k&(I^N))+M[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(b^I))+M[2]+4243563512&4294967295,k=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(k^b))+M[7]+1735328473&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(N^k))+M[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(I^N^k)+M[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^N)+M[8]+2272392833&4294967295,k=b+(w<<11&4294967295|w>>>21),w=N+(k^b^I)+M[11]+1839030562&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^b)+M[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^k)+M[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^N)+M[4]+1272893353&4294967295,k=b+(w<<11&4294967295|w>>>21),w=N+(k^b^I)+M[7]+4139469664&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^b)+M[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^k)+M[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^N)+M[0]+3936430074&4294967295,k=b+(w<<11&4294967295|w>>>21),w=N+(k^b^I)+M[3]+3572445317&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^b)+M[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^k)+M[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^N)+M[12]+3873151461&4294967295,k=b+(w<<11&4294967295|w>>>21),w=N+(k^b^I)+M[15]+530742520&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^b)+M[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(N^(I|~k))+M[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~N))+M[7]+1126891415&4294967295,k=b+(w<<10&4294967295|w>>>22),w=N+(b^(k|~I))+M[14]+2878612391&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~b))+M[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~k))+M[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~N))+M[3]+2399980690&4294967295,k=b+(w<<10&4294967295|w>>>22),w=N+(b^(k|~I))+M[10]+4293915773&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~b))+M[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~k))+M[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~N))+M[15]+4264355552&4294967295,k=b+(w<<10&4294967295|w>>>22),w=N+(b^(k|~I))+M[6]+2734768916&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~b))+M[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~k))+M[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~N))+M[11]+3174756917&4294967295,k=b+(w<<10&4294967295|w>>>22),w=N+(b^(k|~I))+M[2]+718787259&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+k&4294967295}r.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,M=this.C;let N=this.h,k=0;for(;k<b;){if(N==0)for(;k<=I;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<b;)if(M[N++]=C.charCodeAt(k++),N==this.blockSize){l(this,M),N=0;break}}else for(;k<b;)if(M[N++]=C[k++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=b},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[b++]=this.g[I]>>>M&255;return C};function c(C,b){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let M=!0;for(let N=C.length-1;N>=0;N--){const k=C[N]|0;M&&k==b||(I[N]=k,M=!1)}this.g=I}var g={};function _(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return J(y(-C));const b=[];let I=1;for(let M=0;C>=I;M++)b[M]=C/I|0,I*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return J(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(b,8));let M=S;for(let k=0;k<C.length;k+=8){var N=Math.min(8,C.length-k);const w=parseInt(C.substring(k,k+N),b);N<8?(N=y(Math.pow(b,N)),M=M.j(N).add(y(w))):(M=M.j(I),M=M.add(y(w)))}return M}var S=_(0),V=_(1),j=_(16777216);s=d.prototype,s.m=function(){if(W(this))return-J(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if($(this))return"0";if(W(this))return"-"+J(this).toString(C);const b=y(Math.pow(C,6));var I=this;let M="";for(;;){const N=Ft(I,b).g;I=ht(I,N.j(b));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,$(I))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function $(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function W(C){return C.h==-1}s.l=function(C){return C=ht(this,C),W(C)?-1:$(C)?0:1};function J(C){const b=C.g.length,I=[];for(let M=0;M<b;M++)I[M]=~C.g[M];return new d(I,~C.h).add(V)}s.abs=function(){return W(this)?J(this):this},s.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let N=0;N<=b;N++){let k=M+(this.i(N)&65535)+(C.i(N)&65535),w=(k>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);M=w>>>16,k&=65535,w&=65535,I[N]=w<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ht(C,b){return C.add(J(b))}s.j=function(C){if($(this)||$(C))return S;if(W(this))return W(C)?J(this).j(J(C)):J(J(this).j(C));if(W(C))return J(this.j(J(C)));if(this.l(j)<0&&C.l(j)<0)return y(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var M=0;M<2*b;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<C.g.length;N++){const k=this.i(M)>>>16,w=this.i(M)&65535,ne=C.i(N)>>>16,Re=C.i(N)&65535;I[2*M+2*N]+=w*Re,vt(I,2*M+2*N),I[2*M+2*N+1]+=k*Re,vt(I,2*M+2*N+1),I[2*M+2*N+1]+=w*ne,vt(I,2*M+2*N+1),I[2*M+2*N+2]+=k*ne,vt(I,2*M+2*N+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function vt(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function dt(C,b){this.g=C,this.h=b}function Ft(C,b){if($(b))throw Error("division by zero");if($(C))return new dt(S,S);if(W(C))return b=Ft(J(C),b),new dt(J(b.g),J(b.h));if(W(b))return b=Ft(C,J(b)),new dt(J(b.g),b.h);if(C.g.length>30){if(W(C)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var I=V,M=b;M.l(C)<=0;)I=Zt(I),M=Zt(M);var N=Ut(I,1),k=Ut(M,1);for(M=Ut(M,2),I=Ut(I,2);!$(M);){var w=k.add(M);w.l(C)<=0&&(N=N.add(I),k=w),M=Ut(M,1),I=Ut(I,1)}return b=ht(C,N.j(b)),new dt(N,b)}for(N=S;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=y(I),w=k.j(b);W(w)||w.l(C)>0;)I-=M,k=y(I),w=k.j(b);$(k)&&(k=V),N=N.add(k),C=ht(C,w)}return new dt(N,C)}s.B=function(C){return Ft(this,C).h},s.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},s.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},s.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function Zt(C){const b=C.g.length+1,I=[];for(let M=0;M<b;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function Ut(C,b){const I=b>>5;b%=32;const M=C.g.length-I,N=[];for(let k=0;k<M;k++)N[k]=b>0?C.i(k+I)>>>b|C.i(k+I+1)<<32-b:C.i(k+I);return new d(N,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,mT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Fr=d}).apply(typeof gv<"u"?gv:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gT,pl,pT,kc,tm,yT,_T,vT;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var Z=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)Z[Et-2]=arguments[Et];return m.prototype[L].apply(T,Z)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function $(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let Z=0;Z<B;Z++)u[v+Z]=L[Z]}else u.push(L)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,v){const T=dt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new W(()=>new Ft,u=>u.reset());class Ft{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Zt,Ut=!1,C=new vt,b=()=>{const u=Promise.resolve(void 0);Zt=()=>{u.then(I)}};function I(){for(var u;u=ht();){try{u.h.call(u.g)}catch(v){J(v)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ut=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ne(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ne,N),ne.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),G=0;function tt(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function qt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const Z=At(u,m,T,L);return Z>-1?(m=u[Z],v||(m.fa=!1)):(m=new tt(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function gt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ut(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function At(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),Ie={};function ie(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ie(u,m[B],v,T,L);return null}return v=ho(v),u&&u[Re]?u.J(m,v,g(T)?!!T.capture:!1,L):es(u,m,v,!1,T,L)}function es(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const Z=g(L)?!!L.capture:!!L;let Et=ns(u);if(Et||(u[Vt]=Et=new rt(u)),v=Et.add(m,v,T,Z,B),v.proxy)return v;if(T=$s(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(L=Z),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(ti(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function $s(){function u(v){return m.call(u.src,u.listener,v)}const m=uo;return u}function Js(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Js(u,m[B],v,T,L);else T=g(T)?!!T.capture:!!T,v=ho(v),u&&u[Re]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=At(m,v,T,L),v>-1&&(ut(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ns(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,v,T,L)),(v=u>-1?m[u]:null)&&Zs(v))}function Zs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])gt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ti(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=ns(m))?(gt(v,u),v.h==0&&(v.src=null,m[Vt]=null)):ut(u)}}}function ti(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function uo(u,m){if(u.da)u=!0;else{m=new ne(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Zs(u),u=v.call(T,m)}return u}function ns(u){return u=u[Vt],u instanceof rt?u:null}var co="__closure_events_fn_"+(Math.random()*1e9>>>0);function ho(u){return typeof u=="function"?u:(u[co]||(u[co]=function(m){return u.handleEvent(m)}),u[co])}function me(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}S(me,M),me.prototype[Re]=!0,me.prototype.removeEventListener=function(u,m,v,T){Js(this,u,m,v,T)};function Ce(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),et(m,L)}L=!0;let B,Z;if(v)for(Z=v.length-1;Z>=0;Z--)B=m.g=v[Z],L=sr(B,T,!0,m)&&L;if(B=m.g=u,L=sr(B,T,!0,m)&&L,L=sr(B,T,!1,m)&&L,v)for(Z=0;Z<v.length;Z++)B=m.g=v[Z],L=sr(B,T,!1,m)&&L}me.prototype.N=function(){if(me.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ut(v[T]);delete u.g[m],u.h--}}this.G=null},me.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},me.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function sr(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const Z=m[B];if(Z&&!Z.da&&Z.capture==v){const Et=Z.listener,ce=Z.ha||Z.src;Z.fa&&gt(u.i,Z),L=Et.call(ce,T)!==!1&&L}}return L&&!T.defaultPrevented}function Dh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Xl(u){u.g=Dh(()=>{u.g=null,u.i&&(u.i=!1,Xl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(u){M.call(this),this.h=u,this.g={}}S(is,M);var fo=[];function mo(u){kt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Zs(m)},u),u.g={}}is.prototype.N=function(){is.Z.N.call(this),mo(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=d.JSON.stringify,Nh=d.JSON.parse,$l=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Jl(){}function Zl(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){N.call(this,"d")}S(Pe,N);function En(){N.call(this,"c")}S(En,N);var ue={},Wl=null;function Ws(){return Wl=Wl||new me}ue.Ia="serverreachability";function tu(u){N.call(this,ue.Ia,u)}S(tu,N);function ei(u){const m=Ws();Ce(m,new tu(m))}ue.STAT_EVENT="statevent";function rs(u,m){N.call(this,ue.STAT_EVENT,u),this.stat=m}S(rs,N);function ge(u){const m=Ws();Ce(m,new rs(m,u))}ue.Ja="timingevent";function ni(u,m){N.call(this,ue.Ja,u),this.size=m}S(ni,N);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function xn(){this.g=!0}xn.prototype.ua=function(){this.g=!1};function Oh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var Z="",Et=B.split("&");for(let xt=0;xt<Et.length;xt++){var ce=Et[xt].split("=");if(ce.length>1){const re=ce[0];ce=ce[1];const bn=re.split("_");Z=bn.length>=2&&bn[1]=="type"?Z+(re+"="+ce+"&"):Z+(re+"=redacted&")}}}else Z=null;else Z=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+Z})}function eu(u,m,v,T,L,B,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+Z})}function ri(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(T?" "+T:"")})}function ss(u,m){u.info(function(){return"TIMEOUT: "+m})}xn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let Z=1;Z<T.length;Z++)T[Z]=""}}}}return ar(B)}catch{return m}}var as={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},po;function os(){}S(os,Jl),os.prototype.g=function(){return new XMLHttpRequest},po=new os;function Vi(u){return encodeURIComponent(String(u))}function nu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function zn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new is(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var pe={},Me={};function si(u,m,v){u.M=1,u.A=ls(_e(m)),u.u=v,u.R=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),ai(u),u.B=_e(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ra(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Bn,u.g=yu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Je(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(fo[0]=L.toString()),L=fo);for(let B=0;B<L.length;B++){const Z=ie(v,L[B],T||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const Et=Hn(this.g),ce=this.g.ya(),xt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||xe(this.g)))){this.K||Et!=4||ce==7||(ce==8||xt<=0?ei(3):ei(2)),oi(this);var m=this.g.ca();this.X=m;var v=Mh(this);if(this.o=m==200,eu(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,ge(12),cn(this),Tn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<v.length;)if(re=ru(this,v),re==Me){Et==4&&(this.m=4,ge(14),u=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(re==pe){this.m=4,ge(15),ri(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ri(this.i,this.l,re,null),li(this,re);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||v.length!=0||this.h.h||(this.m=1,ge(16),u=!1),this.o=this.o&&u,!u)ri(this.i,this.l,v,"[Invalid Chunked Response]"),cn(this),Tn(this);else if(v.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Oo(Z),Z.P=!0,ge(11))}}else ri(this.i,this.l,v,null),li(this,v);Et==4&&cn(this),this.o&&!this.K&&(Et==4?du(this.j,this):(this.o=!1,ai(this)))}else Ui(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),cn(this),Tn(this)}}}catch{}finally{}};function Mh(u){if(!iu(u))return u.g.la();const m=xe(u.g);if(m==="")return"";let v="";const T=m.length,L=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Me:(v=Number(m.substring(v,T)),isNaN(v)?pe:(T+=1,T+v>m.length?Me:(m=m.slice(T,T+v),u.C=T+v,m)))}zn.prototype.cancel=function(){this.K=!0,cn(this)};function ai(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(y(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ss(this.i,this.B),this.M!=2&&(ei(),ge(17)),cn(this),this.m=2,Tn(this)):ea(this,this.T-u)};function Tn(u){u.j.I==0||u.K||du(u.j,u)}function cn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,mo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ci(v.h,u))){if(!u.L&&ci(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ua(v),mr(v);else break t;gs(v),ge(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(y(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else pi(v,11)}else if((u.L||v.g==u)&&ua(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let xt=L[m];const re=xt[0];if(!(re<=v.K))if(v.K=re,xt=xt[1],v.I==2)if(xt[0]=="c"){v.M=xt[1],v.ba=xt[2];const bn=xt[3];bn!=null&&(v.ka=bn,v.j.info("VER="+v.ka));const yi=xt[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Gn=xt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Fn=u.g;if(Fn){const ps=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ps){var B=T.h;B.g||ps.indexOf("spdy")==-1&&ps.indexOf("quic")==-1&&ps.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(vo(B,B.h),B.h=null))}if(T.G){const ca=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(T.wa=ca,jt(T.J,T.G,ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var Z=u;if(T.na=pu(T,T.L?T.ba:null,T.W),Z.L){Eo(T.h,Z);var Et=Z,ce=T.O;ce&&(Et.H=ce),Et.D&&(oi(Et),ai(Et)),T.g=Z}else hu(T);v.i.length>0&&gi(v)}else xt[0]!="stop"&&xt[0]!="close"||pi(v,7);else v.I==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?pi(v,7):Do(v):xt[0]!="noop"&&v.l&&v.l.qa(xt),v.A=0)}}ei(4)}catch{}}var ye=class{constructor(u,m){this.g=u,this.map=m}};function yo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _o(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vo(u,m){u.g?u.g.add(m):u.h=m}function Eo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yo.prototype.cancel=function(){if(this.i=To(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function To(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return j(u.i)}var su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,or(this,u.u),this.h=u.h,Ao(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(su))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),or(this,m[4]),this.h=hi(m[5]||"",!0),Ao(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new ur(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(us(m,ia,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(us(m,ia,!0),"@"),u.push(Vi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(us(v,v.charAt(0)=="/"?So:au,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",us(v,ou)),u.join("")},hn.prototype.resolve=function(u){const m=_e(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)or(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let Z=0;Z<L.length;){const Et=L[Z++];Et=="."?T&&Z==L.length&&B.push(""):Et==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&Z==L.length&&B.push("")):(B.push(Et),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?Ao(m,uu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function _e(u){return new hn(u)}function Ue(u,m,v){u.j=v?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function or(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ao(u,m,v){m instanceof ur?(u.i=m,sa(u.i,u.l)):(v||(m=us(m,lr)),u.i=new ur(m,u.l))}function jt(u,m,v){u.i.set(m,v)}function ls(u){return jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function us(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,tn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,au=/[#\?:]/g,So=/[#\?]/g,lr=/[#\?@]/g,ou=/#/g;function ur(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&na(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ur.prototype,s.add=function(u,m){en(this),this.i=null,u=cr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function lu(u,m){en(u),m=cr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bo(u,m){return en(u),m=cr(u,m),u.g.has(m)}s.forEach=function(u,m){en(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function wo(u,m){en(u);let v=[];if(typeof m=="string")bo(u,m)&&(v=v.concat(u.g.get(cr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return en(this),this.i=null,u=cr(this,u),bo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=wo(this,u),u.length>0?String(u[0]):m):m};function ra(u,m,v){lu(u,m),v.length>0&&(u.i=null,u.g.set(cr(u,m),j(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Vi(v);v=wo(this,v);for(let B=0;B<v.length;B++){let Z=L;v[B]!==""&&(Z+="="+Vi(v[B])),u.push(Z)}}return this.i=u.join("&")};function uu(u){const m=new ur;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function cr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function sa(u,m){m&&!u.j&&(en(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(lu(this,T),ra(this,L,v))},u)),u.j=m}function qn(u,m){const v=new xn;if(d.Image){const T=new Image;T.onload=A(An,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(An,v,"TestLoadImage: error",!1,m,T),T.onabort=A(An,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(An,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ro(u,m){const v=new xn,T=new AbortController,L=setTimeout(()=>{T.abort(),An(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?An(v,"TestPingServer: ok",!0,m):An(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),An(v,"TestPingServer: error",!1,m)})}function An(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function hr(){this.g=new $l}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(fi,Jl),fi.prototype.g=function(){return new cs(this.i,this.h)};function cs(u,m){me.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(cs,me),s=cs.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,jn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fr(this):jn(this),this.readyState==3&&aa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,fr(this))},s.Na=function(u){this.g&&(this.response=u,fr(this))},s.ga=function(){this.g&&fr(this)};function fr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return kt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function hs(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Sn(v),typeof u=="string"?v!=null&&Vi(v):jt(u,m,v))}function Qt(u){me.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Qt,me);var di=/^https?$/i,Io=["POST","PUT"];s=Qt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():po.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){fs(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Io,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Z]of v)this.g.setRequestHeader(B,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){fs(this,B)}};function fs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Co(u),Mi(u)}function Co(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ce(this,"complete"),Ce(this,"abort"),Mi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Qt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?ds(this):this.Xa())},s.Xa=function(){ds(this)};function ds(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ce(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let Z=String(u.D).match(su)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),T=!di.test(Z?Z.toLowerCase():"")}v=T}if(v)Ce(u,"complete"),Ce(u,"success");else{u.o=6;try{var L=Hn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Co(u)}}finally{Mi(u)}}}}function Mi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ce(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nh(m)}};function xe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=nu(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}qt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function dr(u){this.za=0,this.i=[],this.j=new xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yo(u&&u.concurrentRequestLimit),this.Ba=new hr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=dr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){ge(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=pu(this,null,this.W),gi(this)};function Do(u){if(oa(u),u.I==3){var m=u.V++,v=_e(u.J);if(jt(v,"SID",u.M),jt(v,"RID",m),jt(v,"TYPE","terminate"),ms(u,v),m=new zn(u,u.j,m),m.M=2,m.A=ls(_e(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}gu(u)}function mr(u){u.g&&(Oo(u),u.g.cancel(),u.g=null)}function oa(u){mr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function gi(u){if(!_o(u.h)&&!u.m){u.m=!0;var m=u.Ea;Zt||b(),Ut||(Zt(),Ut=!0),C.add(m,u),u.D=0}}function la(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(y(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new zn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=cu(this,L,m),v=_e(this.J),jt(v,"RID",u),jt(v,"CVER",22),this.G&&jt(v,"X-HTTP-Session-Id",this.G),ms(this,v),B&&(this.R?m="headers="+Vi(Sn(B))+"&"+m:this.u&&hs(v,this.u,B)),vo(this.h,L),this.Ra&&jt(v,"TYPE","init"),this.S?(jt(v,"$req",m),jt(v,"SID","null"),L.U=!0,si(L,v,null)):si(L,v,m),this.I=2}}else this.I==3&&(u?No(this,u):this.i.length==0||_o(this.h)||No(this))};function No(u,m){var v;m?v=m.l:v=u.V++;const T=_e(u.J);jt(T,"SID",u.M),jt(T,"RID",v),jt(T,"AID",u.K),ms(u,T),u.u&&u.o&&hs(T,u.u,u.o),v=new zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vo(u.h,v),si(v,T,m)}function ms(u,m){u.H&&kt(u.H,function(v,T){jt(m,T,v)}),u.l&&kt({},function(v,T){jt(m,T,v)})}function cu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Et=-1;for(;;){const ce=["count="+v];Et==-1?v>0?(Et=L[0].g,ce.push("ofs="+Et)):Et=0:ce.push("ofs="+Et);let xt=!0;for(let re=0;re<v;re++){var B=L[re].g;const bn=L[re].map;if(B-=Et,B<0)Et=Math.max(0,L[re].g-100),xt=!1;else try{B="req"+B+"_"||"";try{var Z=bn instanceof Map?bn:Object.entries(bn);for(const[yi,Gn]of Z){let Fn=Gn;g(Gn)&&(Fn=ar(Gn)),ce.push(B+yi+"="+encodeURIComponent(Fn))}}catch(yi){throw ce.push(B+"type="+encodeURIComponent("_badmap")),yi}}catch{T&&T(bn)}}if(xt){Z=ce.join("&");break t}}Z=void 0}return u=u.i.splice(0,v),m.G=u,Z}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Zt||b(),Ut||(Zt(),Ut=!0),C.add(m,u),u.A=0}}function gs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(y(u.Da,u),mu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),mr(this),fu(this))};function Oo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=_e(u.na);jt(m,"RID","rpc"),jt(m,"SID",u.M),jt(m,"AID",u.K),jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&jt(m,"TO",u.ia),jt(m,"TYPE","xmlhttp"),ms(u,m),u.u&&u.o&&hs(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ls(_e(m)),v.u=null,v.R=!0,ta(v,u)}s.Va=function(){this.C!=null&&(this.C=null,mr(this),gs(this),ge(19))};function ua(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var v=null;if(u.g==m){ua(u),Oo(u),u.g=null;var T=2}else if(ci(u.h,m))v=m.G,Eo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Ws(),Ce(T,new ni(T,v)),gi(u)}else hu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&la(u,m)||T==2&&gs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function mu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const L=!T;T=new hn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),ls(T),L?qn(T.toString(),v):Ro(T.toString(),v)}else ge(2);u.I=0,u.l&&u.l.pa(m),gu(u),oa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function gu(u){if(u.I=0,u.ja=[],u.l){const m=To(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function pu(u,m,v){var T=v instanceof hn?_e(v):new hn(v);if(T.g!="")m&&(T.g=m+"."+T.g),or(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new hn(null);T&&Ue(B,T),m&&(B.g=m),L&&or(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&jt(T,v,m),jt(T,"VER",u.ka),ms(u,T),T}function yu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Qt(new fi({ab:v})):new Qt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}s=_u.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function gr(){}gr.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){me.call(this),this.g=new dr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ki(this)}S(Ze,me),Ze.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Do(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ar(u),u=v);m.i.push(new ye(m.Ya++,u)),m.I==3&&gi(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,Ze.Z.N.call(this)};function vu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(vu,Pe);function Eu(){En.call(this),this.status=1}S(Eu,En);function ki(u){this.g=u}S(ki,_u),ki.prototype.ra=function(){Ce(this.g,"a")},ki.prototype.qa=function(u){Ce(this.g,new vu(u))},ki.prototype.pa=function(u){Ce(this.g,new Eu)},ki.prototype.oa=function(){Ce(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,vT=function(){return new gr},_T=function(){return Ws()},yT=ue,tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},as.NO_ERROR=0,as.TIMEOUT=8,as.HTTP_ERROR=6,kc=as,go.COMPLETE="complete",pT=go,Zl.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",me.prototype.listen=me.prototype.J,pl=Zl,Qt.prototype.listenOnce=Qt.prototype.K,Qt.prototype.getLastError=Qt.prototype.Ha,Qt.prototype.getLastErrorCode=Qt.prototype.ya,Qt.prototype.getStatus=Qt.prototype.ca,Qt.prototype.getResponseJson=Qt.prototype.La,Qt.prototype.getResponseText=Qt.prototype.la,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Fa,gT=Qt}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const pv="@firebase/firestore",yv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new ch("@firebase/firestore");function Ba(){return qs.logLevel}function it(s,...t){if(qs.logLevel<=Ct.DEBUG){const i=t.map(Nm);qs.debug(`Firestore (${ro}): ${s}`,...i)}}function ir(s,...t){if(qs.logLevel<=Ct.ERROR){const i=t.map(Nm);qs.error(`Firestore (${ro}): ${s}`,...i)}}function Ja(s,...t){if(qs.logLevel<=Ct.WARN){const i=t.map(Nm);qs.warn(`Firestore (${ro}): ${s}`,...i)}}function Nm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,ET(s,r,i)}function ET(s,t,i){let r=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ir(r),new Error(r)}function Bt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||ET(t,l,r)}function _t(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends Oi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class RR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class IR{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Bt(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new Ls;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ls,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ls)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt(typeof r.accessToken=="string",31837,{l:r}),new TT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Bt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class CR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new CR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _v{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Bt(this.o===void 0,3512);const r=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _v(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Bt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new _v(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=OR(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Dt(s,t){return s<t?-1:s>t?1:0}function em(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return qd(l)===qd(c)?Dt(l,c):qd(l)?1:-1}return Dt(s.length,t.length)}const VR=55296,MR=57343;function qd(s){const t=s.charCodeAt(0);return t>=VR&&t<=MR}function Za(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="__name__";class Ai{constructor(t,i,r){i===void 0?i=0:i>t.length&&ft(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&ft(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Ai.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ai?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Ai.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Dt(t.length,i.length)}static compareSegments(t,i){const r=Ai.isNumericId(t),l=Ai.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ai.extractNumericId(t).compare(Ai.extractNumericId(i)):em(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Fr.fromString(t.substring(4,t.length-2))}}class Jt extends Ai{construct(t,i,r){return new Jt(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new nt(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new Jt(i)}static emptyPath(){return new Jt([])}}const UR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Ai{construct(t,i,r){return new Ge(t,i,r)}static isValidIdentifier(t){return UR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vv}static keyField(){return new Ge([vv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new nt(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new nt(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new nt(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new nt(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(t){this.path=t}static fromPath(t){return new lt(Jt.fromString(t))}static fromName(t){return new lt(Jt.fromString(t).popFirst(5))}static empty(){return new lt(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Jt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new lt(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(s,t,i){if(!i)throw new nt(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function kR(s,t,i,r){if(t===!0&&r===!0)throw new nt(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Ev(s){if(!lt.isDocumentKey(s))throw new nt(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Tv(s){if(lt.isDocumentKey(s))throw new nt(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ST(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function gh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":ft(12329,{type:typeof s})}function Al(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new nt(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=gh(s);throw new nt(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(s,t){const i={typeString:s};return t&&(i.value=t),i}function Gl(s,t){if(!ST(s))throw new nt(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new nt(Y.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=-62135596800,Sv=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Sv);return new ee(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new nt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new nt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Av)throw new nt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sv}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gl(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Av;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:we("string",ee._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(t){return new pt(t)}static min(){return new pt(new ee(0,0))}static max(){return new pt(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=-1;function LR(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=pt.fromTimestamp(r===1e9?new ee(i+1,0):new ee(i,r));return new Xr(l,lt.empty(),t)}function PR(s){return new Xr(s.readTime,s.key,Nl)}class Xr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Xr(pt.min(),lt.empty(),Nl)}static max(){return new Xr(pt.max(),lt.empty(),Nl)}}function xR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=lt.comparator(s.documentKey,t.documentKey),i!==0?i:Dt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==zR)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,r)=>{i(t)}))}static reject(t){return new X(((i,r)=>{r(t)}))}static waitFor(t){return new X(((i,r)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const r of t)i=i.next((l=>l?X.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new X(((r,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++g,g===c&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function qR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ao(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ph.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=-1;function yh(s){return s==null}function Jc(s){return s===0&&1/s==-1/0}function jR(s){return typeof s=="number"&&Number.isInteger(s)&&!Jc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="";function HR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=bv(t)),t=GR(s.get(i),t);return bv(t)}function GR(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case bT:i+="";break;default:i+=c}}return i}function bv(s){return s+bT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Fs(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function wT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new ae(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rc(this.root,t,this.comparator,!0)}}class Rc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??He.RED,this.left=l??He.EMPTY,this.right=c??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new He(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return He.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ft(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ft(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw ft(57766)}get value(){throw ft(16141)}get color(){throw ft(16727)}get left(){throw ft(29726)}get right(){throw ft(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Rv(this.data.getIterator())}getIteratorFrom(t){return new Rv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class Rv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Jn([])}unionWith(t){let i=new Ve(Ge.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Jn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new RT("Invalid base64 string: "+c):c}})(t);return new Fe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Fe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const FR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(s){if(Bt(!!s,39018),typeof s=="string"){let t=0;const i=FR.exec(s);if(Bt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:de(s.seconds),nanos:de(s.nanos)}}function de(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Jr(s){return typeof s=="string"?Fe.fromBase64String(s):Fe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="server_timestamp",CT="__type__",DT="__previous_value__",NT="__local_write_time__";function Mm(s){return(s?.mapValue?.fields||{})[CT]?.stringValue===IT}function _h(s){const t=s.mapValue.fields[DT];return Mm(t)?_h(t):t}function Ol(s){const t=$r(s.mapValue.fields[NT].timestampValue);return new ee(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(t,i,r,l,c,d,g,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const Zc="(default)";class Vl{constructor(t,i){this.projectId=t,this.database=i||Zc}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(t){return t instanceof Vl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="__type__",KR="__max__",Ic={mapValue:{}},VT="__vector__",Wc="value";function Zr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Mm(s)?4:XR(s)?9007199254740991:YR(s)?10:11:ft(28295,{value:s})}function Ni(s,t){if(s===t)return!0;const i=Zr(s);if(i!==Zr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ol(s).isEqual(Ol(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=$r(l.timestampValue),g=$r(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Jr(l.bytesValue).isEqual(Jr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return de(l.geoPointValue.latitude)===de(c.geoPointValue.latitude)&&de(l.geoPointValue.longitude)===de(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return de(l.integerValue)===de(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=de(l.doubleValue),g=de(c.doubleValue);return d===g?Jc(d)===Jc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return Za(s.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(wv(d)!==wv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Ni(d[_],g[_])))return!1;return!0})(s,t);default:return ft(52216,{left:s})}}function Ml(s,t){return(s.values||[]).find((i=>Ni(i,t)))!==void 0}function Wa(s,t){if(s===t)return 0;const i=Zr(s),r=Zr(t);if(i!==r)return Dt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=de(c.integerValue||c.doubleValue),_=de(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,t);case 3:return Iv(s.timestampValue,t.timestampValue);case 4:return Iv(Ol(s),Ol(t));case 5:return em(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=Jr(c),_=Jr(d);return g.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const A=Dt(g[y],_[y]);if(A!==0)return A}return Dt(g.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Dt(de(c.latitude),de(d.latitude));return g!==0?g:Dt(de(c.longitude),de(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Cv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[Wc]?.arrayValue,A=_[Wc]?.arrayValue,S=Dt(y?.values?.length||0,A?.values?.length||0);return S!==0?S:Cv(y,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let S=0;S<_.length&&S<A.length;++S){const V=em(_[S],A[S]);if(V!==0)return V;const j=Wa(g[_[S]],y[A[S]]);if(j!==0)return j}return Dt(_.length,A.length)})(s.mapValue,t.mapValue);default:throw ft(23264,{he:i})}}function Iv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Dt(s,t);const i=$r(s),r=$r(t),l=Dt(i.seconds,r.seconds);return l!==0?l:Dt(i.nanos,r.nanos)}function Cv(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=Wa(i[l],r[l]);if(c)return c}return Dt(i.length,r.length)}function to(s){return nm(s)}function nm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=$r(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Jr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return lt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=nm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${nm(i.fields[d])}`;return l+"}"})(s.mapValue):ft(61005,{value:s})}function Lc(s){switch(Zr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_h(s);return t?16+Lc(t):16;case 5:return 2*s.stringValue.length;case 6:return Jr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Lc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Fs(r.fields,((c,d)=>{l+=c.length+Lc(d)})),l})(s.mapValue);default:throw ft(13486,{value:s})}}function Dv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function im(s){return!!s&&"integerValue"in s}function Um(s){return!!s&&"arrayValue"in s}function Nv(s){return!!s&&"nullValue"in s}function Ov(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Pc(s){return!!s&&"mapValue"in s}function YR(s){return(s?.mapValue?.fields||{})[OT]?.stringValue===VT}function Sl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Fs(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Sl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Sl(s.arrayValue.values[i]);return t}return{...s}}function XR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===KR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Pc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sl(i)}setAll(t){let i=Ge.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=Sl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Pc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){Fs(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new Un(Sl(this.value))}}function MT(s){const t=[];return Fs(s.fields,((i,r)=>{const l=new Ge([i]);if(Pc(r)){const c=MT(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,i,r,l,c,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Xe(t,0,pt.min(),pt.min(),pt.min(),Un.empty(),0)}static newFoundDocument(t,i,r,l){return new Xe(t,1,i,pt.min(),r,l,0)}static newNoDocument(t,i){return new Xe(t,2,i,pt.min(),pt.min(),Un.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,pt.min(),pt.min(),Un.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,i){this.position=t,this.inclusive=i}}function Vv(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=lt.comparator(lt.fromName(d.referenceValue),i.key):r=Wa(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ni(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,i="asc"){this.field=t,this.dir=i}}function $R(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{}class be extends UT{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new ZR(t,i,r):i==="array-contains"?new eI(t,r):i==="in"?new nI(t,r):i==="not-in"?new iI(t,r):i==="array-contains-any"?new rI(t,r):new be(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new WR(t,r):new tI(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&Zr(this.value)===Zr(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends UT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Wn(t,i)}matches(t){return kT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kT(s){return s.op==="and"}function LT(s){return JR(s)&&kT(s)}function JR(s){for(const t of s.filters)if(t instanceof Wn)return!1;return!0}function rm(s){if(s instanceof be)return s.field.canonicalString()+s.op.toString()+to(s.value);if(LT(s))return s.filters.map((t=>rm(t))).join(",");{const t=s.filters.map((i=>rm(i))).join(",");return`${s.op}(${t})`}}function PT(s,t){return s instanceof be?(function(r,l){return l instanceof be&&r.op===l.op&&r.field.isEqual(l.field)&&Ni(r.value,l.value)})(s,t):s instanceof Wn?(function(r,l){return l instanceof Wn&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&PT(d,l.filters[g])),!0):!1})(s,t):void ft(19439)}function xT(s){return s instanceof be?(function(i){return`${i.field.canonicalString()} ${i.op} ${to(i.value)}`})(s):s instanceof Wn?(function(i){return i.op.toString()+" {"+i.getFilters().map(xT).join(" ,")+"}"})(s):"Filter"}class ZR extends be{constructor(t,i,r){super(t,i,r),this.key=lt.fromName(r.referenceValue)}matches(t){const i=lt.comparator(t.key,this.key);return this.matchesComparison(i)}}class WR extends be{constructor(t,i){super(t,"in",i),this.keys=zT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class tI extends be{constructor(t,i){super(t,"not-in",i),this.keys=zT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function zT(s,t){return(t.arrayValue?.values||[]).map((i=>lt.fromName(i.referenceValue)))}class eI extends be{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Um(i)&&Ml(i.arrayValue,this.value)}}class nI extends be{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ml(this.value.arrayValue,i)}}class iI extends be{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ml(this.value.arrayValue,i)}}class rI extends be{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Um(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Ml(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t,i=null,r=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Uv(s,t=null,i=[],r=[],l=null,c=null,d=null){return new sI(s,t,i,r,l,c,d)}function km(s){const t=_t(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>rm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),yh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>to(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>to(r))).join(",")),t.Te=i}return t.Te}function Lm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!$R(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!PT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Mv(s.startAt,t.startAt)&&Mv(s.endAt,t.endAt)}function sm(s){return lt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t,i=null,r=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aI(s,t,i,r,l,c,d,g){return new oo(s,t,i,r,l,c,d,g)}function Pm(s){return new oo(s)}function kv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function BT(s){return s.collectionGroup!==null}function bl(s){const t=_t(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ve(Ge.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Ul(c,r))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new Ul(Ge.keyField(),r))}return t.Ie}function wi(s){const t=_t(s);return t.Ee||(t.Ee=oI(t,bl(s))),t.Ee}function oI(s,t){if(s.limitType==="F")return Uv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Ul(l.field,c)}));const i=s.endAt?new th(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new th(s.startAt.position,s.startAt.inclusive):null;return Uv(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function am(s,t){const i=s.filters.concat([t]);return new oo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function om(s,t,i){return new oo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function vh(s,t){return Lm(wi(s),wi(t))&&s.limitType===t.limitType}function qT(s){return`${km(wi(s))}|lt:${s.limitType}`}function qa(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>xT(l))).join(", ")}]`),yh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>to(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>to(l))).join(",")),`Target(${r})`})(wi(s))}; limitType=${s.limitType})`}function Eh(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):lt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of bl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,_){const y=Vv(d,g,_);return d.inclusive?y<=0:y<0})(r.startAt,bl(r),l)||r.endAt&&!(function(d,g,_){const y=Vv(d,g,_);return d.inclusive?y>=0:y>0})(r.endAt,bl(r),l))})(s,t)}function lI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function jT(s){return(t,i)=>{let r=!1;for(const l of bl(s)){const c=uI(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function uI(s,t,i){const r=s.field.isKeyField()?lt.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?Wa(_,y):ft(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ft(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Fs(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return wT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=new ae(lt.comparator);function rr(){return cI}const HT=new ae(lt.comparator);function yl(...s){let t=HT;for(const i of s)t=t.insert(i.key,i);return t}function GT(s){let t=HT;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Us(){return wl()}function FT(){return wl()}function wl(){return new Qs((s=>s.toString()),((s,t)=>s.isEqual(t)))}const hI=new ae(lt.comparator),fI=new Ve(lt.comparator);function Nt(...s){let t=fI;for(const i of s)t=t.add(i);return t}const dI=new Ve(Dt);function mI(){return dI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(t)?"-0":t}}function QT(s){return{integerValue:""+s}}function gI(s,t){return jR(t)?QT(t):xm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this._=void 0}}function pI(s,t,i){return s instanceof kl?(function(l,c){const d={fields:{[CT]:{stringValue:IT},[NT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Mm(c)&&(c=_h(c)),c&&(d.fields[DT]=c),{mapValue:d}})(i,t):s instanceof Ll?YT(s,t):s instanceof Pl?XT(s,t):(function(l,c){const d=KT(l,c),g=Lv(d)+Lv(l.Ae);return im(d)&&im(l.Ae)?QT(g):xm(l.serializer,g)})(s,t)}function yI(s,t,i){return s instanceof Ll?YT(s,t):s instanceof Pl?XT(s,t):i}function KT(s,t){return s instanceof eh?(function(r){return im(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class kl extends Th{}class Ll extends Th{constructor(t){super(),this.elements=t}}function YT(s,t){const i=$T(t);for(const r of s.elements)i.some((l=>Ni(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Pl extends Th{constructor(t){super(),this.elements=t}}function XT(s,t){let i=$T(t);for(const r of s.elements)i=i.filter((l=>!Ni(l,r)));return{arrayValue:{values:i}}}class eh extends Th{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Lv(s){return de(s.integerValue||s.doubleValue)}function $T(s){return Um(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t,i){this.field=t,this.transform=i}}function vI(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Ll&&l instanceof Ll||r instanceof Pl&&l instanceof Pl?Za(r.elements,l.elements,Ni):r instanceof eh&&l instanceof eh?Ni(r.Ae,l.Ae):r instanceof kl&&l instanceof kl})(s.transform,t.transform)}class EI{constructor(t,i){this.version=t,this.transformResults=i}}class tr{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new tr}static exists(t){return new tr(void 0,t)}static updateTime(t){return new tr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Ah{}function JT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new WT(s.key,tr.none()):new Fl(s.key,s.data,tr.none());{const i=s.data,r=Un.empty();let l=new Ve(Ge.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Ks(s.key,r,new Jn(l.toArray()),tr.none())}}function TI(s,t,i){s instanceof Fl?(function(l,c,d){const g=l.value.clone(),_=xv(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof Ks?(function(l,c,d){if(!xc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=xv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(ZT(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Rl(s,t,i,r){return s instanceof Fl?(function(c,d,g,_){if(!xc(c.precondition,d))return g;const y=c.value.clone(),A=zv(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,r):s instanceof Ks?(function(c,d,g,_){if(!xc(c.precondition,d))return g;const y=zv(c.fieldTransforms,_,d),A=d.data;return A.setAll(ZT(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,r):(function(c,d,g){return xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function AI(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=KT(r.transform,l||null);c!=null&&(i===null&&(i=Un.empty()),i.set(r.field,c))}return i||null}function Pv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Za(r,l,((c,d)=>vI(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Fl extends Ah{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ks extends Ah{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ZT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function xv(s,t,i){const r=new Map;Bt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);r.set(c.field,yI(d,g,i[l]))}return r}function zv(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,pI(c,d,t))}return r}class WT extends Ah{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SI extends Ah{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&TI(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Rl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Rl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=FT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=JT(d,g);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(pt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Nt())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,r)=>Pv(i,r)))&&Za(this.baseMutations,t.baseMutations,((i,r)=>Pv(i,r)))}}class zm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Bt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return hI})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new zm(t,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,Mt;function II(s){switch(s){case Y.OK:return ft(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ft(15467,{code:s})}}function t0(s){if(s===void 0)return ir("GRPC error has no .code"),Y.UNKNOWN;switch(s){case Se.OK:return Y.OK;case Se.CANCELLED:return Y.CANCELLED;case Se.UNKNOWN:return Y.UNKNOWN;case Se.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Se.INTERNAL:return Y.INTERNAL;case Se.UNAVAILABLE:return Y.UNAVAILABLE;case Se.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Se.NOT_FOUND:return Y.NOT_FOUND;case Se.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Se.ABORTED:return Y.ABORTED;case Se.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Se.DATA_LOSS:return Y.DATA_LOSS;default:return ft(39323,{code:s})}}(Mt=Se||(Se={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new Fr([4294967295,4294967295],0);function Bv(s){const t=CI().encode(s),i=new mT;return i.update(t),new Uint8Array(i.digest())}function qv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Fr([i,r],0),new Fr([l,c],0)]}class Bm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new _l(`Invalid padding: ${i}`);if(r<0)throw new _l(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new _l(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Fr.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Fr.fromNumber(r)));return l.compare(DI)===1&&(l=new Fr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Bv(t),[r,l]=qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Bm(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Bv(t),[r,l]=qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Sh(pt.min(),l,new ae(Dt),rr(),Nt())}}class Ql{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Ql(r,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class e0{constructor(t,i){this.targetId=t,this.Ce=i}}class n0{constructor(t,i,r=Fe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class jv{constructor(){this.ve=0,this.Fe=Hv(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Nt(),i=Nt(),r=Nt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:ft(38017,{changeType:c})}})),new Ql(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=Hv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NI{constructor(t){this.Ge=t,this.ze=new Map,this.je=rr(),this.Je=Cc(),this.He=Cc(),this.Ye=new ae(Dt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:ft(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(sm(c))if(r===0){const d=new lt(c.path);this.et(i,d,Xe.newNoDocument(d,pt.min()))}else Bt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Jr(r).toUint8Array()}catch(_){if(_ instanceof RT)return Ja("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Bm(d,l,c)}catch(_){return Ja(_ instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&sm(g.target)){const _=new lt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Xe.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Nt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Sh(t,i,this.Ye,this.je,r);return this.je=rr(),this.Je=Cc(),this.He=Cc(),this.Ye=new ae(Dt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new jv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Dt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Dt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new jv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Cc(){return new ae(lt.comparator)}function Hv(){return new ae(lt.comparator)}const OI={asc:"ASCENDING",desc:"DESCENDING"},VI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MI={and:"AND",or:"OR"};class UI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lm(s,t){return s.useProto3Json||yh(t)?t:{value:t}}function nh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function i0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function kI(s,t){return nh(s,t.toTimestamp())}function Ri(s){return Bt(!!s,49232),pt.fromTimestamp((function(i){const r=$r(i);return new ee(r.seconds,r.nanos)})(s))}function qm(s,t){return um(s,t).canonicalString()}function um(s,t){const i=(function(l){return new Jt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function r0(s){const t=Jt.fromString(s);return Bt(u0(t),10190,{key:t.toString()}),t}function cm(s,t){return qm(s.databaseId,t.path)}function jd(s,t){const i=r0(t);if(i.get(1)!==s.databaseId.projectId)throw new nt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new nt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new lt(a0(i))}function s0(s,t){return qm(s.databaseId,t)}function LI(s){const t=r0(s);return t.length===4?Jt.emptyPath():a0(t)}function hm(s){return new Jt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function a0(s){return Bt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Gv(s,t,i){return{name:cm(s,t),fields:i.value.mapValue.fields}}function PI(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ft(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Bt(A===void 0||typeof A=="string",58123),Fe.fromBase64String(A||"")):(Bt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fe.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const A=y.code===void 0?Y.UNKNOWN:t0(y.code);return new nt(A,y.message||"")})(d);i=new n0(r,l,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=jd(s,r.document.name),c=Ri(r.document.updateTime),d=r.document.createTime?Ri(r.document.createTime):pt.min(),g=new Un({mapValue:{fields:r.document.fields}}),_=Xe.newFoundDocument(l,c,d,g),y=r.targetIds||[],A=r.removedTargetIds||[];i=new zc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=jd(s,r.document),c=r.readTime?Ri(r.readTime):pt.min(),d=Xe.newNoDocument(l,c),g=r.removedTargetIds||[];i=new zc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=jd(s,r.document),c=r.removedTargetIds||[];i=new zc([],c,l,null)}else{if(!("filter"in t))return ft(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new RI(l,c),g=r.targetId;i=new e0(g,d)}}return i}function xI(s,t){let i;if(t instanceof Fl)i={update:Gv(s,t.key,t.value)};else if(t instanceof WT)i={delete:cm(s,t.key)};else if(t instanceof Ks)i={update:Gv(s,t.key,t.data),updateMask:KI(t.fieldMask)};else{if(!(t instanceof SI))return ft(16599,{Vt:t.type});i={verify:cm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof kl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ll)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Pl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof eh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ft(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:kI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ft(27497)})(s,t.precondition)),i}function zI(s,t){return s&&s.length>0?(Bt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ri(l.updateTime):Ri(c);return d.isEqual(pt.min())&&(d=Ri(c)),new EI(d,l.transformResults||[])})(i,t)))):[]}function BI(s,t){return{documents:[s0(s,t.path)]}}function qI(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=s0(s,l);const c=(function(y){if(y.length!==0)return l0(Wn.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(V){return{field:ja(V.field),direction:GI(V.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=lm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function jI(s){let t=LI(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Bt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const V=o0(S);return V instanceof Wn&&LT(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((V=>(function($){return new Ul(Ha($.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let V;return V=typeof S=="object"?S.value:S,yh(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(S){const V=!!S.before,j=S.values||[];return new th(j,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const V=!S.before,j=S.values||[];return new th(j,V)})(i.endAt)),aI(t,l,d,c,g,"F",_,y)}function HI(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function o0(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ha(i.unaryFilter.field);return be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ha(i.unaryFilter.field);return be.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ha(i.unaryFilter.field);return be.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ha(i.unaryFilter.field);return be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ft(61313);default:return ft(60726)}})(s):s.fieldFilter!==void 0?(function(i){return be.create(Ha(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ft(58110);default:return ft(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Wn.create(i.compositeFilter.filters.map((r=>o0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ft(1026)}})(i.compositeFilter.op))})(s):ft(30097,{filter:s})}function GI(s){return OI[s]}function FI(s){return VI[s]}function QI(s){return MI[s]}function ja(s){return{fieldPath:s.canonicalString()}}function Ha(s){return Ge.fromServerFormat(s.fieldPath)}function l0(s){return s instanceof be?(function(i){if(i.op==="=="){if(Ov(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NAN"}};if(Nv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ov(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NAN"}};if(Nv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(i.field),op:FI(i.op),value:i.value}}})(s):s instanceof Wn?(function(i){const r=i.getFilters().map((l=>l0(l)));return r.length===1?r[0]:{compositeFilter:{op:QI(i.op),filters:r}}})(s):ft(54877,{filter:s})}function KI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function u0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(t,i,r,l,c=pt.min(),d=pt.min(),g=Fe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new jr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t){this.yt=t}}function XI(s){const t=jI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?om(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.Cn=new JI}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Xr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Xr.min())}updateCollectionGroup(t,i,r){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class JI{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Ve(Jt.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Ve(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},c0=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(c0,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new eo(0)}static cr(){return new eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="LruGarbageCollector",ZI=1048576;function Kv([s,t],[i,r]){const l=Dt(s,i);return l===0?Dt(t,r):l}class WI{constructor(t){this.Ir=t,this.buffer=new Ve(Kv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Kv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class tC{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(Qv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ao(i)?it(Qv,"Ignoring IndexedDB error during garbage collection: ",i):await so(i)}await this.Vr(3e5)}))}}class eC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(ph.ce);const r=new WI(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Fv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,g,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(r=S,g=Date.now(),this.removeTargets(t,r,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(y=Date.now(),Ba()<=Ct.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function nC(s,t){return new eC(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.changes=new Qs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Rl(r.mutation,l,Jn.empty(),ee.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Nt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Nt()){const l=Us();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=yl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Us();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Nt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,l){let c=rr();const d=wl(),g=(function(){return wl()})();return i.forEach(((_,y)=>{const A=r.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof Ks)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Rl(A.mutation,y,A.mutation.getFieldMask(),ee.now())):d.set(y.key,Jn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>g.set(y,new rC(A,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=wl();let l=new ae(((d,g)=>d-g)),c=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=r.get(_)||Jn.empty();A=g.applyToLocalView(y,A),r.set(_,A);const S=(l.get(g.batchId)||Nt()).add(_);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,A=_.value,S=FT();A.forEach((V=>{if(!c.has(V)){const j=JT(i.get(V),r.get(V));j!==null&&S.set(V,j),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return lt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):BT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):X.resolve(Us());let g=Nl,_=c;return d.next((y=>X.forEach(y,((A,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((V=>{_=_.insert(A,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Nt()))).next((A=>({batchId:g,changes:GT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new lt(i)).next((r=>{let l=yl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=yl();return this.indexManager.getCollectionParents(t,c).next((g=>X.forEach(g,(_=>{const y=(function(S,V){return new oo(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((A=>{A.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let g=yl();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Rl(A.mutation,y,Jn.empty(),ee.now()),Eh(i,y)&&(g=g.insert(_,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ri(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:XI(l.bundledQuery),readTime:Ri(l.readTime)}})(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.overlays=new ae(lt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Us();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(t,i,r){const l=Us(),c=i.length+1,d=new lt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new ae(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let A=c.get(y.largestBatchId);A===null&&(A=Us(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const g=Us(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>g.set(y,A))),!(g.size()>=l)););return X.resolve(g)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new wI(i,r));let c=this.qr.get(i);c===void 0&&(c=Nt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(){this.Qr=new Ve(Le.$r),this.Ur=new Ve(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Le(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new lt(new Jt([])),r=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new lt(new Jt([])),r=new Le(i,t),l=new Le(i,t+1);let c=Nt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return lt.comparator(t.key,i.key)||Dt(t.Yr,i.Yr)}static Kr(t,i){return Dt(t.Yr,i.Yr)||lt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Le.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new bI(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Le(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Vm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Ve(Dt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;lt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new lt(c),0);let g=new Ve(Dt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Bt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Le(i,0),l=this.Zr.firstAfterOrEqual(r);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t){this.ri=t,this.docs=(function(){return new ae(lt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let r=rr();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Xe.newInvalidDocument(l))})),X.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=rr();const d=i.path,g=new lt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||xR(PR(A),r)<=0||(l.has(A.key)||Eh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,r,l){ft(9500)}ii(t,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new hC(this)}getSize(t){return X.resolve(this.size)}}class hC extends iC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(t){this.persistence=t,this.si=new Qs((i=>km(i)),Lm),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.oi=0,this._i=new jm,this.targetCount=0,this.ai=eo.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new eo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return X.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),X.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return X.resolve(r)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(t,i){this.ui={},this.overlays={},this.ci=new ph(0),this.li=!1,this.li=!0,this.hi=new lC,this.referenceDelegate=t(this),this.Pi=new fC(this),this.indexManager=new $I,this.remoteDocumentCache=(function(l){return new cC(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new YI(i),this.Ii=new aC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new oC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new uC(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){it("MemoryPersistence","Starting transaction:",t);const l=new dC(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class dC extends BR{constructor(t){super(),this.currentSequenceNumber=t}}class Hm{constructor(t){this.persistence=t,this.Ri=new jm,this.Vi=null}static mi(t){return new Hm(t)}get fi(){if(this.Vi)return this.Vi;throw ft(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),X.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const l=lt.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,pt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class ih{constructor(t,i){this.persistence=t,this.pi=new Qs((r=>HR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=nC(this,i)}static mi(t,i){return new ih(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(r++,c.removeEntry(d,pt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),X.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Lc(t.data.value)),i}br(t,i,r){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Nt(),l=Nt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Gm(t,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return WS()?8:qR($e())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new mC;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Ba()<=Ct.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ba()<=Ct.DEBUG&&it("QueryEngine","Query:",qa(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ba()<=Ct.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wi(i))):X.resolve())}ys(t,i){if(kv(i))return X.resolve(null);let r=wi(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=om(i,null,"F"),r=wi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Nt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(t,om(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,r,l){return kv(i)||l.isEqual(pt.min())?X.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?X.resolve(null):(Ba()<=Ct.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),qa(i)),this.vs(t,d,i,LR(l,Nl)).next((g=>g)))}))}Ds(t,i){let r=new Ve(jT(t));return i.forEach(((l,c)=>{Eh(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return Ba()<=Ct.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",qa(i)),this.ps.getDocumentsMatchingQuery(t,i,Xr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="LocalStore",pC=3e8;class yC{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ae(Dt),this.xs=new Qs((c=>km(c)),Lm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function _C(s,t,i,r){return new yC(s,t,i,r)}async function f0(s,t){const i=_t(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let _=Nt();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){g.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function vC(s,t){const i=_t(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,A){const S=y.batch,V=S.keys();let j=X.resolve();return V.forEach(($=>{j=j.next((()=>A.getEntry(_,$))).next((W=>{const J=y.docVersions.get($);Bt(J!==null,48541),W.version.compareTo(J)<0&&(S.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),A.addEntry(W)))}))})),j.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=Nt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function d0(s){const t=_t(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function EC(s,t){const i=_t(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((A,S)=>{const V=l.get(S);if(!V)return;g.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let j=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?j=j.withResumeToken(Fe.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,r)),l=l.insert(S,j),(function(W,J,ht){return W.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=pC?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(V,j,A)&&g.push(i.Pi.updateTargetData(c,j))}));let _=rr(),y=Nt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(TC(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!r.isEqual(pt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(A)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function TC(s,t,i){let r=Nt(),l=Nt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=rr();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(pt.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):it(Fm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function AC(s,t){const i=_t(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Vm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function SC(s,t){const i=_t(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new jr(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function fm(s,t,i){const r=_t(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ao(d))throw d;it(Fm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function Yv(s,t,i){const r=_t(s);let l=pt.min(),c=Nt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const S=_t(_),V=S.xs.get(A);return V!==void 0?X.resolve(S.Ms.get(V)):S.Pi.getTargetData(y,A)})(r,d,wi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:pt.min(),i?c:Nt()))).next((g=>(bC(r,lI(t),g),{documents:g,Qs:c})))))}function bC(s,t,i){let r=s.Os.get(t)||pt.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class Xv{constructor(){this.activeTargetIds=mI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wC{constructor(){this.Mo=new Xv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Xv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="ConnectivityMonitor";class Jv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it($v,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it($v,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc=null;function dm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="RestConnection",IC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Zc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=dm(),g=this.zo(t,i.toUriEncodedString());it(Hd,`Sending RPC '${t}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(g),A=Hs(y);return this.Jo(t,g,_,r,A).then((S=>(it(Hd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Ja(Hd,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",r),S}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=IC[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class NC extends CC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=dm();return new Promise(((g,_)=>{const y=new gT;y.setWithCredentials(!0),y.listenOnce(pT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case kc.NO_ERROR:const S=y.getResponseJson();it(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case kc.TIMEOUT:it(Ke,`RPC '${t}' ${d} timed out`),_(new nt(Y.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const V=y.getStatus();if(it(Ke,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const $=j?.error;if($&&$.status&&$.message){const W=(function(ht){const vt=ht.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(vt)>=0?vt:Y.UNKNOWN})($.status);_(new nt(W,$.message))}else _(new nt(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new nt(Y.UNAVAILABLE,"Connection failed."));break;default:ft(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{it(Ke,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);it(Ke,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=dm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=vT(),g=_T(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const A=c.join("");it(Ke,`Creating RPC '${t}' stream ${l}: ${A}`,_);const S=d.createWebChannel(A,_);this.I_(S);let V=!1,j=!1;const $=new DC({Yo:J=>{j?it(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(V||(it(Ke,`Opening RPC '${t}' stream ${l} transport.`),S.open(),V=!0),it(Ke,`RPC '${t}' stream ${l} sending:`,J),S.send(J))},Zo:()=>S.close()}),W=(J,ht,vt)=>{J.listen(ht,(dt=>{try{vt(dt)}catch(Ft){setTimeout((()=>{throw Ft}),0)}}))};return W(S,pl.EventType.OPEN,(()=>{j||(it(Ke,`RPC '${t}' stream ${l} transport opened.`),$.o_())})),W(S,pl.EventType.CLOSE,(()=>{j||(j=!0,it(Ke,`RPC '${t}' stream ${l} transport closed`),$.a_(),this.E_(S))})),W(S,pl.EventType.ERROR,(J=>{j||(j=!0,Ja(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),$.a_(new nt(Y.UNAVAILABLE,"The operation could not be completed")))})),W(S,pl.EventType.MESSAGE,(J=>{if(!j){const ht=J.data[0];Bt(!!ht,16349);const vt=ht,dt=vt?.error||vt[0]?.error;if(dt){it(Ke,`RPC '${t}' stream ${l} received error:`,dt);const Ft=dt.status;let Zt=(function(b){const I=Se[b];if(I!==void 0)return t0(I)})(Ft),Ut=dt.message;Zt===void 0&&(Zt=Y.INTERNAL,Ut="Unknown error status: "+Ft+" with message "+dt.message),j=!0,$.a_(new nt(Zt,Ut)),S.close()}else it(Ke,`RPC '${t}' stream ${l} received:`,ht),$.u_(ht)}})),W(g,yT.STAT_EVENT,(J=>{J.stat===tm.PROXY?it(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===tm.NOPROXY&&it(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(s){return new UI(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="PersistentStream";class g0{constructor(t,i,r,l,c,d,g,_){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new m0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(ir(i.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new nt(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(Zv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(Zv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OC extends g0{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=PI(this.serializer,t),r=(function(c){if(!("targetChange"in c))return pt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?pt.min():d.readTime?Ri(d.readTime):pt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=sm(_)?{documents:BI(c,_)}:{query:qI(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=i0(c,d.resumeToken);const y=lm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(pt.min())>0){g.readTime=nh(c,d.snapshotVersion.toTimestamp());const y=lm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const r=HI(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=hm(this.serializer),i.removeTarget=t,this.q_(i)}}class VC extends g0{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Bt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Bt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Bt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=zI(t.writeResults,t.commitTime),r=Ri(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=hm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>xI(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{}class UC extends MC{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new nt(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,um(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new nt(Y.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,um(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new nt(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class kC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ir(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="RemoteStore";class LC{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Ys(this)&&(it(js,"Restarting streams for network reachability change."),await(async function(_){const y=_t(_);y.Ea.add(4),await Kl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await wh(y)})(this))}))})),this.Ra=new kC(r,l)}}async function wh(s){if(Ys(s))for(const t of s.da)await t(!0)}async function Kl(s){for(const t of s.da)await t(!1)}function p0(s,t){const i=_t(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Xm(i)?Ym(i):lo(i).O_()&&Km(i,t))}function Qm(s,t){const i=_t(s),r=lo(i);i.Ia.delete(t),r.O_()&&y0(i,t),i.Ia.size===0&&(r.O_()?r.L_():Ys(i)&&i.Ra.set("Unknown"))}function Km(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}lo(s).Y_(t)}function y0(s,t){s.Va.Ue(t),lo(s).Z_(t)}function Ym(s){s.Va=new NI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),lo(s).start(),s.Ra.ua()}function Xm(s){return Ys(s)&&!lo(s).x_()&&s.Ia.size>0}function Ys(s){return _t(s).Ea.size===0}function _0(s){s.Va=void 0}async function PC(s){s.Ra.set("Online")}async function xC(s){s.Ia.forEach(((t,i)=>{Km(s,t)}))}async function zC(s,t){_0(s),Xm(s)?(s.Ra.ha(t),Ym(s)):s.Ra.set("Unknown")}async function BC(s,t,i){if(s.Ra.set("Online"),t instanceof n0&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(r){it(js,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await rh(s,r)}else if(t instanceof zc?s.Va.Ze(t):t instanceof e0?s.Va.st(t):s.Va.tt(t),!i.isEqual(pt.min()))try{const r=await d0(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),y0(c,_);const S=new jr(A.target,_,y,A.sequenceNumber);Km(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){it(js,"Failed to raise snapshot:",r),await rh(s,r)}}async function rh(s,t,i){if(!ao(t))throw t;s.Ea.add(1),await Kl(s),s.Ra.set("Offline"),i||(i=()=>d0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{it(js,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await wh(s)}))}function v0(s,t){return t().catch((i=>rh(s,i,t)))}async function Rh(s){const t=_t(s),i=Wr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Vm;for(;qC(t);)try{const l=await AC(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,jC(t,l)}catch(l){await rh(t,l)}E0(t)&&T0(t)}function qC(s){return Ys(s)&&s.Ta.length<10}function jC(s,t){s.Ta.push(t);const i=Wr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function E0(s){return Ys(s)&&!Wr(s).x_()&&s.Ta.length>0}function T0(s){Wr(s).start()}async function HC(s){Wr(s).ra()}async function GC(s){const t=Wr(s);for(const i of s.Ta)t.ea(i.mutations)}async function FC(s,t,i){const r=s.Ta.shift(),l=zm.from(r,t,i);await v0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Rh(s)}async function QC(s,t){t&&Wr(s).X_&&await(async function(r,l){if((function(d){return II(d)&&d!==Y.ABORTED})(l.code)){const c=r.Ta.shift();Wr(r).B_(),await v0(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Rh(r)}})(s,t),E0(s)&&T0(s)}async function Wv(s,t){const i=_t(s);i.asyncQueue.verifyOperationInProgress(),it(js,"RemoteStore received new credentials");const r=Ys(i);i.Ea.add(3),await Kl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await wh(i)}async function KC(s,t){const i=_t(s);t?(i.Ea.delete(2),await wh(i)):t||(i.Ea.add(2),await Kl(i),i.Ra.set("Unknown"))}function lo(s){return s.ma||(s.ma=(function(i,r,l){const c=_t(i);return c.sa(),new OC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:PC.bind(null,s),t_:xC.bind(null,s),r_:zC.bind(null,s),H_:BC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Xm(s)?Ym(s):s.Ra.set("Unknown")):(await s.ma.stop(),_0(s))}))),s.ma}function Wr(s){return s.fa||(s.fa=(function(i,r,l){const c=_t(i);return c.sa(),new VC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:HC.bind(null,s),r_:QC.bind(null,s),ta:GC.bind(null,s),na:FC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Rh(s)):(await s.fa.stop(),s.Ta.length>0&&(it(js,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,g=new $m(t,i,d,l,c);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(s,t){if(ir("AsyncQueue",`${t}: ${s}`),ao(s))return new nt(Y.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{static emptySet(t){return new Ya(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||lt.comparator(i.key,r.key):(i,r)=>lt.comparator(i.key,r.key),this.keyedMap=yl(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ya)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ya;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(){this.ga=new ae(lt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):ft(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class no{constructor(t,i,r,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new no(t,i,Ya.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class XC{constructor(){this.queries=eE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=_t(i),c=l.queries;l.queries=eE(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(r)}))})(this,new nt(Y.ABORTED,"Firestore shutting down"))}}function eE(){return new Qs((s=>qT(s)),vh)}async function $C(s,t){const i=_t(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new YC,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Jm(d,`Initialization of query '${qa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Zm(i)}async function JC(s,t){const i=_t(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function ZC(s,t){const i=_t(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&Zm(i)}function WC(s,t,i){const r=_t(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function Zm(s){s.Ca.forEach((t=>{t.next()}))}var mm,nE;(nE=mm||(mm={})).Ma="default",nE.Cache="cache";class t2{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new no(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=no.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(t){this.key=t}}class S0{constructor(t){this.key=t}}class e2{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Nt(),this.mutatedKeys=Nt(),this.eu=jT(t),this.tu=new Ya(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new tE,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const V=l.get(A),j=Eh(this.query,S)?S:null,$=!!V&&this.mutatedKeys.has(V.key),W=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let J=!1;V&&j?V.data.isEqual(j.data)?$!==W&&(r.track({type:3,doc:j}),J=!0):this.su(V,j)||(r.track({type:2,doc:j}),J=!0,(_&&this.eu(j,_)>0||y&&this.eu(j,y)<0)&&(g=!0)):!V&&j?(r.track({type:0,doc:j}),J=!0):V&&!j&&(r.track({type:1,doc:V}),J=!0,(_||y)&&(g=!0)),J&&(j?(d=d.add(j),c=W?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(j,$){const W=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft(20277,{Rt:J})}};return W(j)-W($)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new no(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Nt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new S0(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new A0(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Nt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return no.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wm="SyncEngine";class n2{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class i2{constructor(t){this.key=t,this.hu=!1}}class r2{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Qs((g=>qT(g)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new ae(lt.comparator),this.Au=new Map,this.Ru=new jm,this.Vu={},this.mu=new Map,this.fu=eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function s2(s,t,i=!0){const r=D0(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await b0(r,t,i,!0),l}async function a2(s,t){const i=D0(s);await b0(i,t,!0,!1)}async function b0(s,t,i,r){const l=await SC(s.localStore,wi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await o2(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&p0(s.remoteStore,l),g}async function o2(s,t,i,r,l){s.pu=(S,V,j)=>(async function(W,J,ht,vt){let dt=J.view.ru(ht);dt.Cs&&(dt=await Yv(W.localStore,J.query,!1).then((({documents:C})=>J.view.ru(C,dt))));const Ft=vt&&vt.targetChanges.get(J.targetId),Zt=vt&&vt.targetMismatches.get(J.targetId)!=null,Ut=J.view.applyChanges(dt,W.isPrimaryClient,Ft,Zt);return rE(W,J.targetId,Ut.au),Ut.snapshot})(s,S,V,j);const c=await Yv(s.localStore,t,!0),d=new e2(t,c.Qs),g=d.ru(c.documents),_=Ql.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);rE(s,i,y.au);const A=new n2(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function l2(s,t,i){const r=_t(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!vh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await fm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Qm(r.remoteStore,l.targetId),gm(r,l.targetId)})).catch(so)):(gm(r,l.targetId),await fm(r.localStore,l.targetId,!0))}async function u2(s,t){const i=_t(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Qm(i.remoteStore,r.targetId))}async function c2(s,t,i){const r=y2(s);try{const l=await(function(d,g){const _=_t(d),y=ee.now(),A=g.reduce(((j,$)=>j.add($.key)),Nt());let S,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let $=rr(),W=Nt();return _.Ns.getEntries(j,A).next((J=>{$=J,$.forEach(((ht,vt)=>{vt.isValidDocument()||(W=W.add(ht))}))})).next((()=>_.localDocuments.getOverlayedDocuments(j,$))).next((J=>{S=J;const ht=[];for(const vt of g){const dt=AI(vt,S.get(vt.key).overlayedDocument);dt!=null&&ht.push(new Ks(vt.key,dt,MT(dt.value.mapValue),tr.exists(!0)))}return _.mutationQueue.addMutationBatch(j,y,ht,g)})).next((J=>{V=J;const ht=J.applyToLocalDocumentSet(S,W);return _.documentOverlayCache.saveOverlays(j,J.batchId,ht)}))})).then((()=>({batchId:V.batchId,changes:GT(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ae(Dt)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await Yl(r,l.changes),await Rh(r.remoteStore)}catch(l){const c=Jm(l,"Failed to persist write");i.reject(c)}}async function w0(s,t){const i=_t(s);try{const r=await EC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Bt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Bt(d.hu,14607):l.removedDocuments.size>0&&(Bt(d.hu,42227),d.hu=!1))})),await Yl(i,r,t)}catch(r){await so(r)}}function iE(s,t,i){const r=_t(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=_t(d);_.onlineState=g;let y=!1;_.queries.forEach(((A,S)=>{for(const V of S.Sa)V.va(g)&&(y=!0)})),y&&Zm(_)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function h2(s,t,i){const r=_t(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new ae(lt.comparator);d=d.insert(c,Xe.newNoDocument(c,pt.min()));const g=Nt().add(c),_=new Sh(pt.min(),new Map,new ae(Dt),d,g);await w0(r,_),r.du=r.du.remove(c),r.Au.delete(t),tg(r)}else await fm(r.localStore,t,!1).then((()=>gm(r,t,i))).catch(so)}async function f2(s,t){const i=_t(s),r=t.batch.batchId;try{const l=await vC(i.localStore,t);I0(i,r,null),R0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Yl(i,l)}catch(l){await so(l)}}async function d2(s,t,i){const r=_t(s);try{const l=await(function(d,g){const _=_t(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,g).next((S=>(Bt(S!==null,37113),A=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(r.localStore,t);I0(r,t,i),R0(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Yl(r,l)}catch(l){await so(l)}}function R0(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function I0(s,t,i){const r=_t(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function gm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||C0(s,r)}))}function C0(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Qm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),tg(s))}function rE(s,t,i){for(const r of i)r instanceof A0?(s.Ru.addReference(r.key,t),m2(s,r)):r instanceof S0?(it(Wm,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||C0(s,r.key)):ft(19791,{wu:r})}function m2(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(it(Wm,"New document in limbo: "+i),s.Eu.add(r),tg(s))}function tg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new lt(Jt.fromString(t)),r=s.fu.next();s.Au.set(r,new i2(i)),s.du=s.du.insert(i,r),p0(s.remoteStore,new jr(wi(Pm(i.path)),r,"TargetPurposeLimboResolution",ph.ce))}}async function Yl(s,t,i){const r=_t(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Gm.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,y){const A=_t(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(y,(V=>X.forEach(V.Es,(j=>A.persistence.referenceDelegate.addReference(S,V.targetId,j))).next((()=>X.forEach(V.ds,(j=>A.persistence.referenceDelegate.removeReference(S,V.targetId,j)))))))))}catch(S){if(!ao(S))throw S;it(Fm,"Failed to update sequence numbers: "+S)}for(const S of y){const V=S.targetId;if(!S.fromCache){const j=A.Ms.get(V),$=j.snapshotVersion,W=j.withLastLimboFreeSnapshotVersion($);A.Ms=A.Ms.insert(V,W)}}})(r.localStore,c))}async function g2(s,t){const i=_t(s);if(!i.currentUser.isEqual(t)){it(Wm,"User change. New user:",t.toKey());const r=await f0(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new nt(Y.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Yl(i,r.Ls)}}function p2(s,t){const i=_t(s),r=i.Au.get(t);if(r&&r.hu)return Nt().add(r.key);{let l=Nt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function D0(s){const t=_t(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=w0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=p2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=h2.bind(null,t),t.Pu.H_=ZC.bind(null,t.eventManager),t.Pu.yu=WC.bind(null,t.eventManager),t}function y2(s){const t=_t(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=f2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=d2.bind(null,t),t}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return _C(this.persistence,new gC,t.initialUser,this.serializer)}Cu(t){return new h0(Hm.mi,this.serializer)}Du(t){return new wC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class _2 extends sh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Bt(this.persistence.referenceDelegate instanceof ih,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tC(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new h0((r=>ih.mi(r,i)),this.serializer)}}class pm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=g2.bind(null,this.syncEngine),await KC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new XC})()}createDatastore(t){const i=bh(t.databaseInfo.databaseId),r=(function(c){return new NC(c)})(t.databaseInfo);return(function(c,d,g,_){return new UC(c,d,g,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,g){return new LC(r,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>iE(this.syncEngine,i,0)),(function(){return Jv.v()?new Jv:new RC})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,A){const S=new r2(l,c,d,g,_,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=_t(i);it(js,"RemoteStore shutting down."),r.Ea.add(5),await Kl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pm.provider={build:()=>new pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ir("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class E2{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=Om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{it(ts,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(it(ts,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Jm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Fd(s,t){s.asyncQueue.verifyOperationInProgress(),it(ts,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await f0(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function sE(s,t){s.asyncQueue.verifyOperationInProgress();const i=await T2(s);it(ts,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Wv(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Wv(t.remoteStore,l))),s._onlineComponents=t}async function T2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(ts,"Using user provided OfflineComponentProvider");try{await Fd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ja("Error using user provided cache. Falling back to memory cache: "+i),await Fd(s,new sh)}}else it(ts,"Using default OfflineComponentProvider"),await Fd(s,new _2(void 0));return s._offlineComponents}async function N0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(ts,"Using user provided OnlineComponentProvider"),await sE(s,s._uninitializedComponentsProvider._online)):(it(ts,"Using default OnlineComponentProvider"),await sE(s,new pm))),s._onlineComponents}function A2(s){return N0(s).then((t=>t.syncEngine))}async function aE(s){const t=await N0(s),i=t.eventManager;return i.onListen=s2.bind(null,t.syncEngine),i.onUnlisten=l2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=a2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=u2.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="firestore.googleapis.com",lE=!0;class uE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new nt(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=V0,this.ssl=lE}else this.host=t.host,this.ssl=t.ssl??lE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=c0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ZI)throw new nt(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O0(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new nt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new nt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new nt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ih{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new nt(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wR;switch(r.type){case"firstParty":return new DR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new nt(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=oE.get(i);r&&(it("ComponentProvider","Removing Datastore"),oE.delete(i),r.terminate())})(this),Promise.resolve()}}function S2(s,t,i,r={}){s=Al(s,Ih);const l=Hs(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(DE(`https://${g}`),NE("Firestore",!0)),c.host!==V0&&c.host!==g&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:r};if(!xs(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=Ye.MOCK_USER;else{y=GS(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new nt(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(S)}s._authCredentials=new RR(new TT(y,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Xs(this.firestore,t,this._query)}}class Oe{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Gl(i,Oe._jsonSchema))return new Oe(t,r||null,new lt(Jt.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:we("string",Oe._jsonSchemaVersion),referencePath:we("string")};class Qr extends Xs{constructor(t,i,r){super(t,i,Pm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new lt(t))}withConverter(t){return new Qr(this.firestore,t,this._path)}}function M0(s,t,...i){if(s=un(s),AT("collection","path",t),s instanceof Ih){const r=Jt.fromString(t,...i);return Tv(r),new Qr(s,null,r)}{if(!(s instanceof Oe||s instanceof Qr))throw new nt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Jt.fromString(t,...i));return Tv(r),new Qr(s.firestore,null,r)}}function b2(s,t,...i){if(s=un(s),arguments.length===1&&(t=Om.newId()),AT("doc","path",t),s instanceof Ih){const r=Jt.fromString(t,...i);return Ev(r),new Oe(s,null,new lt(r))}{if(!(s instanceof Oe||s instanceof Qr))throw new nt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Jt.fromString(t,...i));return Ev(r),new Oe(s.firestore,s instanceof Qr?s.converter:null,new lt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="AsyncQueue";class hE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new m0(this,"async_queue_retry"),this._c=()=>{const r=Gd();r&&it(cE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ls;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ao(t))throw t;it(cE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ir("INTERNAL UNHANDLED ERROR: ",fE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=$m.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ft(47125,{Pc:fE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function fE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ah extends Ih{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new hE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new hE(t),this._firestoreClient=void 0,await t}}}function w2(s,t){const i=typeof s=="object"?s:UE(),r=typeof s=="string"?s:Zc,l=hh(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=jS("firestore");c&&S2(l,...c)}return l}function U0(s){if(s._terminated)throw new nt(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||R2(s),s._firestoreClient}function R2(s){const t=s._freezeSettings(),i=(function(l,c,d,g){return new QR(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,O0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new E2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kn(Fe.fromBase64String(t))}catch(i){throw new nt(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new kn(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gl(t,kn._jsonSchema))return kn.fromBase64String(t.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:we("string",kn._jsonSchemaVersion),bytes:we("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new nt(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new nt(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new nt(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(t){if(Gl(t,Ii._jsonSchema))return new Ii(t.latitude,t.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:we("string",Ii._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gl(t,Ci._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ci(t.vectorValues);throw new nt(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ci._jsonSchemaVersion="firestore/vectorValue/1.0",Ci._jsonSchema={type:we("string",Ci._jsonSchemaVersion),vectorValues:we("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=/^__.*__$/;class C2{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Ks(t,this.data,this.fieldMask,i,this.fieldTransforms):new Fl(t,this.data,i,this.fieldTransforms)}}function k0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft(40011,{Ac:s})}}class ig{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ig({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return oh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(k0(this.Ac)&&I2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class D2{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||bh(t)}Cc(t,i,r,l=!1){return new ig({Ac:t,methodName:i,Dc:r,path:Ge.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function L0(s){const t=s._freezeSettings(),i=bh(s._databaseId);return new D2(s._databaseId,!!t.ignoreUndefinedProperties,i)}function N2(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);z0("Data must be an object, but it was:",d,r);const g=P0(r,d);let _,y;if(c.merge)_=new Jn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const V=V2(t,S,i);if(!d.contains(V))throw new nt(Y.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);U2(A,V)||A.push(V)}_=new Jn(A),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new C2(new Un(g),_,y)}class rg extends ng{_toFieldTransform(t){return new _I(t.path,new kl)}isEqual(t){return t instanceof rg}}function O2(s,t,i,r=!1){return sg(i,s.Cc(r?4:3,t))}function sg(s,t){if(x0(s=un(s)))return z0("Unsupported field value:",t,s),P0(s,t);if(s instanceof ng)return(function(r,l){if(!k0(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let _=sg(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gI(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ee.fromDate(r);return{timestampValue:nh(l.serializer,c)}}if(r instanceof ee){const c=new ee(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nh(l.serializer,c)}}if(r instanceof Ii)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kn)return{bytesValue:i0(l.serializer,r._byteString)};if(r instanceof Oe){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ci)return(function(d,g){return{mapValue:{fields:{[OT]:{stringValue:VT},[Wc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return xm(g.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${gh(r)}`)})(s,t)}function P0(s,t){const i={};return wT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fs(s,((r,l)=>{const c=sg(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function x0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ee||s instanceof Ii||s instanceof kn||s instanceof Oe||s instanceof ng||s instanceof Ci)}function z0(s,t,i){if(!x0(i)||!ST(i)){const r=gh(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function V2(s,t,i){if((t=un(t))instanceof eg)return t._internalPath;if(typeof t=="string")return B0(s,t);throw oh("Field path arguments must be of type string or ",s,!1,void 0,i)}const M2=new RegExp("[~\\*/\\[\\]]");function B0(s,t,i){if(t.search(M2)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new eg(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function oh(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new nt(Y.INVALID_ARGUMENT,g+s+_)}function U2(s,t){return s.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new k2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(ag("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class k2 extends q0{data(){return super.data()}}function ag(s,t){return typeof t=="string"?B0(s,t):t instanceof eg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new nt(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class og{}class j0 extends og{}function P2(s,t,...i){let r=[];t instanceof og&&r.push(t),r=r.concat(i),(function(c){const d=c.filter((_=>_ instanceof ug)).length,g=c.filter((_=>_ instanceof lg)).length;if(d>1||d>0&&g>0)throw new nt(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class lg extends j0{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new lg(t,i,r)}_apply(t){const i=this._parse(t);return H0(t._query,i),new Xs(t.firestore,t.converter,am(t._query,i))}_parse(t){const i=L0(t.firestore);return(function(c,d,g,_,y,A,S){let V;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new nt(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){gE(S,A);const $=[];for(const W of S)$.push(mE(_,c,W));V={arrayValue:{values:$}}}else V=mE(_,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||gE(S,A),V=O2(g,d,S,A==="in"||A==="not-in");return be.create(y,A,V)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class ug extends og{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new ug(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Wn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const _ of g)H0(d,_),d=am(d,_)})(t._query,i),new Xs(t.firestore,t.converter,am(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cg extends j0{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new cg(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new nt(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new nt(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ul(c,d)})(t._query,this._field,this._direction);return new Xs(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new oo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function x2(s,t="asc"){const i=t,r=ag("orderBy",s);return cg._create(r,i)}function mE(s,t,i){if(typeof(i=un(i))=="string"){if(i==="")throw new nt(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BT(t)&&i.indexOf("/")!==-1)throw new nt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(Jt.fromString(i));if(!lt.isDocumentKey(r))throw new nt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dv(s,new lt(r))}if(i instanceof Oe)return Dv(s,i._key);throw new nt(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gh(i)}.`)}function gE(s,t){if(!Array.isArray(s)||s.length===0)throw new nt(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function H0(s,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new nt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new nt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class z2{convertValue(t,i="none"){switch(Zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Jr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw ft(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Fs(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[Wc].arrayValue?.values?.map((r=>de(r.doubleValue)));return new Ci(i)}convertGeoPoint(t){return new Ii(de(t.latitude),de(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=_h(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const i=$r(t);return new ee(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=Jt.fromString(t);Bt(u0(r),9688,{name:t});const l=new Vl(r.get(1),r.get(3)),c=new lt(r.popFirst(5));return l.isEqual(i)||ir(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class vl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ps extends q0{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(ag("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ps._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ps._jsonSchema={type:we("string",Ps._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class Bc extends Ps{data(t={}){return super.data(t)}}class Xa{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new vl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Bc(this._firestore,this._userDataWriter,r.key,r,new vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new nt(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Bc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new vl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Bc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new vl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:q2(g.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function q2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft(61501,{type:s})}}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:we("string",Xa._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class G0 extends z2{constructor(t){super(),this.firestore=t}convertBytes(t){return new kn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function j2(s,t){const i=Al(s.firestore,ah),r=b2(s),l=B2(s.converter,t);return G2(i,[N2(L0(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,tr.exists(!1))]).then((()=>r))}function H2(s,...t){s=un(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||dE(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(dE(t[r])){const _=t[r];t[r]=_.next?.bind(_),t[r+1]=_.error?.bind(_),t[r+2]=_.complete?.bind(_)}let c,d,g;if(s instanceof Oe)d=Al(s.firestore,ah),g=Pm(s._key.path),c={next:_=>{t[r]&&t[r](F2(d,s,_))},error:t[r+1],complete:t[r+2]};else{const _=Al(s,Xs);d=Al(_.firestore,ah),g=_._query;const y=new G0(d);c={next:A=>{t[r]&&t[r](new Xa(d,y,_,A))},error:t[r+1],complete:t[r+2]},L2(s._query)}return(function(y,A,S,V){const j=new v2(V),$=new t2(A,j,S);return y.asyncQueue.enqueueAndForget((async()=>$C(await aE(y),$))),()=>{j.Nu(),y.asyncQueue.enqueueAndForget((async()=>JC(await aE(y),$)))}})(U0(d),g,l,c)}function G2(s,t){return(function(r,l){const c=new Ls;return r.asyncQueue.enqueueAndForget((async()=>c2(await A2(r),l,c))),c.promise})(U0(s),t)}function F2(s,t,i){const r=i.docs.get(t._key),l=new G0(s);return new Ps(s,l,t._key,r,new vl(i.hasPendingWrites,i.fromCache),t.converter)}function Q2(){return new rg("serverTimestamp")}(function(t,i=!0){(function(l){ro=l})(Gs),zs(new Yr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new ah(new IR(r.getProvider("auth-internal")),new NR(d,r.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new nt(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Si(pv,yv,t),Si(pv,yv,"esm2020")})();const K2={apiKey:"AIzaSyCvDMHIWybL4z4Ae81xZ-htLndmLeSSwJ8",authDomain:"test-135b0.firebaseapp.com",projectId:"test-135b0",storageBucket:"test-135b0.firebasestorage.app",messagingSenderId:"51634917778",appId:"1:51634917778:web:7836fdcd90b843bb34314b",measurementId:"G-H1Y1N3CVFR"},F0=ME(K2),lh=pR(F0),Q0=w2(F0);function Y2(){document.getElementById("btn");const s=async()=>{const t=new Ji;try{await ww(lh,t)}catch{console.error("error",code)}};return Ne.jsx("button",{id:"btn",onClick:s,children:"sign in"})}function X2({message:s}){return Ne.jsxs("div",{className:"message-cont",children:[Ne.jsx("img",{className:"profile",src:s.photoURL,alt:""}),Ne.jsx("p",{children:s.text})]})}function $2(){const s=M0(Q0,"messages"),[t,i]=Xn.useState(""),r=async l=>{l.preventDefault();const{uid:c,photoURL:d}=lh.currentUser;try{const g=await j2(s,{text:t,createdAt:Q2(),uid:c,photoURL:d});console.log("message send")}catch(g){console.error("error print:",g)}i("")};return Ne.jsx("div",{children:Ne.jsxs("form",{onSubmit:r,children:[Ne.jsx("input",{type:"text",onChange:l=>{i(l.target.value)},placeholder:"Message Here"}),Ne.jsx("button",{type:"submit",children:"Send"})]})})}var pE={};const yE="@firebase/data-connect",_E="0.3.11";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch="";function J2(s){Ch=s}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,i){this.appCheckProvider=i,Mn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(r=>this.appCheck=r).catch()}getToken(){return this.serverAppAppCheckToken?Promise.resolve({token:this.serverAppAppCheckToken}):this.appCheck?this.appCheck.getToken():new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken().then(t,i):t(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln={OTHER:"other",ALREADY_INITIALIZED:"already-initialized",INVALID_ARGUMENT:"invalid-argument",PARTIAL_ERROR:"partial-error",UNAUTHORIZED:"unauthorized"};class vn extends Oi{constructor(t,i){super(t,i),this.name="DataConnectError",Object.setPrototypeOf(this,vn.prototype)}toString(){return`${this.name}[code=${this.code}]: ${this.message}`}}class W2 extends vn{constructor(t,i){super(Ln.PARTIAL_ERROR,t),this.name="DataConnectOperationError",this.response=i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=new ch("@firebase/data-connect");function Kr(s){K0.debug(`DataConnect (${Ch}): ${s}`)}function xl(s){K0.error(`DataConnect (${Ch}): ${s}`)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(t,i,r){this._appName=t,this._options=i,this._authProvider=r,this._auth=r.getImmediate({optional:!0}),this._auth||r.onInit(l=>this._auth=l)}getToken(t){return this._auth?this._auth.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(Kr("Got auth/token-not-initialized error.  Treating as null token."),null):(xl("Error received when attempting to retrieve token: "+JSON.stringify(i)),Promise.reject(i))):new Promise((i,r)=>{setTimeout(()=>{this._auth?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this._auth?.addAuthTokenListener(t)}removeTokenChangeListener(t){this._authProvider.get().then(i=>i.removeAuthTokenListener(t)).catch(i=>xl(i))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc="query",ym="SERVER",Qd="CACHE";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc;function eD(s){qc=s}eD(s=>JSON.stringify(s));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(s,t,i){s.has(t)||s.set(t,i)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(s,t,i){return function(){return{data:t,refInfo:{name:s.name,variables:s.variables,connectorConfig:{projectId:s.dataConnect.app.options.projectId,...s.dataConnect.getSettings()}},fetchTime:Date.now().toLocaleString(),source:i}}}class iD{constructor(t){this.transport=t,this._queries=new Map}track(t,i,r){const l={name:t,variables:i,refType:Nc},c=qc(l),d={ref:l,subscriptions:[],currentCache:r||null,lastError:null};return nD(this._queries,c,d),this._queries.get(c)}addSubscription(t,i,r,l){const c=qc({name:t.name,variables:t.variables,refType:Nc}),d=this._queries.get(c),g={},_=()=>{const y=this._queries.get(c);y.subscriptions=y.subscriptions.filter(A=>A!==g)};if(l&&d.currentCache!==l&&(Kr("Initial cache found. Comparing dates."),(!d.currentCache||d.currentCache&&rD(d.currentCache.fetchTime,l.fetchTime))&&(d.currentCache=l)),d.currentCache!==null){const y=d.currentCache.data;i({data:y,source:Qd,ref:t,toJSON:vE(t,d.currentCache.data,Qd),fetchTime:d.currentCache.fetchTime}),d.lastError!==null&&r&&r(void 0)}return d.subscriptions.push({userCallback:i,errCallback:r,unsubscribe:_}),d.currentCache||(Kr(`No cache available for query ${t.name} with variables ${JSON.stringify(t.variables)}. Calling executeQuery.`),this.executeQuery(t).then(void 0,A=>{})),_}executeQuery(t){if(t.refType!==Nc)throw new vn(Ln.INVALID_ARGUMENT,"ExecuteQuery can only execute query operation");const i=qc({name:t.name,variables:t.variables,refType:Nc}),r=this._queries.get(i);return this.transport.invokeQuery(t.name,t.variables).then(d=>{const g=new Date().toString(),_={...d,source:ym,ref:t,toJSON:vE(t,d.data,ym),fetchTime:g};return r.subscriptions.forEach(y=>{y.userCallback(_)}),r.currentCache={data:d.data,source:Qd,fetchTime:g},_},d=>{throw r.lastError=d,r.subscriptions.forEach(g=>{g.errCallback&&g.errCallback(d)}),d})}enableEmulator(t,i){this.transport.useEmulator(t,i)}}function rD(s,t){const i=new Date(s),r=new Date(t);return i.getTime()<r.getTime()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il={Base:"Base",Generated:"Generated"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(s,t){const{connector:i,location:r,projectId:l,service:c}=s,{host:d,sslEnabled:g,port:_}=t;let S=`${g?"https":"http"}://${d||"firebasedataconnect.googleapis.com"}`;if(typeof _=="number")S+=`:${_}`;else if(typeof _<"u")throw xl("Port type is of an invalid type"),new vn(Ln.INVALID_ARGUMENT,"Incorrect type for port passed in!");return`${S}/v1/projects/${l}/locations/${r}/services/${c}/connectors/${i}`}function EE(s,t){if(!t)return s;const i=new URL(s);return i.searchParams.append("key",t),i.toString()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TE=globalThis.fetch;function aD(s,t){let i="gl-js/ fire/"+Ch;return t!==Il.Base&&t!==Il.Generated?i+=" js/"+t.toLowerCase():(s||t===Il.Generated)&&(i+=" js/gen"),i}function AE(s,t,{signal:i},r,l,c,d,g,_){if(!TE)throw new vn(Ln.OTHER,"No Fetch Implementation detected!");const y={"Content-Type":"application/json","X-Goog-Api-Client":aD(d,g)};l&&(y["X-Firebase-Auth-Token"]=l),r&&(y["x-firebase-gmpid"]=r),c&&(y["X-Firebase-AppCheck"]=c);const S={body:JSON.stringify(t),method:"POST",headers:y,signal:i};return Hs(s)&&_&&(S.credentials="include"),TE(s,S).catch(V=>{throw new vn(Ln.OTHER,"Failed to fetch: "+JSON.stringify(V))}).then(async V=>{let j=null;try{j=await V.json()}catch(W){throw new vn(Ln.OTHER,JSON.stringify(W))}const $=oD(j);if(V.status>=400)throw xl("Error while performing request: "+JSON.stringify(j)),V.status===401?new vn(Ln.UNAUTHORIZED,$):new vn(Ln.OTHER,$);return j}).then(V=>{if(V.errors&&V.errors.length){const j=JSON.stringify(V.errors),$={errors:V.errors,data:V.data};throw new W2("DataConnect error while performing request: "+j,$)}return V})}function oD(s){return"message"in s?s.message:JSON.stringify(s)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(t,i,r,l,c,d,g=!1,_=Il.Base){this.apiKey=i,this.appId=r,this.authProvider=l,this.appCheckProvider=c,this._isUsingGen=g,this._callerSdkType=_,this._host="",this._location="l",this._connectorName="",this._secure=!0,this._project="p",this._accessToken=null,this._appCheckToken=null,this._lastToken=null,this._isUsingEmulator=!1,this.invokeQuery=(j,$)=>{const W=new AbortController;return this.withRetry(()=>AE(EE(`${this.endpointUrl}:executeQuery`,this.apiKey),{name:`projects/${this._project}/locations/${this._location}/services/${this._serviceName}/connectors/${this._connectorName}`,operationName:j,variables:$},W,this.appId,this._accessToken,this._appCheckToken,this._isUsingGen,this._callerSdkType,this._isUsingEmulator))},this.invokeMutation=(j,$)=>{const W=new AbortController;return this.withRetry(()=>AE(EE(`${this.endpointUrl}:executeMutation`,this.apiKey),{name:`projects/${this._project}/locations/${this._location}/services/${this._serviceName}/connectors/${this._connectorName}`,operationName:j,variables:$},W,this.appId,this._accessToken,this._appCheckToken,this._isUsingGen,this._callerSdkType,this._isUsingEmulator))},d&&(typeof d.port=="number"&&(this._port=d.port),typeof d.sslEnabled<"u"&&(this._secure=d.sslEnabled),this._host=d.host);const{location:y,projectId:A,connector:S,service:V}=t;if(y&&(this._location=y),A&&(this._project=A),this._serviceName=V,!S)throw new vn(Ln.INVALID_ARGUMENT,"Connector Name required!");this._connectorName=S,this.authProvider?.addTokenChangeListener(j=>{Kr(`New Token Available: ${j}`),this._accessToken=j}),this.appCheckProvider?.addTokenChangeListener(j=>{const{token:$}=j;Kr(`New App Check Token Available: ${$}`),this._appCheckToken=$})}get endpointUrl(){return sD({connector:this._connectorName,location:this._location,projectId:this._project,service:this._serviceName},{host:this._host,sslEnabled:this._secure,port:this._port})}useEmulator(t,i,r){this._host=t,this._isUsingEmulator=!0,typeof i=="number"&&(this._port=i),typeof r<"u"&&(this._secure=r)}onTokenChanged(t){this._accessToken=t}async getWithAuth(t=!1){let i=new Promise(r=>r(this._accessToken));return this.appCheckProvider&&(this._appCheckToken=(await this.appCheckProvider.getToken())?.token),this.authProvider?i=this.authProvider.getToken(t).then(r=>r?(this._accessToken=r.accessToken,this._accessToken):null):i=new Promise(r=>r("")),i}_setLastToken(t){this._lastToken=t}withRetry(t,i=!1){let r=!1;return this.getWithAuth(i).then(l=>(r=this._lastToken!==l,this._lastToken=l,l)).then(t).catch(l=>{if("code"in l&&l.code===Ln.UNAUTHORIZED&&!i&&r)return Kr("Retrying due to unauthorized"),this.withRetry(t,!0);throw l})}_setCallerSdkType(t){this._callerSdkType=t}}class uD{constructor(t){this._transport=t,this._inflight=[]}executeMutation(t){const i=this._transport.invokeMutation(t.name,t.variables),r=i.then(c=>({...c,source:ym,ref:t,fetchTime:Date.now().toLocaleString()}));this._inflight.push(i);const l=()=>this._inflight=this._inflight.filter(c=>c!==i);return i.then(l,l),r}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="FIREBASE_DATA_CONNECT_EMULATOR_HOST";function hD(s){const[t,i]=s.split("://"),r=t==="https",[l,c]=i.split(":"),d=Number(c);return{host:l,port:d,sslEnabled:r}}class fD{constructor(t,i,r,l){if(this.app=t,this.dataConnectOptions=i,this._authProvider=r,this._appCheckProvider=l,this.isEmulator=!1,this._initialized=!1,this._isUsingGeneratedSdk=!1,this._callerSdkType=Il.Base,typeof process<"u"&&pE){const c=pE[cD];c&&(Kr("Found custom host. Using emulator"),this.isEmulator=!0,this._transportOptions=hD(c))}}_useGeneratedSdk(){this._isUsingGeneratedSdk||(this._isUsingGeneratedSdk=!0)}_setCallerSdkType(t){this._callerSdkType=t,this._initialized&&this._transport._setCallerSdkType(t)}_delete(){return sb(this.app,"data-connect",JSON.stringify(this.getSettings())),Promise.resolve()}getSettings(){const t=JSON.parse(JSON.stringify(this.dataConnectOptions));return delete t.projectId,t}setInitialized(){this._initialized||(this._transportClass===void 0&&(Kr("transportClass not provided. Defaulting to RESTTransport."),this._transportClass=lD),this._authProvider&&(this._authTokenProvider=new tD(this.app.name,this.app.options,this._authProvider)),this._appCheckProvider&&(this._appCheckTokenProvider=new Z2(this.app,this._appCheckProvider)),this._initialized=!0,this._transport=new this._transportClass(this.dataConnectOptions,this.app.options.apiKey,this.app.options.appId,this._authTokenProvider,this._appCheckTokenProvider,void 0,this._isUsingGeneratedSdk,this._callerSdkType),this._transportOptions&&this._transport.useEmulator(this._transportOptions.host,this._transportOptions.port,this._transportOptions.sslEnabled),this._queryManager=new iD(this._transport),this._mutationManager=new uD(this._transport))}enableEmulator(t){if(this._initialized&&!dD(this._transportOptions,t))throw xl("enableEmulator called after initialization"),new vn(Ln.ALREADY_INITIALIZED,"DataConnect instance already initialized!");this._transportOptions=t,this.isEmulator=!0}}function dD(s,t){return s.host===t.host&&s.port===t.port&&s.sslEnabled===t.sslEnabled}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(s){J2(Gs),zs(new Yr("data-connect",(t,{instanceIdentifier:i,options:r})=>{const l=t.getProvider("app").getImmediate(),c=t.getProvider("auth-internal"),d=t.getProvider("app-check-internal");let g=r;if(i&&(g=JSON.parse(i)),!l.options.projectId)throw new vn(Ln.INVALID_ARGUMENT,"Project ID must be provided. Did you pass in a proper projectId to initializeApp?");return new fD(l,{...g,projectId:l.options.projectId},c,d)},"PUBLIC").setMultipleInstances(!0)),Si(yE,_E,s),Si(yE,_E,"esm2020")}mD();function gD(){const[s]=AR(lh),t=M0(Q0,"messages"),i=P2(t,x2("createdAt","asc")),[r,l]=Xn.useState([]);Xn.useEffect(()=>{const d=H2(i,g=>{const _=[];g.forEach(y=>{const A=y.data();_.push({id:y.id,text:A.text,uid:A.uid,photoURL:A.photoURL})}),l(_)});return()=>d()},[]),Xn.useEffect(()=>{console.log("this is the usestate for message",r)});function c(){console.log("this is the usestate for message",r)}return Ne.jsx(Ne.Fragment,{children:s?Ne.jsxs("div",{children:[Ne.jsx("button",{className:"sign-out",onClick:()=>lh.signOut(),children:"Sign Out"}),Ne.jsx("div",{className:"chatroom",children:r.map(d=>Ne.jsx(X2,{message:d},d.id))}),Ne.jsx($2,{}),Ne.jsx("button",{onClick:c,children:"messagstate"})]}):Ne.jsx(Y2,{})})}MS.createRoot(document.getElementById("root")).render(Ne.jsx(Xn.StrictMode,{children:Ne.jsx(gD,{})}));
